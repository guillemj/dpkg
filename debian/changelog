dpkg (1.21.10) UNRELEASED; urgency=medium

  *

 -- Guillem Jover <guillem@debian.org>  Fri, 01 Jul 2022 11:42:58 +0200

dpkg (1.21.9) unstable; urgency=medium

  [ Guillem Jover ]
  * dpkg-deb: Add support for --threads-max and DPKG_DEB_THREADS_MAX.
    Prompted by vv221 on IRC.
  * Perl modules:
    - Dpkg::Source::Package::V2: Always fix the permissions for upstream
      tarballs. Closes: #1012195
    - Dpkg::BuildFlags: Document optimize feature area.
  * Documentation:
    - man: Clarify that statoverrides do not need to be known to dpkg.
      Closes: #1011510
    - man: Expand Protected and Essential field use cases. Closes: #1008780
    - doc: Rename frontend.txt to frontend-api.txt.
    - doc: Move specifications under doc/spec.
    - man: Add references to rootless-builds.txt spec.
  * Code internals:
    - libdpkg: Refactor command actions for compression.
  * Build system:
    - Split the test-runner into its own script.

  [ Helge Kreutzmann ]
  * Localization:
    - Update German man pages translation.
    - Update German scripts translation.

 -- Guillem Jover <guillem@debian.org>  Fri, 01 Jul 2022 11:25:58 +0200

dpkg (1.21.8) unstable; urgency=medium

  [ Guillem Jover ]
  * dpkg-statoverride: Add support for --force-not-root. Closes: #1009069
    Based on a patch by John Spencer <maillist-dpkg@barfooze.de>.
  * dpkg: Fix «De-configuring» message to allow configuration to use new
    version.
  * Perl modules:
    - Dpkg::Source::Archive: Prevent directory traversal for in-place extracts.
      Reported by Max Justicz <max@justi.cz>. Fixes CVE-2022-1664.
    - Dpkg::Substvars: Add support for optional substvars assigned with ?=.
  * Documentation:
    - man: Reference deb-substvar(5) from dpkg-source(1) and dpkg-shlibdeps(1).
    - man: Structure and clarify deb-substvars(5).
      Prompted by Niels Thykier <niels@thykier.net>.
  * Build system:
    - Unhook dist-cpan from make dist target.
  * Packaging:
    - Silence warning about merged-usr-via-aliased-dirs on Ubuntu.
    - Remove useless [] around tr sets.
  * Localization:
    - Update Dutch translations. Closes: #1010031, #1010032, #1010033
      Thanks to Frans Spiesschaert <Frans.Spiesschaert@yucom.be>.
    - Update Portuguese man pages translations. Closes: #1011095
      Thanks to Américo Monteiro <a_monteiro@gmx.com>.

  [ Helge Kreutzmann ]
  * Localization:
    - Update German man pages translation.

 -- Guillem Jover <guillem@debian.org>  Wed, 25 May 2022 10:39:29 +0200

dpkg (1.21.7) unstable; urgency=medium

  - The “Social Contract §3: We will not hide problems”
    and “Persuasion through bullying and abuse” release. -

  [ Guillem Jover ]
  * dpkg-fsys-usrunmess: Handle /lib/modules itself also being untracked.
    Closes: #1008764
  * Documentation:
    - man: Fix typo. Thanks to Peter Krefting <peter@softwolves.pp.se>.
      See #1008706.
  * Packaging:
    - Silence warning about merged-usr-via-aliased-dirs on Debian.
  * Localization:
    - Fix gettext parameter reordering syntax for German translation.
      Closes: #1008671
    - Update Swedish translations.
      Thanks to Peter Krefting <peter@softwolves.pp.se>. Closes: #1008706

  [ Helge Kreutzmann ]
  * Localization:
    - Update German man pages translation.

 -- Guillem Jover <guillem@debian.org>  Fri, 01 Apr 2022 02:27:33 +0200

dpkg (1.21.6) unstable; urgency=medium

  - This also clears a bullying NMU. -

  [ Guillem Jover ]
  * Documentation:
    - man: Document untracked kernel module files handling in
      dpkg-fsys-usrunmess(8).

 -- Guillem Jover <guillem@debian.org>  Tue, 29 Mar 2022 11:56:58 +0200

dpkg (1.21.5) unstable; urgency=medium

  [ Guillem Jover ]
  * dpkg-fsys-usrunmess: Explicitly set user/group and mode for created dirs.
    Closes: #1008478
  * dpkg-fsys-usrunmess: Set a known umask before starting. See #1008478.
  * dpkg-fsys-usrunmess: Special case untracked kernel module files.
    Closes: #1008316
  * Perl modules:
    - Dpkg::Control::Types: Use bit shifts instead of literals in enum.
    - Dpkg::Control::Fields: Fix field_register() to return nothing.
    - Dpkg::Control::Fields: Refactor manifest types into new
      ALL_FILE_MANIFEST.
    - Dpkg::Control::Fields: Fix POD to end sentences with a dot.
    - Dpkg::Control::Fields: Fix POD to add missing spaces and blank lines.
    - Dpkg::Control::Fields: Document and clarify return types and values in
      POD.
  * Code internals:
    - libdpkg: Rename f_revision() to f_obs_revision().
    - libdpkg: Warn when parsing obsolete Recommended/Optional/Class fields.
      Prompted by David Kalnischkies <donkult@debian.org>.
    - libdpkg: Add missing dependency type to obsolete dependency fields.
    - libdpkg: Update code comment for obsolete fields.
  * Test suite:
    - Add test cases for obsolete fields.

  [ Helge Kreutzmann ]
  * Localization:
    - Update German man pages translation.

 -- Guillem Jover <guillem@debian.org>  Tue, 29 Mar 2022 02:52:14 +0200

dpkg (1.21.4) unstable; urgency=medium

  [ Guillem Jover ]
  * dpkg-shlibdeps: Require non-empty name and version in SONAME formats.
  * Perl modules:
    - Dpkg::Control::Fields: Remove duplicate *Built-Using from field order
      lists. Reported by David Kalnischkies <donkult@debian.org>.
  * Documentation:
    - man: Clarify uses cases for Static-Built-Using.
      Prompted by Shengjing Zhu <zhsj@debian.org>.
  * Test suite:
    - Use actual octal numbers for chmod() calls.
    - Do not use non-POSIX shell syntax for arithmetic expressions.
      Based on a patch by Sören Tempel <soeren@soeren-tempel.net>.

  [ Helge Kreutzmann ]
  * Localization:
    - Update German man pages translation.

 -- Guillem Jover <guillem@debian.org>  Sat, 26 Mar 2022 13:38:44 +0100

dpkg (1.21.3) unstable; urgency=medium

  [ Helge Kreutzmann ]
  * Localization:
    - Update German man pages translation.
    - Update German scripts translation.

  [ Guillem Jover ]
  * dpkg-db-backup: Check for required commands before starting.
  * dpkg: Allow absolute pathnames for configurable external run-time tools.
    Based on a patch by Adrian Ho <the.gromgit@gmail.com>. Closes: #1007816
  * dpkg-fsys-usrunmess: Add options and prompt about regression prevention
    package. Prompted by Paul Wise <pabs@debian.org>.
  * dpkg-deb: Move duped control member check inside the detection conditional.
  * dpkg-deb: Fix movecontrol() to take a directory argument.
  * dselect: Remove non-multi-cd code from multi_cd method.
  * dselect: Rename multicd method to media.
  * dselect: Remove left overs for mount support from disk method.
  * dselect: Remove bogus quote escaping from method setup scripts.
  * dselect: Rename disk method to file.
  * scripts: Use backport-version-regex vendor hook instead of hardcoding the
    marker.
  * Perl modules:
    - Dpkg::Source::Package::V3::Git: Name bundle remote as bundle.
    - Dpkg::Source::Package::V3::Git: Set origin remote to Vcs-Git if present.
    - Dpkg::Path: Resolve /dev/null before comparing canonicalized pathnames.
    - Dpkg::Compression: Conditionally use the gzip --rsyncable option.
    - Dpkg::Compression: Use gzip -n instead of --no-name.
    - Dpkg::Vendor: Add a new backport-version-regex hook.
    - Dpkg::Control::Fields: Add Static-Built-Using field support.
  * Documentation:
    - man: Clarify Built-Using field purpose and format.
  * Code internals:
    - libdpkg: Refactor file_is_exec().
    - libdpkg: Check that executables are regular files.
    - dpkg-fsys-usrunmess: Refactor prompting into a new function.
    - dpkg: Rename r variable to remainder.
  * Packaging:
    - Clarify the merged-usr-via-aliased-dirs warning.
      Prompted by Paul Wise <pabs@debian.org>.
    - Sync original bug-script merged-usr warning with postinst updates.
  * Test suite:
    - Check deb format with duplicate debian-binary and control.tar members.
    - Add further deb-split format checks.
    - Place deb-old and deb checks on their own test groups.
    - Check all currently supported deb-old formats.
  * Localization:
    - Update Portuguese man pages translation.
      Thanks to Américo Monteiro <a_monteiro@gmx.com>. Closes: #1001915

 -- Guillem Jover <guillem@debian.org>  Thu, 24 Mar 2022 21:00:24 +0100

dpkg (1.21.2) unstable; urgency=medium

  [ Guillem Jover ]
  * dpkg: Fix memory leak in remove-on-upgrade handling.
  * dpkg-deb: Fix unexpected end of file conditions on .deb extract.
  * Use anchor links for the dpkg FAQ URLs.
  * update-alternatives: Do not skip --config with a single entry.
    Reported by David Kalnischkies <donkult@debian.org>.
  * update-alternatives: Refactor alternative_install().
  * update-alternatives: Use intermediate variables when parsing actions.
  * update-alternatives: Clarify option parse errors by printing the wrong
    values.
  * update-alternatives: Clarify bad usage message by enclosing in angles and
    quoting arguments.
  * dpkg-buildpackage: Switch terse make from -s to --no-print-directory.
    Closes: #1003164
  * scripts: Unify deprecated command-line option warnings.
  * dpkg-source: Fix alternate changelog file usage with 2.0 and 3.0 formats.
    Reported by Umut <ue16@gmx.de> (on IRC).
  * update-alternatives: Use the target timestamp when the symlink does not
    exist. Closes: #1004557
  * dselect: Handle window resizes in help and menu screens. Closes: #382307
  * dselect: Do not beep on key press errors in method and package list
    windows. Closes: #533639
  * dselect: Add support for --instdir.
  * Perl modules:
    - Dpkg::Control::FieldsCore: Sort control type entries in %FIELD_ORDER.
    - Dpkg::Control::FieldsCore: Refactor Vcs fields into a common variable.
    - Dpkg::Control::FieldsCore: Refactor testsuite fields into a common
      variable.
    - Dpkg::Control::FieldsCore: Accept Architecture as a debian/tests/control
      field.
    - Dpkg::Control::FieldsCore: Add missing allowed fields for (In)Release
      files.
    - Dpkg::Control::FieldsCore: Add field order for all control types.
    - Dpkg::Index: Switch key function for control tests to be a stanza index.
      Reported by Paul Gevers <elbrus@debian.org>.
    - Dpkg::Source::Package: Only generate the patch header if needed.
      Prompted by Umut <ue16@gmx.de> (on IRC).
    - Dpkg::Source::Package: Use File::Spec instead of ad-hoc concatenation.
  * Documentation:
    - man: Mention on what actions triggers get processed in dpkg(1).
      Closes: #1001010
    - man: Clarify that dpkg-divert --list pattern is optional.
      Thanks to наб <nabijaczleweli@nabijaczleweli.xyz>. Closes: #1001761
    - man: Use «main» git branch in examples.
    - man: Markup each individual element independently.
    - man: Refer to the relevant maintscript actions explicitly.
    - man: Add a missing preposition to deb-preinst(5).
    - man: Do not hardcode DPKG_ADMINDIR in update-alternatives.
    - man: Document that update-alternatives honors DPKG_ROOT.
    - man: Clarify --admindir and --instdir default values.
      Reported by Johannes Schauer Marin Rodrigues <josch@debian.org>.
  * Code internals:
    - libdpkg: Check that cip is not NULL before dereferencing it.
    - libdpkg: Add missing symbols to the version map.
    - libdpkg: Use the amount of available memory instead phys_mem/2.
      Thanks to Sebastian Andrzej Siewior <sebastian@breakpoint.cc>.
    - libdpkg: Refactor liblzma memlimit and cputhreads getters.
    - libdpkg: Dynamically allocate the buffers for de/compression I/O.
    - libdpkg: Increase I/O memory buffers from 4 to 32 KiB.
    - libdpkg: Pass struct compress_params as the first argument.
    - libdpkg: Pass struct compress_params to decompressors.
    - libdpkg: Refactor pkg_format_print() out from pkg_format_show().
    - libdpkg: Do not restrict source:* virtual fields to installed packages.
      Closes: #1004372
    - libdpkg: Do not allow argv with no arguments.
    - update-alternatives: Refactor alternative_has_broken_symlink().
    - update-alternatives: Move symlink removal inside fsys_symlink().
    - update-alternatives: Move filename generation outside alternative setup.
    - dselect: Rework windows resize to be signal safe.
    - scripts: Expand long word list into one entry per line.
    - scripts/mk: Remove unneeded conditionals.
      Thanks to Nicolas Boulenguez <nicolas@debian.org>.
    - scripts/mk: Indent code in Makefile fragments.
      Thanks to Nicolas Boulenguez <nicolas.boulenguez@free.fr>.
  * Build system:
    - Terminate lists in variables with «# EOL».
    - Move build helper tools into build-aux/.
    - Reorganize dpkg programs source code under src/.
    - Move autotest suite under src/.
    - Move C test suite machinery into lib/dpkg/.
    - Fix relocated autotest test suite runner.
    - Fix gitignore for build-aux/ directory.
    - Namespace Config variable usage.
      Reported by Павловец Сергей Николаевич
      <s.pavlovets@ivcmf.by>.
    - Add gitlab CI test for shared library building.
    - Link all programs against libcompat.
      Prompted by Jörg Sonnenberger <joerg@NetBSD.org>.
    - Remove unused TESTDATA variable from autotest suite.
    - Rework TAP check hooking into the autotools machinery.
    - Move EXTRA_DIST close to the files it is acting on.
    - Refactor autotest dependencies into a new variable.
    - Refactor autotest machinery into an automake include file.
    - Fold autotest test suite machinery into src/ from src/at/.
    - Rename do_path_subst to do_make_subst.
    - Factor out installation variable substitution into a new subst.am file.
    - Move shell scripts into src/.
    - Make AS_TR_* calls more clear.
    - Support compression library names with dashes.
    - Add zlib-ng support.
    - Rename HAVE_LZMA_MT to HAVE_LZMA_MT_ENCODER.
    - Move zsh completion under a subdirectory.
    - Switch sed pseudo-in-place replace invocations with copy then move.
    - Add comment about «sed -i» not being portable.
      Prompted by Nicolas Boulenguez <nicolas@debian.org>.
    - Mark libcompat and libdpkg as internal components in changelog.
    - Support specifying previous and next tags to gen-changelog.
    - Use non-capturing groups in regex in gen-changelog.
    - Do not hardcode «main» section for title check in gen-changelog.
    - Use sort flag instead of hardcoding the section in gen-changelog.
    - Do not put localization entries on their own changelog group.
  * Packaging:
    - Ignore directories for the alternatives state fixup. Closes: #1001695
    - Update bug-script to clarify usrmerge systems are unsupported.
    - Install aclocal m4 files into libdpkg-dev.
    - Install optional localized man pages with dh_installman.
    - Add a new not-installed file.
    - Switch to use the dh sequencer.
    - Make TESTSUITEFLAGS extensible.
    - Pass -jN to autotools autotest test suite via TESTSUITEFLAGS.
    - Update lintian overrides.
    - Use dpkg-error.sh in postinst.
    - Warn in postinst about merged-/usr-via-aliased-dirs breakage.
  * Test suite:
    - Move AT_TESTED to testsuite.at.
    - Run the tools with --version.
    - Rename DPKG_GEN_FILE to DPKG_GEN_CTRL_FILE.
    - Refactor control file template generation.
    - Rewrite dpkg-realpath test from TAP to autotest.
    - Rewrite dpkg-divert test from TAP to autotest.
    - Remove now unused TAP tests support from src/.
    - Print field type name instead of id in test case description.
    - Add new pkg-format unit tests.
    - Fix test_command_exec program invocation.
      Thanks to Sören Tempel <soeren+git@soeren-tempel.net>.
    - Use a temporary file instead of unportable «sed -i».
      Prompted by Nicolas Boulenguez <nicolas@debian.org>.
    - Add test case for SOURCE_DATE_EPOCH.
      Thanks to Nicolas Boulenguez <nicolas@debian.org>.
    - Use «each» instead of «keys» and value fetching.
      Thanks to Nicolas Boulenguez <nicolas@debian.org>.
  * Localization:
    - Remove previous msgid for non-fuzzy translations.
    - Update Catalan translations.
    - Update Dutch translation. Closes: #1003671, #1003672, #1003673
      Thanks to Frans Spiesschaert <Frans.Spiesschaert@yucom.be>.
    - Update Swedish translations. Closes: #1003799, #1007116
      Thanks to Peter Krefting <peter@softwolves.pp.se>.

  [ Sven Joachim ]
  * Localization:
    - Update German dselect translation.
    - Update German programs translation.

  [ Helge Kreutzmann ]
  * Localization:
    - Update German man pages translation.
    - Update German scripts translation.

 -- Guillem Jover <guillem@debian.org>  Sun, 13 Mar 2022 20:17:35 +0100

dpkg (1.21.1) unstable; urgency=medium

  [ Guillem Jover ]
  * dpkg-buildpackage: Remove duplicate command print for dpkg-genchanges.
  * dpkg-buildpackage: Fix build description due to improper multiline match.
  * dpkg-realpath: Remove spurious heading space from --help output.
  * update-alternatives: When initializing admindir from DPKG_ADMINDIR append
    "/alternatives". Closes: #1001198
  * Code internals:
    - Remove <ar.h> inclusions.
  * Packaging:
    - Install deb-md5sums(5) into dpkg-dev package.

 -- Guillem Jover <guillem@debian.org>  Mon, 06 Dec 2021 21:04:18 +0100

dpkg (1.21.0) unstable; urgency=medium

  [ Guillem Jover ]
  * dpkg-genchanges: Include orig tarball on source package renames.
    Closes: #980066
  * scripts: Consider SHA-1 and RIPEMD-160 weak algorithms in OpenPGP
    signatures.
  * dpkg: During unpack print a removal message due to Conflicts.
    Closes: #985401
  * scripts: Add zsh completions for dpkg-parsechangelog.
    Thanks to Daniel Shahaf <danielsh@apache.org>. Closes: #986103
  * dpkg-buildpackage: When printing build type match the extension exactly.
    Closes: #989824
  * dpkg-maintscript-helper: Use xargs -I argument instead of deprecated -i.
  * dpkg-maintscript-helper: Quote variable inside ${} to avoid pattern match.
  * libdpkg: Fix dpkg_fsys_get_path() to always strip leading / and ./.
  * libdpkg: Set the default database directory relative to the system root.
  * dpkg-divert, dpkg-statoverride: Set admindir after instdir.
  * update-alternatives: Fix admindir setting.
    Prompted by Johannes Schauer Marin Rodrigues <josch@debian.org>.
  * dselect: Honor DPKG_ADMINDIR environment variable.
  * dpkg-query, dpkg-trigger, dselect: Add support for setting the root
    directory.
  * dpkg-fsys-usrunmess: Move forced reconfiguration to the last step.
    See #991190.
  * dpkg-fsys-usrunmess: Install a local policy-rc.d to ignore service
    restarts. Closes: #991190
  * dpkg-fsys-usrunmess: Do not fail when removing lingering directories.
  * dpkg-fsys-usrunmess: Generate a regression prevention package.
  * dpkg-fsys-usrunmess: Fix typo in debug message.
  * dpkg: Distinguish deconfiguration message for installation and multi-arch
    syncs.
  * dpkg-buildpackage: Add new --changes-file option.
    Prompted by Niels Thykier <niels@thykier.net>.
  * dpkg-buildpackage: Add new --buildinfo-file option.
  * dpkg: Rework --assert-<feature> logic to be more robust.
    Prompted by Helmut Grohne <helmut@subdivi.de>.
    Prompted by David Kalnischkies <donkult@debian.org>.
  * dpkg: Improve --assert-<feature> descriptions.
  * dpkg: Add a new --assert-help option.
  * scripts/mk: Pass DEB_BUILD_PATH to dpkg-buildflags. See #985553.
  * dpkg-db-backup: New program factored out from Debian-specific daily cron.
  * dpkg-db-backup: Accept an option to override the number of rotation cycles.
  * dpkg-db-backup: Honor the admindir set at configure time.
  * update-alternatives: Fix --auto and --set-selections output progress.
  * update-alternatives: Print defaults for configuration and database
    pathnames.
  * scripts: Replace shebang in dpkg-error shell library with shellcheck
    directive.
  * dpkg-buildpackage: Add support for terse DEB_BUILD_OPTIONS.
  * dpkg-mergechangelogs: Add new --merge-unreleased option. Closes: #582921
  * dpkg: Restore fallback to "new-prerm failed-upgrade" for downgrades.
    Analysis by Ian Jackson <ijackson@chiark.greenend.org.uk>. Closes: #996959
  * dselect: Use safe temporary file creation in methods setup.
  * dselect: Remove bashism from update script in multicd method.
  * dpkg: Fix --verify to handle missing or inaccessible pathnames.
    Closes: #963087
  * dpkg: Add partial --verify support for mode checks.
  * Use «digest» instead of «hash» in output messages.
    Reported by Sven Joachim <svenjoac@gmx.de>.
  * dselect: use `grep -E` instead of `egrep`.
    Thanks to Ville Skyttä <ville.skytta@iki.fi>. Closes: #999600
  * libdpkg: Fix memory leak on End Of Tape condition in tar parser.
  * dpkg: Fix short lived memory leak with --recursive.
  * dpkg: Fix conffile removal-on-upgrade handling. Closes: #995387
  * dpkg-deb: Fix conffile name length tracking on remove-on-upgrade parsing.
    Reported by uau on IRC.
  * Architecture support:
    - Clarify that the regex columns need to be ordered to match first.
    - Add support for ARCv2 CPU. Closes: #980963
      Based on a patch by Alexey Brodkin <Alexey.Brodkin@synopsys.com>.
  * Portability:
    - start-stop-daemon: Define SOCK_NONBLOCK to 0 if not defined.
    - libdpkg: Add support for AIX to dpkg_get_progname().
  * Perl modules:
    - Dpkg::Source::Quilt: Add hint to check missing files on patch apply
      failures.
      Reported by Joseph Nahmias <jello@debian.org>.
    - Dpkg::Changelog::Parse: Require format plugins to inherit from
      Dpkg::Changelog.
    - Dpkg::OpenPGP: Refactor openpgp implementation execution into a new
      function.
    - Dpkg::Vendor::Debian: Refactor compiler flag names into an array.
    - Dpkg::Vendor::Debian: Add new lto feature in new optimize area.
      Closes: #940571
    - Test::Dpkg: Print actual error messages in test_neutralize_checksums().
    - Dpkg::Deps: Use current_sub feature for __SUB__.
    - Dpkg::BuildFlags: Add support for ASFLAGS.
      See https://salsa.debian.org/debian/debhelper/-/merge_requests/50.
    - Dpkg::Compression: Use gzip --rsyncable unconditionally.
    - Dpkg::Changelog::Entry::Debian: Fix full month misuse warning.
    - Dpkg::Shlibs::Symbol: Emit a warning on fully qualified symver patterns.
      Closes: #993991
    - Dpkg::Control::HashCore: Add new keep_duplicate option.
    - Dpkg::Control::FieldsCore: Add new field_parse_binary_source().
      Closes: #980527
    - Dpkg::Control::FieldsCore: Fix types allowed for
      field_parse_binary_source().
      Reported by Johannes Schauer Marin Rodrigues <josch@debian.org>.
    - Dpkg::Shlibs::Objdump: Fix apply_relocations to work with versioned
      symbols. Closes: #1000421
    - Dpkg::Vendor::Ubuntu: Update Maintainer field logic to include
      “canonical”. Based on a patch by
      William 'jawn-smith' Wilson <william.wilson@canonical.com>.
      Closes: #1000557
    - Dpkg::Source::Package::V2: Add hint about version matching source tree.
      Based on a patch by Samuel Henrique <samueloph@debian.org>.
      Closes: #996044
  * Documentation:
    - man: Itemize dpkg-gensymbols -c levels.
    - man: Add man page for deb-md5sums(5).
      Reported by Maxim Cournoyer (on IRC).
    - man: Switch the Architecture field in deb-control(5) to required.
      Reported by Maxim Cournoyer (on IRC).
    - man: Make clear that dpkg-query arguments accept multiple values.
      Prompted by Rémi Rampin <remirampin@gmail.com>. See #913781.
    - man: Document dpkg-query --search and --listfiles output formats.
    - doc: Fix incorrect use of ‘an’ article.
    - doc: Update coding style to document POD instead of troff.
    - doc: Update THANKS file.
    - doc: Annotate current maintainer start year.
    - doc: Sort maintenance information chronologically.
    - man: Add versions since features where introduced.
    - man: Further clarify when re-inclusions of excluded pathnames happen.
      Closes: #871420
    - doc: Update Doxygen configuration from version 1.9.1.
    - doc: Improve description of dpkg suite.
      Prompted by Fabrice Bauzac-Stehly <noon@mykolab.com>.
    - man: Add a reference to where the Installed-Size algorithm is described.
    - man: Improve dpkg --verify-format rpm format documentation.
    - man: Document in deb-substvars(5) what ${} is good for.
      Prompted by Paul Wise <pabs@debian.org>.
    - man: Document in dpkg-architecture(1) target being useful for emulators
      too. Prompted by Helmut Grohne <helmut@subdivi.de>.
    - man: Document in dpkg-query(1) full --search and --listfiles output
      format. Prompted by Johannes Schauer Marin Rodrigues <josch@debian.org>.
  * Code internals:
    - Remove irrelevant or obsolete FIXME markers.
    - Turn FIXME markers denoting pending actions into TODO markers.
    - Turn FIXME markers giving historic information into simple Notes.
    - update-alternatives: Turn FIXME for explicit behavior choice into an XXX.
    - Use localtime_r() instead of localtime().
    - libdpkg: Remove MDEBUG support from m_malloc() implementation.
    - libdpkg: Mark dpkg_arch_unmark() arch_remove argument as const.
    - libdpkg: Mark treewalk_open() func argument as const.
    - dpkg: Mark ignore_depends() pkg argument as const.
    - dpkg: Mark deb_parse_conffiles() pkg argument as const.
    - libcompat: Remove local setexecfilecon() and require libselinux 2.3.
    - libdpkg: Add missing DPKG_{BEGIN,END}_DECLS in header files.
    - dpkg: Move SELinux function declarations into its own header file.
    - dpkg: Move the command action enum to its own header file.
    - dpkg: Switch from including "main.h" to "force.h".
    - dselect: Rename dme() to display_menu_entry().
    - dpkg: Split function handling deconfiguration due to install and removal.
    - libdpkg: Add new ACTION_MUX macro for continued options.
    - dpkg: Refactor --assert-<feature> handling to be data driven.
    - dpkg-fsys-usrunmess: Do not use interpolated strings for literals.
    - dpkg-db-backup: Add a license header comment.
  * Build system:
    - Fallback to $^X and 'perl' if $Config{perlpath} is unset or empty.
    - Bump minimal Perl version to 5.28.1.
    - Remove redundant localedir and pkgconfdir initializations.
    - Check for libsocket.
    - Do not set have_libmd on the found branch in AC_SEARCH_LIBS.
    - Switch DPKG_FUNC_C99_SNPRINTF from AC_LANG_SOURCE to AC_LANG_PROGRAM.
    - Check whether fsync(3) works on directories.
    - Remove obsolete AC_HEADER_STDC.
    - Detect appropriate sed program at configure time.
    - Rename DPKG_DEB_PROG_TAR to DPKG_PROG_TAR.
    - Parametrize the backups directory with a configure option.
    - Add a check for symlinks in the git repository.
    - Rename shell scripts to .sh.
    - Switch from hardcoded /run to parametrized runstatedir.
    - Use new Dpkg::Control keep_duplicate option in gen-changelog.
    - Use title-case for field in gen-changelog.
    - Execute run-script via CONFIG_SHELL.
      Reported by Larkin Nickle <me@larbob.org>.
    - Quote variables containing pathnames in m4 macros.
    - Add support for commit message fix up machinery in gen-changelog.
  * Packaging:
    - Use absolute pathnames in .install debhelper fragments.
    - Remove unused dh_installcron call for arch-indep targets.
    - Add support for a native systemd timer. Closes: #985444
    - Create auotpkgtest installation directory.
    - Bump Standards-Version to 4.6.0 (no changes needed).
  * Test suite:
    - Pass --ignore-builtin-builddeps to dpkg-buildpackage.
    - Use can_run() instead of find_command().
    - Add descriptions to makefile test runners.
    - Add unit tests for architecture bijective mapping property.
    - Suppress cppcheck constParameter check.
    - Suppress bogus cppcheck for nullPointerRedundantCheck.
    - Mark external sourced shell files for checking.
    - Ignore new shellcheck checks.
    - Remove shipped dpkg database.
    - Add re-inclusion of symlink case to t-filtering. See #871420.
    - Generate symlink during test build time.
    - Remove superfluous long filename.
    - Refactor parse_ctrl() from parse_dsc().
    - Update codespell stopwords.

  [ Helge Kreutzmann ]
  * deb-md5sums.pod: Fix typo.

  [ Add programs translations ]
  * Occitan (Quentin PAGÈS).

  [ Update dselect translations ]
  * German (Sven Joachim).

  [ Update man pages translations ]
  * German (Helge Kreutzmann).

  [ Update programs translations ]
  * German (Sven Joachim).
  * Polish (Marcin Owsiany, Łukasz Dulny).

  [ Update scripts translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Sun, 05 Dec 2021 16:32:45 +0100

dpkg (1.20.8) unstable; urgency=medium

  [ Guillem Jover ]
  * start-stop-daemon: Open the --output file in append mode.
  * dpkg: Fix --auto-deconfigure for essential and protected during
    installation. Reported by Julian Andres Klode <jak@debian.org>.
    See #983014.
  * dpkg-realpath: Fix resolution for absolute symlinks on «/».
    Closes: #983855
  * dpkg-realpath: Fix symlink loop tracker.
  * Perl modules:
    - Test::Dpkg: Fix test data path fetching on CPAN.
    - Dpkg::Exit: Preserve exit code in END block.
  * Build system:
    - Group Test::Dpkg changelog entries into “Perl modules” section.
  * Packaging:
    - Run autopkgtest test suites in verbose mode.
  * Test suite:
    - Set PERL in the perl test suite.
    - Use gunzip instead of zcat and assume it might not be present.
    - Mock dpkg and gcc for architecture detection code.
    - Initialize DEB_BUILD_ARCH and DEB_HOST_ARCH to avoid computing them.
    - Update suppressions for cppcheck 2.4.

  [ Update man pages translations ]
  * Dutch (Frans Spiesschaert). Closes: #981884
  * German (Helge Kreutzmann).
  * Portuguese (Américo Monteiro). Closes: #980018

  [ Update programs translations ]
  * Dutch (Frans Spiesschaert). Closes: #981882

  [ Update scripts translations ]
  * German (Helge Kreutzmann). Closes: #983865

 -- Guillem Jover <guillem@debian.org>  Tue, 13 Apr 2021 22:17:05 +0200

dpkg (1.20.7) unstable; urgency=medium

  [ Guillem Jover ]
  * libdpkg: Do not consider the database locked with a missing lock file.
    Reported by David Kalnischkies <donkult@debian.org>.
  * Documentation:
    - man: Clarify and expand information on dpkg-realpath(1) man page.
      Closes: #979564
  * Packaging:
    - Update copyright notices in debian/copyright.
    - Bump Standards-Version to 4.5.1 (no changes required).
  * Test suite:
    - On as-root mode do not use sudo if already running as root.
    - Print WARN instead of FAIL for maintscript fd leaks.

  [ Update man pages translations ]
  * German (Helge Kreutzmann).

  [ Update programs translations ]
  * German (Sven Joachim).

 -- Guillem Jover <guillem@debian.org>  Sat, 09 Jan 2021 00:59:45 +0100

dpkg (1.20.6) unstable; urgency=medium

  [ Guillem Jover ]
  * libdpkg: Fix undefined behavior in varbuf functions.
    Reported by KOLANICH <kolan_n@mail.ru>.
  * libdpkg: Fix memory leaks in tar_extractor().
  * libdpkg: Fix memory leak in trigger deferred processing.
    Reported by KOLANICH <kolan_n@mail.ru>.
  * libdpkg: Fix memory leak in filesystem treewalk node free function.
  * libdpkg: Fix memory leak in filesystem treewalk iterator.
  * libdpkg: Fix single-instance memory leak with fsys dir.
  * libdpkg: Fix short-lived memory leaks.
  * libdpkg: Reset error context errmsg after free().
  * dpkg: Fix memory leak for cidir.
    Reported by KOLANICH <kolan_n@mail.ru>.
  * dpkg: Fix short-lived memory leak in --force-help output.
    Based on a patch by KOLANICH <kolan_n@mail.ru>.
  * dpkg-deb: Fix single-instance memory leak on missing conffiles control
    file.
  * dpkg-divert: Fix short-lived memory leaks.
  * dpkg-realpath: Add new -z, --zero option.
    Requested by Johannes Schauer <josch@debian.org>.
  * dpkg-deb: Make decompression error message more descriptive.
    Closes: #968442
  * dpkg-architecture: Add a --print-format option.
    Prompted by #968963.
  * dpkg-buildpackage: Warn on known R³ values in uppercase.
    Reported by Niels Thykier <niels@thykier.net>.
  * dpkg-buildpackage: Error out on R³ "yes" value.
    Requested by Niels Thykier <niels@thykier.net>.
  * dpkg-buildpackage: Clarify R³ keyword diagnostic messages.
  * dpkg-deb, dpkg-split: Fix time handling to support 64-bit time.
  * libdpkg: Check that the ar archive time is within bounds.
  * libdpkg: Ignore not-installed packages for source related virtual fields.
    Closes: #972580
  * libdpkg: Make source version parsing more robust on missing data.
    See #972580.
  * libdpkg: Do not forget not-installed packages that are set on hold.
    Reported by David Kalnischkies <donkult@debian.org>.
  * update-alternatives: Fix memory leaks for alternative database context on
    load errors.
  * update-alternatives: Fix short-lived memory leaks for alternative structs.
  * update-alternatives: Fix memory leaks with new_choice.
  * update-alternatives: Fix short-lived memory leaks for log_file and admdir.
  * dpkg-buildflags: Add support for DFLAGS. Closes: #975896
  * dpkg-parsechanaglog: Document --file in --help output.
  * libdpkg: Fix allocation size wrap around when growing a varbuf.
  * dpkg-query: Do not print database loading progress. Closes: #977240
  * Rename taint tag to merged-usr-via-aliased-dirs.
  * dpkg-buildflags: Enable reproducible=fixfilepath by default.
    Thanks to Vagrant Cascadian <vagrant@reproducible-builds.org>.
    See https://lists.debian.org/debian-devel/2020/10/msg00222.html.
    Closes: #974087
  * start-stop-daemon: Move umask setup before any file has been created.
  * start-stop-daemon: Add a new --output option to redirect stderr and stdout.
  * dpkg-maintscript-helper: Do not pass DPKG_ROOT prefixed pathmames to
    dpkg-realpath.
  * dpkg: When removing old files check the pathname with diversion and
    instdir.
  * dpkg-realpath: Make 'link includes root prefix' error more verbose.
  * libdpkg: Make sure we do not walk on rootless trees.
  * dpkg: Fix incorrect logic around printing dependency warnings.
    Thanks to Jessica Clarke <jrtc27@debian.org>.
    Reported by Helmut Grohne <helmut@subdivi.de>.
  * Support remove-on-upgrade conffile flag via DEBIAN/conffiles.
    Based on a patch by Niels Thykier <niels@thykier.net>. Closes: #822462
  * dpkg-fsys-usrunmess: New program.
  * Perl modules:
    - Dpkg::Index: Add new item_opts option.
    - Dpkg::Exit: Fix exit handler on program termination. Closes: #966083
    - Dpkg::Changelog::Entry::Debian: Fix format string.
      Prompted by #967911.
    - Dpkg::Changelog::Parse: Add new verbose option.
      Prompted by #967911.
    - Dpkg::Changelog::Parse: Document 'label' option.
    - Dpkg::Source::Package::V1: Print a message when verifying tarball
      signatures.
    - Dpkg::Path: Fix pathname traversal check for symlinks. Closes: #971203
    - Dpkg::Source::Package: Honor no_check for directory traversal checks.
      See #971203.
    - Dpkg::Source::Package: Call syserr() instead of syserror().
      Reported by Drew Parsons <dparsons@debian.org>.
      See #849752. Closes: #976249
    - Dpkg::Path: Check first whether the files are the same by comparing
      string-wise. Closes: #849752
    - Dpkg::OpenPGP: Refactor gpg armor code into its own function.
  * Documentation:
    - man: Fix typo in --print-unset option reference.
      Reported by Ferenc Wágner <wferi@debian.org>. Closes: #966110
    - man: Clarify that dpkg-architecture uses some of its own variables.
      Closes: #966111
    - man: Fix casing and namespacing in VARIABLES definitions.
    - man: Fix typo in dpkg-source(1).
      Thanks to Paul Wise <pabs@debian.org>.
    - man: Add a reference to deb-symbols(5) in deb-src-symbols(5) DESCRIPTION.
      Prompted by #970083.
    - man: Specify that symbol, version and id are separated by a single
      whitespace. Closes: #970083
    - man: Clarify day-of-month format in deb-changelog(5).
      Reported by Axel Beckert <abe@debian.org>.
      See #971977.
    - man: Update update-alternatives maintainer script usage information.
      Prompted by Niels Thykier <niels@thykier.net>.
    - man: Switch to use L<> markup for URLs instead of B<>.
    - doc, man: Clarify that R³ values are case sensitive.
      Prompted by Niels Thykier <niels@thykier.net>.
    - man: Add references to deb822(5) to file formats based on it.
      Prompted by Niels Thykier <niels@thykier.net>.
    - man: Clarify config-files state in dpkg(1).
      Prompted by Stuart Prescott <stuart@debian.org>.
    - man: Fix typos.
    - man: Hyphenate multiple words in deb-override(5) format description.
    - man: Uppercase acronyms and logic operators.
    - man: Empty or whitespace-only lines in deb-conffiles(5) are not accepted.
  * Code internals:
    - libcompat, dpkg: Stop using deprecated security_context_t data type.
    - update-alternatives: Refactor alternative database context freeing into a
      new function.
    - libdpkg: Do not define the clamp macro when compiling C++ code.
      Reported by Helmut Grohne <helmut@subdivi.de>.
    - libdpkg: Replace FSF address by pointing to the gnu.org URL.
    - libdpkg: Initialize pkgbin's newhash to NULL.
      Prompted by Steinar H. Gunderson <sesse@debian.org>.
    - libdpkg: Use memset() instead of open-coding struct blanking.
      Prompted by Steinar H. Gunderson <sesse@debian.org>.
    - Do not call fsys_hash_init() before command actions.
      Prompted by Steinar H. Gunderson <sesse@debian.org>.
    - libdpkg: Fix m_pipe() function definition prototype to match declaration.
    - libdpkg: Refactor new str_rtrim_spaces().
      Based on a patch by Niels Thykier <niels@thykier.net>.
    - dpkg: Call fsys_hash_find_node() outside tar_fsys_namenode_queue_push().
    - Use a conffilename variable to track the actual conffile name in the
      buffer.
      Thanks to Niels Thykier <niels@thykier.net>.
  * Build system:
    - Add new gen-changelog tool.
    - Pre-process the curses header before parsing it. Closes: #970545
    - Fix variable substitution in man pages.
      Reported by Niels Thykier <niels@thykier.net>. Closes: #978983
    - Add a README.cpan to be installed as README in the CPAN distribution.
    - Do not try to use <sys/sysctl.h> on GNU/Linux.
    - Fix «make distcheck» for man pages.
    - Update GitLab CI configuration to use built-in functional test suite.
    - Make it possible to override PKGDATADIR on built scripts too.
    - Disable umask to 0 for Docker executor in GitLab CI.
    - Disable functional test suite debug mode on GitLab CI.
    - Sort po4a entries in po4a.cfg.
  * Packaging:
    - Do not fail the bug-script if readlink fails. Closes: #968397
    - Improve cron file robustness on missing or empty backup files.
      Closes: #969472
    - Use AUTOPKGTEST_TMP instead of writing into the source tree.
    - Hook the functional test suite into autopkgtest.
    - Remove trailing comma from lintian profile file.
    - Do not hardcode libdpkg-perl dependency on perl:any.
      Thanks to Sven Joachim <svenjoac@gmx.de>.
  * Test suite:
    - Fix short lived memory leaks in unit tests.
    - Print the ehandle unit test error output on verbose mode.
    - Improve dpkg-divert test to output stdout and stderr.
    - Use intermediate variable for directory traversal item iteration.
    - Refactor root handling in Dpkg::Path unit tests.
    - Refactor test verbose check into an inline function.
    - Make it possible to include test.h from benchmarks.
    - Disable hash reports in benchmark tests unless verbose.
    - Add support for basic test try/catch/finally keywords.
    - Merge the dpkg-tests.git repository into tests/.
    - Update merged functional test suite assumptions.
    - Remove redundant test cases from the functional test suite.
    - Remove source package building support from functional test suite.
    - When using DPKG_BUILDTREE add scripts/ to DPKG_PATH.

  [ Add man pages translations ]
  * Portuguese (Américo Monteiro). Closes: #964751

  [ Update dselect translations ]
  * Dutch (Frans Spiesschaert). Closes: #968294
  * French (Didier Vidal). Closes: #964749

  [ Update man pages translations ]
  * Dutch (Frans Spiesschaert). Closes: #968743
  * German (Helge Kreutzmann).

  [ Update programs translations ]
  * Dutch (Frans Spiesschaert). Closes: #968744
  * German (Sven Joachim).

  [ Update scripts translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Fri, 08 Jan 2021 04:39:40 +0100

dpkg (1.20.5) unstable; urgency=medium

  [ Guillem Jover ]
  * Revert change to prefix the specs file spec string self_spec with +
    instead of *. The prefix is supposed to go in the text itself
    instead of the spec name, which already had it. This change only
    apparently fixed the issue at hand because gcc started parsing it as
    the «[SUFFIX]:» case, completely disabling the PIE handling.
    Thanks to Thorsten Glaser <tg@mirbsd.de>.
  * Perl modules:
    - Dpkg::Source::Package::V1: Explicitly initialize constructor options to
      their implicit values, otherwise other code end up assuming different
      defaults. This is required here too as this class does not call the
      initialization from its parent.
  * Build system:
    - Detect the GNU program variants for make, patch and tar in the CPAN
      distribution to replace in the Dpkg module.
    - Set DEB_BUILD_ARCH to a dummy “amd64” in the CPAN distribution tests
      to not require a dpkg(1) in the system.
  * Test suite:
    - Only print the Dpkg::Path::check_directory_traversal() error on failure.

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Wed, 08 Jul 2020 05:40:39 +0200

dpkg (1.20.4) unstable; urgency=medium

  [ Guillem Jover ]
  * Improve PIE flags support:
    - Prefix the specs file spec string self_spec with + instead of *.
      This way we do not override any previous setting, otherwise when
      passing the -specs options twice (f.ex. to compile and link), only the
      last one will take effect, which can break the build. Closes: #870383
  * Perl modules:
    - Dpkg::Source::Package: Explicitly initialize constructor options to
      their implicit values, otherwise other code end up assuming different
      defaults. Closes: #964017
    - Dpkg::OpenPGP: Use a temporary directory for the GnuPG homedir in
      verify_signature(), to make sure we do not write to the user home
      directory, except for the trustkeys.db file if present.
    - Dpkg::Path: Refactor new check_directory_traversal() function out of
      Dpkg::Source::Package->extract().
    - Dpkg::Path: Do not do partial matches for directory traversal checks,
      expect a trailing slash after the base directory name.
    - Dpkg::Path: Catch uncanonicanizable pathnames with a proper error.
      Closes: #964111
    - Dpkg::Path: Do not consider missing symlink targets a directory
      traversal attempt. Closes: #964234
    - Dpkg::Path: Allow /dev/null for directory traversals.
      Reported by Holger Levsen <holger@layer-acht.org>.
  * Build system:
    - Add Module::Signature as configure recommends for CPAN.
  * Test suite:
    - Use File::Path::make_path() instead of chained mkdir() in Dpkg_Path.t.
    - Add unit tests for Dpkg::Path::check_directory_traversal().

  [ Updated programs translations ]
  * German (Sven Joachim).

 -- Guillem Jover <guillem@debian.org>  Tue, 07 Jul 2020 07:57:48 +0200

dpkg (1.20.3) unstable; urgency=medium

  [ Guillem Jover ]
  * Perl modules:
    - Dpkg::OpenPGP: Pass --no-options to gpg in verify_signature().
      Reported by Bertrand Marc <bmarc@debian.org>. Closes: #963839
    - Dpkg::Build::Info: Clarify by giving context to the
      get_build_env_whitelist() deprecation warning. Closes: #963844
      Reported by Sven Joachim <svenjoac@gmx.de>.
    - Dpkg::Source::Package: Fix check_original_tarball_signature() to make
      import_key() honor require_valid_signature, which should default to
      false. Reported by Mattia Rizzolo <mattia@debian.org>.
    - Dpkg::OpenPGP: Use a temporary directory for the GnuPG homedir in
      import_key(), to make sure we do not write to the user home directory,
      which might be read-only or non-existent. Closes: #963944
      Reported by Mattia Rizzolo <mattia@debian.org>.
  * Code internals:
    - libdpkg: Print a notice if we cannot write to the log file.
  * Build system:
    - Improve error diagnosis for configure version fetching script.
      Prompted by Norbert Preining <norbert@preining.info>.

  [ Updated programs translations ]
  * German (Sven Joachim).

 -- Guillem Jover <guillem@debian.org>  Mon, 29 Jun 2020 12:37:51 +0200

dpkg (1.20.2) unstable; urgency=medium

  * dpkg: Do not include the architecture with --robot --version.
  * update-alternatives: Create alternatives directory (/etc/alternatives)
    if it is missing, to help with installation bootstrapping.
    Reported by Johannes Schauer <josch@debian.org>.
  * update-alternatives: Create the log directory if it is missing.
  * Perl modules:
    - Dpkg::Source::Package: Turn the missing expected tarball signature
      error into a warning for now, as it is causing unintended fallout,
      and does not play nice (yet) with tarballs repackaged by uscan(1).
      Closes: #963821
  * Code internals:
    - update-alternatives: Move log_msg() after make_path() so that we can use
      the latter.
    - update-alternatives: Add new xstrndup() and xdirname() functions.
  * Build system:
    - Set SHELL in the test environment.
    - Do not fail if po4a is not found, and search for it just once.
    - Fix name and section generation for translated man pages. This caused
      pod2man to get an empty --name argument and not output anything,
      resulting in generating empty man pages. Closes: #963794
  * Packaging:
    - Sort debian/dpkg-dev.manpages.
    - Install deb-src-symbols(5) in dpkg-dev package.

 -- Guillem Jover <guillem@debian.org>  Sun, 28 Jun 2020 00:42:11 +0200

dpkg (1.20.1) unstable; urgency=medium

  [ Guillem Jover ]
  * Fix dpkg logging regression introduced in 1.20.0:
    - libdpkg: Use varbuf member .used instead of .size in log_message(),
      to avoid printing garbage.
    - libdpkg: Open the log file as write-only instead of read-only.
    Thanks to Roderich Schupp <roderich.schupp@gmail.com>. Closes: #953684
  * Unify and cleanup Makefile fragment files comments, including information
    about version of introduction.
  * Add new buildopts.mk Makefile fragment to support parsing DEB_BUILD_OPTIONS
    options with arguments, such as “parallel” as DEB_BUILD_OPTION_PARALLEL.
  * dpkg-genchanges: Handle empty Date fields from parsed debian/changelog.
    Based on a patch by Baptiste BEAUPLAT <lyknode@cilg.org>. Closes: #956321
  * dpkg-source: Check that debian/tests/control has the required fields.
    Prompted by Felix Lechner <felix.lechner@lease-up.com>.
  * dpkg-deb, dpkg: Do not accept relative pathnames in DEBIAN/conffiles.
    Reported by Niels Thykier <niels@thykier.net>.
  * dpkg-split: Fix off-by-one check in ar header padding, that was making
    parsing error out on valid archives. Regression introduced in dpkg 1.18.8.
  * libdpkg: Fix error message for ending version character in dependency
    parser:
    - Move the version unterminated case before the catchall.
    - Print the actual wrong character and print what is expected.
  * libdpkg: Do not use econtext->errmsg on out of context abort, as it might
    be uninitialized.
  * update-alternatives: Set the umask to 022 on program start.
    Reported by Paul Wise <pabs@debian.org>.
  * dpkg-parsechangelog: Fix --show-field for multiline fields. We were not
    stripping trailing whitespace, and were not prefixing empty lines with
    a ‘.’, like when printing with the field names.
    Reported by Paul Wise <pabs@debian.org>.
  * dpkg: Add a new --robot option to be used with --version.
  * dpkg, dpkg-query: Document missing options in --help output.
  * Unify ellipsis formatting in programs --help output.
  * Add Protected field support.
  * dpkg-realpath: New program, to be used by dpkg-maintscript-helper, and
    any maintainer script that needs a realpath that can handle pathnames
    relative to the dpkg root directory.
  * dpkg-realpath: Add support for DPKG_ROOT.
    Thanks to Helmut Grohne <helmut@subdivi.de>.
  * dpkg-realpath: Add support for --root and --instdir options.
  * dpkg-maintscript-helper: Add support for DPKG_ROOT:
    - Add DPKG_ROOT support for conffiles.
      Thanks to David Kalnischkies <david@kalnischkies.de>.
    - Add DPKG_ROOT support for symlink to and from directory switches.
      Based on a patch by Bastien ROUCARIÈS <roucaries.bastien@gmail.com>.
    Closes: #832176
  * update-alternatives: Add DPKG_ROOT support, and new --root and --instdir
    options. Closes: #871808
  * Portability:
    - libdpkg: When using uselocale(), include <xlocale.h> for locale_t if
      the header is available. Needed on BSDs.
      Reported by Sirio Balmelli <sirio@b-ad.ch>.
  * Perl modules:
    - Dpkg: Add a LICENSE section to the POD.
    - Dpkg::Source::Package: Add new get_upstream_signing_key() method.
    - Dpkg::Source::Package: Check missing expected tarball signatures.
    - Dpkg::Source::Package::V1: Check version format matching source format.
    - Dpkg::Vendor::Debian: Add debian-nonupload.gpg keyring.
      Thanks to Taowa Munene-Tardif <taowa@debian.org>. Closes: #956055
    - Dpkg::Vendor::Debian: Detect merged-usr-via-symlinks also with absolute
      pathnames. Reported by Adam Borowski <kilobyte@angband.pl>.
    - Dpkg::Build::Info: Avoid whitelist in function name.
    - Dpkg::Shlibs::SymbolFile: Avoid blacklist and whitelist terms.
  * Documentation:
    - man: Fix misused two-fonts macros.
      Thanks to Bjarni Ingi Gislason <bjarniig@rhi.hi.is>. Closes: #955028
    - man: Trim trailing whitespace from output.
      Thanks to Bjarni Ingi Gislason <bjarniig@rhi.hi.is>. Closes: #955030
    - man: Mention that dpkg(1) does not provide all back-end interfaces.
      Prompted by Elana Hashman <ehashman@debian.org>.
    - man: Clarify and fix file formats SYNOPSIS.
    - man: Clarify that deb-control(5) is a subset of deb-src-control(5).
      Closes: #958229
    - man: Unify warning and note admonitions formatting.
    - man: Remove useless commented out macros.
    - man: Fix unbalanced quotes in macro arguments.
    - man: Specify the indentation level for all following .IP macros, not
      just the first one.
    - man: Use .TP macros instead of hand-crafted formatting.
    - man: Fix font markup for some variable and literal strings.
    - dpkg-maintscript-helper: Add -?, --help and --version to --help output.
    - man: Fix apt and aptitude references.
      Reported by Helge Kreutzmann <debian@helgefjell.de>.
    - man: Mark commands (eval) in bold and quote library names (libgcc).
      Reported by Helge Kreutzmann <debian@helgefjell.de>.
    - man: Use UTF-8 quotes instead of ancient groff register variables.
    - man: Use literal double quotes instead of groff escape sequences.
    - man: Clarify that we resolve bug reports not bug report numbers.
      Reported by Helge Kreutzmann <debian@helgefjell.de>.
    - man: Clarify POSIX shell eval command usage in dpkg-architecture(1).
    - man: Use item lists instead of verbatim or hand-crafted formatting.
    - man: Do not use verbatim formatting for text that is not an example.
    - man: Markup examples explicitly with .EX/.EE.
    - man: Fix indentation for a note admonition in dpkg-scansources(1).
    - man: Document that a 3.0 (quilt) patch cannot create or modify symlinks.
      Thanks to Johannes Schauer <josch@debian.org>.
    - man: Reword text to reduce length in verbatim code block.
    - man: Add semicolons before verbatim code blocks.
    - man: Update dselect methods provided. Several got removed in 1.20.0.
    - man: The Installed-Size field does not get its value from du(1) since
      1.18.0.
    - man: Fix dpkg-gencontrol -P description to not refer to dpkg-source.
      Reported by Jakub Wilk <jwilk@jwilk.net>.
    - man: Place description of override value column on its own paragraph.
    - man: Surround markup within verbatim blocks with .nf/.fi.
    - man: Balance font markup.
    - man: Do not nest font markup.
    - man: Use .ig/.. macros to disable text instead of commenting it out.
    - man: Do not mark end of sentence period with bold.
    - man: Add a missing comma after man page reference in SEE ALSO section.
    - man: Convert man pages from roff to POD.
    - man: Clarify the dpkg --no-act admonition.
    - man: Avoid whitelist term in dpkg-source man page.
  * Code internals:
    - Use $() in shell or qx() in perl instead of ``.
    - dpkg-split: Switch part number variables from unsigned int to int.
    - scripts: Refactor shell error handling into a shell library
    - Reformat shell code to follow the coding style.
    - update-alternatives: Parametrize option names in output strings.
    - update-alternatives: Move logging function close to output functions.
    - update-alternatives: Move argument parsing functions close to main().
    - update-alternatives: Add general purpose non-failing functions for
      administrative directory access.
    - update-alternatives: Add filesystem abstraction functions.
  * Build system:
    - Handle .git being a plain file when getting the dpkg tree version.
    - Add debian/changelog as a Changes file to the CPAN distribution.
    - Set DPKG_SERIES to 1.20.x when running the functional test suite.
    - When using po4a require at least po4a 0.59. Change the po4a --porefs
      argument from no longer supported “noline,wrap” to “file”, as wrapping
      is the default since po4a 0.58. We require po4a 0.59 as 0.58 had a
      regression in its --srcdir support.
    - Switch to set the po4a addendum in the po4a_paths section instead of
      repeating it for each man page.
    - Use po4a conditional addendum support, and remove empty addenda.
    - Use po4a mode=eof support in addenda.
    - Do not use make prerequisites on suffix rule definitions.
      Closes: #961850
    - Add man page number suffixes to the automake SUFFIXES variable.
    - Update false positive suppressions for cppcheck 2.1.
    - Install specifications and API contracts in docdir.
    - Add support for switching man pages from roff to POD format.
    - Fix shell files substitution for version variable.
  * Packaging:
    - Switch to debhelper compatibility level 13.
    - Remove debian/tmp prefix from manpages debhelper fragment files.
    - Handle missing localized man pages gracefully.
    - Install AUTHORS, THANKS, usertags, README.api and
      README.feature-removal-schedule only in dpkg.deb.
    - Rename debian/usertags to debian/README.bug-usertags.
    - Install specifications to /usr/share/doc/dpkg/ in the dpkg-dev package.
    - Detect merged-usr-via-symlinks also with absolute pathnames in
      bug-script. Reported by Adam Borowski <kilobyte@angband.pl>.
  * Test suite:
    - Rename deb-content test cases to make them more descriptive.
    - Skip autogenerated files from codespell.

  [ Updated programs translations ]
  * German (Sven Joachim).
  * Simplified Chinese (Boyuan Yang). Closes: #958437

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Sat, 27 Jun 2020 02:41:48 +0200

dpkg (1.20.0) experimental; urgency=medium

  [ Guillem Jover ]
  * libdpkg: Do not generate a backup file for the available database.
    Closes: #343578
  * perl: Switch Getopt::Long from bundling to bundling_values. This means
    the few scripts using Getopt::Long will stop accepting options in the
    form «-ab» for «-a -b», which is not future-proof, as it does not allow
    these options to get new arguments without making them ambiguous.
  * dpkg-buildpackage: Remove transient backwards R³ compatibility code.
  * buildtools.mk: Add support for nostrip in DEB_BUILD_OPTIONS when setting
    the STRIP variable.
  * dpkg-genbuildinfo: Do not include irrelevant packages in the Binary field.
  * dpkg: Do not clear selections for unknown packages. Closes: #927752
  * dpkg-shlibdeps: Add support for new Build-Depends-Packages, to be able
    to specify multiple packages. Closes: #926669
    Based on a patch by Frank Schaefer <kelledin@gmail.com>.
  * perl: Remove support for versioned GnuPG 2 program and packages.
  * libdpkg: Clarify lock contender error message. Print the PID of the lock
    contender, and add a warning explaining that removing the lock file is
    never the correct solution.
  * dpkg-genchanges, dpkg-mergechangelogs: Remove support for ~vola
    versioning, as volatile.debian.org was decommissioned some time ago.
  * dpkg-genchanges, dpkg-mergechangelogs: Match ~deb also as a backport
    marker in versions. Closes: #934980
  * libdpkg, dpkg: Use new versiondescribe_c() for non-localizable call sites,
    such as when writing to a log, which should not be localized.
    Reported by Julien Cristau <jcristau@debian.org>.
  * dpkg-query: Try to use the package synopsis from the available file if
    not installed. Closes: #43573
  * dpkg-gencontrol: Take into account hardlinks when computing the
    Installed-Size substvar. Closes: #923475
    Patch co-authored with Sven Joachim <svenjoac@gmx.de>.
  * dpkg: Fix and clarify behavior for packages marked to be on “hold”. These
    need to be processed for configuration and triggers. Closes: #926472
  * dpkg: Use DPKG_ADMINDIR to set the admindir. Closes: #900071
  * dpkg-source: Remove backwards compatibility code for legacy build-profiles.
  * perl: Give more context on field parsing errors. Closes: #637060
  * dpkg-buildpackage: Add option to sanitize environment. Closes: #843776
  * update-alternatives: Cope with a missing administrative directory.
  * update-alternatives: Create the administrative directory on demand.
  * dpkg-split: Cope with a missing parts/ database directory.
  * dpkg-split: Create the parts/ database directory on demand.
  * libdpkg: Consider msdbrw_needsuperuser equivalent to msdbrw_write, so
    the same checks are performed on normal non --force-not-root operation.
  * libdpkg: Add support for bootstrapping the installation of dpkg:
    Closes: #914515
    - Create the logfile with correct permissions, and remove the code
      setting up the logfile from the dpkg postinst.
    - Allow missing status and available databases, so that they get created
      on write, and remove the code setting them up from the dpkg postinst.
      Closes: #647911
    - Do not change the ownership of the triggers database directory. Either
      we are running as root:root which means the ownership should be correct
      already, or we are not which means we cannot change it anyway.
    - Create the dpkg database directory on demand.
    - Create the updates/ database directory on demand.
    - Create the info/ database directory on demand.
  * dpkg-architecture: Fix handling of exec failing in --command.
    Reported by Helmut Grohne <helmut@subdivi.de>.
  * dpkg-buildpackage: Do not accept equal signs as part of the hook names.
    Reported by Daniel Shahaf <danielsh@apache.org>. Closes: #948291
  * dselect: Mark a string for translation.
  * dselect: Cleanup access methods:
    - Remove harddisk methods, as they were non-functional due to fdisk
      interface changes, and do not make sense anymore as we can expect users
      to mount any such filesystem on their own, to then use a filesystem
      method instead. Prompted by Helmut Grohne <helmut@subdivi.de>.
    - Remove cdrom method superseded by the multi_cd method.
    - Remove nfs methods, as there is nothing special about NFS, and mounting
      these should just be left to the local admin, who can mount any other
      remote filesystem too.
    - Remove multi_mount method, as the multi_cd method can take care of
      mounting the necessary images or devices.
    - Replace changelog with correct copyright in file header.
  * dpkg, dselect: Stop using first-person singular in output messages.
  * libdpkg: Fix memory leak in parsedb context close.
  * buildtools.mk: Add QMAKE variable. Closes: #920878
  * po: Fix translation of --compare-versions. Closes: #951614
    Thanks to Boyuan Yang <byang@debian.org>.
  * Perl modules:
    - Dpkg::Source::Package: Verify original tarball signatures at build time.
    - Dpkg::BuildFlags: Add new unset() method.
      Requested by Daniel Schepler <dschepler@gmail.com>.
    - Dpkg::Source::Package::V2: Emit a special patch header on
      single-debian-patch. Closes: #933152
    - Dpkg::Vendor::Debian: Only scan /usr/local/ directories that exist.
      Closes: #932967
    - Dpkg::Vendor::Debian: Do not set -Werror=implicit-function-declaration
      for C++. Closes: #939969
    - Dpkg::Deps: Check for valid virtual package version relations. Do not
      allow non-equal version relations in virtual provides. Closes: #930317
    - Dpkg: Remove internal lowercase variables $version, $progname,
      $admindir, $dpkglibdir and $pkgdatadir.
    - Dpkg::Changelog: Remove obsolete methods dpkg() and rfc822().
    - Dpkg::Changelog::Entry::Debian: Remove obsolete methods check_header()
      and check_trailer(). Hide variables $regex_header and $regex_trailer.
    - Dpkg::Changelog::Parse: Remove warnings of obsolete options forceplugin
      and libdir. Remove obsolete functions changelog_parse_debian() and
      changelog_parse_plugin().
    - Dpkg::Compression: Hide internal lowercase variables
      $default_compression, $default_compression_level and
      $compression_re_file_ext.
    - Dpkg::Deps::KnownFacts: Remove obsolete check_package() method.
    - Dpkg::Exit: Hide internal lowercase @handlers variable.
    - Dpkg::Gettext: Remove obsolete _g() function.
    - Dpkg::Source::Package: Hide internal lowercase variable
      @tar_ignore_default_pattern. Remove internal lowercase variable alias
      $diff_ignore_default_regexp.
    - Dpkg::Substvars: Remove obsolete no_warn() method.
    - Dpkg::Index: Change default value for unique_tuple_key to 1.
    - Dpkg::Version: Remove deprecation warning from semantic change in
      bool overload.
    - Dpkg::Checksums: Remove obsolete 'program' property warning.
    - Dpkg::Conf: Remove obsolete methods and obsolete croak for method option.
    - Dpkg::Vendor: Remove obsolete 'keyrings' hook.
    - Dpkg::Exit: Unregister all signal handlers once we have executed them.
      Closes: #932841
    - Dpkg::Exit: Register exit handlers also for __DIE__.
    - Dpkg::Source::Package::V3::Native: Do not say v1.0 for 3.0 formats.
    - Dpkg::Dist::Files: On filename parse error say file instead of package.
    - Dpkg::Substvars: Add new vendor:Name and vendor:Id substvars.
    - Dpkg::Source::Package: Detect directory traversals under debian
      directory. Reported by Felix Lechner <felix.lechner@lease-up.com>.
  * Documentation:
    - man: Fix uncommon wording constructs.
    - man: Use a minus sign for a literal string.
    - man: Clarify that the pager is called via «$SHELL -c».
    - dpkg-shlibdeps: Document split_soname() function.
      Prompted by Christopher Crim <christopher.crim@quoininc.com>.
    - Dpkg::Changelog: Document methods provided by subclasses.
      Reported by Felix Lechner <felix.lechner@lease-up.com>.
    - man: Globally adjust left and disable hyphenation.
    - man: Split dselect(1) --color from --colour option items.
    - man: Describe the SONAME formats supported in deb-shlibs(5).
    - man: Move template symbol documentation into new deb-src-symbols(5).
    - Dpkg::Changelog::Parse: Remove $ sigil from option names in POD.
    - Dpkg: Say class instead of object when appropriate.
    - Dpkg::Changelog: Clarify that these classes inherit from some other
      base class, which will contain the missing documentation.
      Prompted by intrigeri <intrigeri@debian.org>.
    - man: Clarify deb-changelog(5) format. Closes: #946780
    - man: Clarify debian/source/include-binaries format in dpkg-source(1).
      Prompted by Felix Lechner <felix.lechner@lease-up.com>.
    - man, doc: Clarify that the postinst "triggered" argument gets the
      trigger-name(s) as a space-separated list in the second argument.
      Prompted by Michael Biebl <biebl@debian.org>.
    - dselect: Update the multicd README file.
    - doc, man: Mark T and I package instances to avoid misreadings.
  * Code internals:
    - Dpkg::Source::Package: Refactor original tarball handling.
    - perl: Use File::Copy instead of spawning mv/cp commands.
    - Dpkg::OpenPGP: Refactor signature verification into a new function.
    - Dpkg::OpenPGP: Make it possible to verify detached signatures.
    - Dpkg::OpenPGP: Add support for importing an OpenPGP key into a keyring.
    - Dpkg::BuildFlags: Remove unused hash keys.
    - libdpkg: Use the variable instead of a type as sizeof() argument.
    - libdpkg: Use the totalwritten variable for a consistency check.
    - dselect: Reduce scope of variable, to avoid it being unused in a branch.
    - dpkg-deb: Fold two adjacent if conditionals into a single one.
    - dpkg: Initialize flagdeppossi in check_conflict().
    - libdpkg: Add new C locale switch over support.
    - libdpkg: Add new versiondescribe_c() to force a C locale.
    - dselect: Make baselist::draw_column_*() col arguments const.
    - libdpkg: Use p instead of name in dpkg_arch_name_is_illegal().
    - dpkg: Remove redundant condition for sourcefile in updateavailable().
    - dpkg, update-alternatives: Make variables static.
    - libdpkg: Add missing symbols to the version map.
    - libdpkg: Fix fiemap memory layout usage that confuses gcc 10 to emit a
      warning.
    - libdpkg: Only use varbuf_printf() in pkg_format_show() when necessary.
      This should speed up «dpkg-query --show» formatting.
    - libdpkg: Fix package format string to be a string literal.
      This suppresses a gcc warning.
    - dpkg: Fix short lived memory leak in --force-help handling.
    - dpkg-split: Fix short lived file descriptor leak in --auto.
    - start-stop-daemon: Explicitly ignore unimportant function return values.
    - start-stop-daemon: Fix memory leak on multiple --chuid arguments.
    - start-stop-daemon: Close the notification socket in the child.
    - libdpkg: Fix memory leaks in zlib and bz2 decompression functions.
    - libdpkg: Add new dir_make_path() and dir_make_path_parent() functions.
    - libdpkg: Add new atomic file flag to create the base path when missing.
    - libdpkg: Fix modstatdb_rw enum comments.
    - libdpkg, dpkg-query: Optimize db-fsys:Files virtual variable loading.
      We load either the entire db-fsys for all packages, possibly optimized
      per platform (such as by using fiemap), or the specific ones for the
      requested packages. This also fixes a problematic cast removing the
      constness of a variable.
    - Dpkg::Dist::Files: Document the two filename pattern formats.
    - update-alternatives: Remove redundant condition in argument parser.
    - update-alternatives: Move error context setup before calling setjmp(),
      so that cppcheck stops being confused.
    - test: Reformat 200_Dpkg_Shlibs.cpp for coding style conformance.
    - dpkg: Make it possible for the compiler to check printf() format
      string arguments on dependency printer.
    - dselect: Reorder branches in packagelist::deselect_one_of so that they
      are not duplicated.
    - dselect: Use nullptr instead of NULL.
    - dselect: Use static_cast<> instead of old-style type qualifier cast.
    - dselect: Do not use unnecessary old-style casts.
    - dselect: Fix variable types to avoid needing old-style casts.
    - libcompat: Disarm libselinux setexecfilecon() declaration for
      libcompat-test.
    - libdpkg: Define new VARBUF_OBJECT macro.
    - libdpkg: Add new ATOMIC_FILE_NORMAL enum value to avoid a cast in C++.
    - libdpkg: Use a new DPKG_NULL macro that works in C and C++.
    - libdpkg: Use a new DPKG_STATIC_CAST macro that works in C and C++.
    - libdpkg: Move printing of errno into dpkg_error_set().
    - libdpkg: Use a varbuf to store the problem messages per parsedb context.
    - libdpkg: Fix Doxygen comments.
  * Build system:
    - Bump minimal Perl version to 5.24.1.
    - Add a serial versioning to the m4 files.
    - Install m4 files into system aclocal directory.
    - Bump minimal gettext version to 0.19.8, to get the m4 files that can
      cross-build for musl-based systems.
    - Enable more compiler warnings.
    - Update Doxygen configuration from version 1.8.16.
  * Packaging:
    - Remove obsolete Breaks satisfied since oldstable.
    - Replace custom rule for 'configure' with call to dh_autoreconf.
      Thanks to Dan Streetman <ddstreet@canonical.com>. Closes: #939516
    - dselect: Remove methods state files on purge.
      Spotted by Sven Joachim <svenjoac@gmx.de>.
    - Switch to debhelper compatibility level 12.
    - Switch from debian/compat to debhelper-commpat in Build-Depends.
    - Bump Standards-Version to 4.5.0 (no changes required).
  * Test suite:
    - Remove perlcritic Documentation::RequirePodLinksIncludeText suppression.
    - Clarify cppcheck va_list_usedBeforeStarted suppression.
    - Skip build directories from codespell check.
    - Update stopwords for codespell 1.16.0.
    - Suppress new bogus cppcheck 1.90 false positives.
    - libdpkg: Remove redundant assignment in t-ehandle unit test.
    - Skip backup files from codespell check.
    - Ignore python-3.8 runtime warnings in codespell.

  [ Updated programs translations ]
  * German (Sven Joachim).
  * Portuguese (Miguel Figueiredo). Closes: #935695
  * Simplified Chinese (Mo Zhou). Closes: #942195, #945776

  [ Updated dselect translations ]
  * German (Sven Joachim).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann). Closes: #931135

 -- Guillem Jover <guillem@debian.org>  Sun, 08 Mar 2020 03:31:40 +0100

dpkg (1.19.7) unstable; urgency=medium

  [ Guillem Jover ]
  * dpkg: Fix off-by-one error in dpkg --abort-error. Closes: #924886
    Thanks to Tom Goulet <tomg@sentex.ca>.
  * dpkg: Set the force defaults before loading the config file, otherwise we
    incorrectly override them. Regression introduced in dpkg 1.19.5.
    Closes: #928671
  * dpkg: Split the trigger dependtry into two, the second of which will be
    the one checking trigger cycles when deferring trigger processing due to
    unsatisfiable dependencies. Closes: #928429
  * dpkg-deb: Validate ar member magic before normalizing any of its fields.
  * dpkg-deb: Honor --nocheck when building packages with newlines in
    filenames. Regression introduced in dpkg 1.18.1. Closes: #929727
  * Documentation:
    - rootless-builds.txt: Expand what the builder means. Mention the
      dpkg-deb option to use to set the owner and group to root. And reword
      the prototyping section to be less confusing with what is currently
      implemented. Closes: #929019
    - README: Clarify when autopoint is needed. Closes: #929601
    - Fix typos in docs and output strings. Warned by codespell.

  [ Updated programs translations ]
  * Catalan (Guillem Jover).

  [ Updated dselect translations ]
  * Catalan (Guillem Jover).

  [ Updated scripts translations ]
  * Catalan (Guillem Jover).

  [ Updated man pages translations ]
  * Dutch (Frans Spiesschaert). Closes: #926665
  * French (Jean-Pierre Giraud). Closes: #929664

 -- Guillem Jover <guillem@debian.org>  Mon, 03 Jun 2019 23:22:35 +0200

dpkg (1.19.6) unstable; urgency=medium

  [ Guillem Jover ]
  * libdpkg: Add a new TAR_FORMAT_UNKNOWN enum value.
  * libdpkg: Set tar_entry to zero on tar_entry_destroy(), to avoid double
    free()s and the subsequent crashes.
  * libdpkg: Handle non end-of-tape errors from tar_header_decode().
  * libdpkg: Use ERANGE instead of EINVAL for tar_atol8() out-of-range error.
  * dpkg-gencontrol: Check presence of package build dir before traversing it.
  * Perl modules:
    - Dpkg::Source::Package::V1: Change default build option style to -sa.
      Using -sA by default means the user might lose data on overwrite if
      there is already a directory with the same name laying around.
      Closes: #910737
    - Dpkg::Source::Package: Handle Format field being undefined. On source
      format 1.0, the default is for the debian/source/format file not being
      present, which means we'll start with an empty Format field name.
      Regression introduced in dpkg 1.19.3.
  * Packaging:
    - Update usertags.
    - Install a lintian profile for dpkg based on the debian profile, so that
      we can suppress Debian-specific tags, such as the controversial one on
      vendor-specific patch series files.
    - Add Breaks on lsb-base due to start-stop-daemon exposing breakage in
      the killproc function from /lib/lsb/init-functions. Closes: #923861
  * Test suite:
    - Stop requiring (pseudo-)root in the functional test suite.
    - Export and move TESTDATA definition close to the PATH definition.
    - Quote the 'yes' command to make a comment clearer.

  [ Updated programs translations ]
  * Dutch (Frans Spiesschaert). Closes: #924776

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * Dutch (Frans Spiesschaert). Closes: #924777
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Mon, 25 Mar 2019 15:08:26 +0100

dpkg (1.19.5) unstable; urgency=medium

  [ Guillem Jover ]
  * start-stop-daemon: Make sure that we get a meaningful errno on
    parse_unsigned(), so that the error messages always make sense.
  * start-stop-daemon: Add new fatalv() and fatale() functions and use the
    latter for system errors, so that we are explicit on whether we want to
    use errno for error reporting or not.
  * start-stop-daemon: Always refuse to parse a world-writable pidfile,
    except when that is /dev/null.
  * dpkg: Print the current set of enabled force options on --force-help.
  * dpkg: Parse and set new DPKG_FORCE environment variable for subprocesses.
    Closes: #666147
  * dpkg-statoverride: Add support for --force-* options.
  * dpkg-statoverride: Switch from --force option to new --force-<thing>
    options. Deprecate --force option which will be considered an alias for
    --force-all for now.
  * dpkg, dpkg-statoverride: Add new option --refuse-security-mac to control
    SELinux. See #811037.
  * dpkg: Clarify error on unknown system user/group in statoverride database.
    Closes: #920880
  * dpkg-buildpackage: Clarify the warning/error on short OpenPGP key IDs.
    Closes: #922039
  * dpkg-maintscript-helper: Restrict find for dir-to-symlink move to
    -maxdepth 1. Thanks to Ralf Treinen <treinen@free.fr>. Closes: #922799
  * dpkg-genbuildinfo: Add support for a new Build-Tainted-By field in
    .buildinfo files. Suggested by Alexander E. Patrakov <patrakov@gmail.com>.
  * libdpkg: Clarify field names in error and warning messages.
  * libdpkg: Optimize error handling. Move the error reporting outside the
    involved functions so that we do not need to call gettext if there is no
    error, which has a significant performance cost.
  * libdpkg: Merge nicknames table into fieldinfos, to stop penalizing the
    lookup of non-obsolete fieldnames.
  * libdpkg: Print a more accurate warning for Revision nicknames.
  * libdpkg: Increase the pkg-hash bins size to 65521, to improve hash table
    performance at the cost of a bit more memory usage.
  * libdpkg: Blank packages that are not-installed with unknown selection.
    Closes: #922410
  * libdpkg, dpkg: Print the dpkg database directory on access errors.
    Closes: #883700
  * Perl modules:
    - Dpkg::Vendor::Debian: Add support for merged-usr-via-symlinks tainted
      tag. Suggested by Alexander E. Patrakov <patrakov@gmail.com>.
    - Dpkg::Vendor::Debian: Add support for usr-local-has-* tainted tags.
    - Dpkg::Source::Package: Add a missing use Dpkg::Source::Format.
      Diagnosed by Ian Jackson <ijackson@chiark.greenend.org.uk>.
      Closes: #921031
  * Documentation:
    - start-stop-daemon(1): Document behavior of --pidfile security checks.
      Closes: #921557
    - dpkg(1): Document the unknown selection state. Closes: #922407
  * Code internals:
    - dpkg: Move SELinux fallback label to the SELinux specific code path.
    - dpkg: Simplify maintscript_set_exec_context().
    - dpkg: Move force options support into its own file.
    - dpkg: Do not hardcode the program name in the --force-help output.
    - dpkg: Switch force options from individual variables to bit fields.
    - dpkg: Switch from a char to an enum to track the force options types.
    - dpkg: Switch to set the default force option from the forceinfos array.
    - libdpkg: New benchmark programs and infrastructure.
    - libdpkg: Add new dpkg_error_move() function.
    - libdpkg: Add new dpkg_has_error() function.
    - libdpkg: Move status names from parse errors to arguments.
    - libdpkg: Use va_arg copy instead of the original on a vasprintf() call.
    - libdpkg: Include <string.h> in pager.c.
      Reported by Y <sevener@cock.li>. Closes: #922212
    - libdpkg: Use pkg_set_want() instead of a direct assignment.
  * Build system:
    - Check whether this dist is a release, based only on the version format.
      This will avoid having to do a two staged release to get a proper perl
      distribution tarball.
  * Packaging:
    - autopkgtest: Add file to Depends fields.
    - autopkgtest: Clarify behavior on root/non-root requirement.
    - Bump Standards-Version to 4.3.0 (no changes required).
    - Remove now unused assert usertag description.
    - Remove trailing whitespace from changelog.
    - Remove Origin and Bugs fields from control file.
    - Include a bug-script to report on tainted merged-usr-via-symlinks.
  * Test suite:
    - libdpkg: Fix unit test for file_slurp(). Closes: #920974
      Diagnosed by Frank Schaefer <kelledin@gmail.com>.

  [ Updated programs translations ]
  * Dutch (Frans Spiesschaert). Closes: #921942
  * German (Sven Joachim).
  * Simplified Chinese (Zhou Mo). Closes: #920972

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * Dutch (Frans Spiesschaert). Closes: #921943
  * French (Jean-Pierre Giraud). Closes: #920905
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Sat, 23 Feb 2019 18:00:54 +0100

dpkg (1.19.4) unstable; urgency=medium

  * start-stop-daemon: Do not sanity check the pidfile when it is specified as
    /dev/null, as that implies the caller wants to start the program no matter
    what. Closes: #920242
  * Portability:
    - start-stop-daemon: Only use SO_PASSCRED if defined. Fixes build failure
      at least on GNU/Hurd.
  * Packaging:
    - autopkgtest: Pass --disable-nls and --disable-dselect to configure.
    - autopkgtest: Change Depends to «build-essential, autoconf, pkg-config».

 -- Guillem Jover <guillem@debian.org>  Wed, 23 Jan 2019 13:06:39 +0100

dpkg (1.19.3) unstable; urgency=medium

  [ Guillem Jover ]
  * dpkg-source: Stop filtering @builddeps@ from Testsuite-Triggers field.
    Closes: #910734
  * dpkg-genchanges: Only reference binary packages being uploaded, which
    means that for a source-only upload, the Binary and Description fields
    should be empty. Closes: #818618
  * dpkg-scanpackages: Do not compute unnecessary checksums when using the
    --hash argument. Based on a patch by Chris Lamb <lamby@debian.org>.
    Closes: #916456
  * dpkg-scanpackages: Emit a warning with the list of repeat packages.
    Prompted by Johannes Schauer <josch@debian.org>.
  * start-stop-daemon: Check whether standalone --pidfile use is secure.
    Prompted by Michael Orlitzky <michael@orlitzky.com>.
  * start-stop-daemon: Print complete verbose lines, instead of partial lines
    with no newlines and a final print with a newline.
  * start-stop-daemon: Add new --notify-await and --notify-timeout options,
    which implement the systemd readiness protocol for services.
    Closes: #910707
  * update-alternatives: Add new --debug option.
  * update-alternatives: Fix removal of obsolete slaves from the linked list.
    Reported by Andreas Beckmann <anbe@debian.org>. Closes: #916799
  * vendor.mk: Fix dpkg_vendor_derives_from macro documentation.
    Thanks to Colin Watson <cjwatson@debian.org>. Closes: #913816
  * vendor.mk: Add support for an improved dpkg_vendor_derives_from macro.
    Version the macros so that both can be used, and default the unversioned
    one to the version 0 macro.
  * dpkg: Mark the package we are giving up on a trigger cycle as "istobe"
    normal, so that the dependency checks know they cannot expect this package
    to be processed anymore. Otherwise we ended up never detecting that we
    were not making progress, as we expected to process this package at a later
    point, when that would never happen anymore. This then was causing asserts
    in the process queue loop. Closes: #901127, #910819
  * dpkg: Reset progress_bytrigproc once we have injected it into the current
    package process queue iteration, so that we do not keep trying to process
    it, which might end up generating artificial trigger cycles, if
    dependencies are not satisfied yet.
  * dpkg: Convert one trigger processing required type into the new try-queued
    one, so that we stop skipping unsatisfiable dependency checks.
  * dpkg: Move trigproc cycle reset inside try-deferred conditional. We should
    only reset the cycle detection in case we are not bailing out from the
    processing with an error, otherwise we could come back to this package and
    detect an artificial trigger cycle.
  * dpkg: Introduce a new dependency try level for trigger processing. This
    completely defers trigger processing until after the dependency cycle
    breaking level, so to avoid generating artificial trigger cycles, when we
    end up trying to process triggers with yet unsatisifiable dependencies.
    Closes: #810724, #854478, #911620
  * dpkg: Fix --help output, to clarify which arguments are optional.
  * libdpkg: Add proper tar error handling. This makes the tar extractor
    track and report back parse errors, so that we can give more descriptive
    messages.
  * libdpkg: Detect unsupported tar entry types to give better error messages.
  * libdpkg: Add new db-fsys:Files and db-fsys:Last-Modified virtual fields.
  * Perl modules:
    - Dpkg::Changelog::Debian: Preserve modelines at EOF. Closes: #916056
      Thanks to Chris Lamb <lamby@debian.org> for initial test cases.
    - Dpkg::File: Make file_slurp() also accept pathnames in addition to
      filehandles.
    - Dpkg::Vendor::Ubuntu: Fix buildflags override after default setting move.
      Based on a patch by Iain Lane <laney@ubuntu.com> and
      Adam Conrad <adconrad@ubuntu.com>. Closes: #915881
    - Dpkg::Shlibs::Objdump: Remove unused Dpkg::IPC import.
    - Dpkg::Shlibs::Objdump: Only select objdump program when going to use it.
    - Dpkg::Source::Package: Do not reinitialize fields member in constructor.
    - Dpkg::Source::Patch: Do not recommend --include-removal when not
      supported. Closes: #913012
    - Dpkg::Source::Package::V3::Bzr: Fix format name in output message.
    - Dpkg::Source::Package: Add a new format option to the new constructor.
      Prompted by James McCoy <jamesan@debian.org>.
    - Dpkg::Source::Package: Improve debian/source/format parsing and
      validation.
    - Dpkg::Source::Format: New public module.
      Prompted by Mattia Rizzolo <mattia@debian.org>.
  * Documentation:
    - dpkg(1): Clarify --remove action. Closes: #914478
    - dpkg-query(1): Clarify --list option behavior when no arguments are
      specified. Closes: #917098
    - deb-control(5): Clarify by adding a reference to deb-src-control(5) and
      removing an invalid comment in the example.
      Prompted by Helmut Grohne <helmut@subdivi.de>.
    - dpkg(1): Clarify databases used by --yet-to-unpack and --predep-package.
      Prompted by Johannes Schauer <josch@debian.org>.
    - Clarify character classes for various formats in man pages, by
      explicitly listing the character ranges within parenthesis.
      Prompted by Ian Jackson <ijackson@chiark.greenend.org.uk>.
    - dpkg-query(1): Document the version introducing the -f option.
    - dpkg-architecture(1): Add reference to the TERMS section in the
      VARIABLES section. Prompted by Axel Beckert <abe@debian.org>.
    - Fix POD for Dpkg::Interface::Storable derived method implementations.
    - Dpkg::Deps::Simple(3): Fix POD signature for new constructor.
  * Code internals:
    - dpkg-maintscript-helper: Use an explicit escape instead of a literal
      backslash.
    - Quote shell variables. Reported by Johannes Schauer <josch@debian.org>.
    - Switch perl code to use the new Dpkg::Source::Format module.
    - dpkg-source: Move source format selection earlier in the build.
    - dpkg-source: Use new format argument for Dpkg::Source::Package->new().
    - dpkg-shlibdeps: Remove unused variable.
    - dpkg-scanpackages: Unroll a single iteration loop.
    - start-stop-daemon: Compare foundany against 0 instead of treating it
      like a boolean.
    - start-stop-daemon: Switch code to use new info() and debug() functions.
    - update-alternatives: Use enums for actions instead of strings.
    - update-alternatives: Switch verbose selection into an enum.
    - dpkg: Negate tortoise_not_in_hare() function name and return value.
    - dpkg: Initialize trigcyclenode's next member once.
    - dpkg: Use common pattern of assigning as an iterator.
    - dpkg: Factor trigproc_new_cyclenode() out from check_trigger_cycle().
    - dpkg: Switch dependtry from an int to an enum.
    - dpkg: Move dependtry description from deferred_configure() to its
      declaration.
    - dpkg: Split trigger processing types into required, try-queued and
      try-deferred.
    - dpkg-query: Rename variable to avoid shadowing a local function.
    - When allocating use the variable instead of the type in sizeof().
    - dselect: Rename variable r to pkgbin.
    - libdpkg, dpkg: Rename r variables to fnn.
    - libdpkg: Rename ret variable to next.
    - libdpkg: Cleanup fsys module symbol names.
    - libdpkg: Rename pkg_db symbols to pkg_hash.
    - libdpkg: Add new warning printer setter function.
      Prompted by Julian Andres Klode <jak@debian.org>.
    - libdpkg: Add new DPKG_ERROR_OBJECT macro.
  * Build system:
    - get-version: Use a format string with printf.
    - run-script: Use $() instead of deprecated ``.
    - run-script: Remove unused PERL_PROFILE variable, PERL5OPT can be used
      instead, and does not require leaving an unquoted variable around.
    - run-script: Add «set -e».
    - Build.PL: Set environment variables only for CPAN tests.
    - Build.PL: Set locale for CPAN tests to C. Fixes CPAN#127314.
    - configure: Split AM_INIT_AUTOMAKE arguments into different lines.
  * Packaging:
    - Bump Standards-Version to 4.2.1 (no changes needed).
    - Switch to debhelper compatibility level 11.
    - Create the log file in postinst only if it does not exist.
      Prompted by Johannes Schauer <josch@debian.org>.
    - Add superficial autopkgtest functional tests.
  * Test suite:
    - Add new shellcheck author test.
    - Add descriptions for the shellcheck exclude codes.
    - Update cppcheck suppressions.

  [ Updated programs translations ]
  * Dutch (Frans Spiesschaert). Closes: #912023
  * German (Sven Joachim).
  * Italian (Milo Casagrande). Closes: #915610
  * Portuguese (Miguel Figueiredo). Closes: #917813
  * Simplified Chinese (Zhou Mo). Closes: #919040

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * Dutch (Frans Spiesschaert). Closes: #912024
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Tue, 22 Jan 2019 14:26:04 +0100

dpkg (1.19.2) unstable; urgency=medium

  [ Guillem Jover ]
  * dpkg: Fix --force-not-root for chown() and chmod() based syscalls, and
    give a more meaningful error message on chroot(). Closes: #614126
  * dpkg-divert, dpkg-statoverride: Add new --instdir and --root options,
    and make the commands honor the DPKG_ROOT environment variable.
    Closes: #487108
  * libdpkg: Call the pager with «$SHELL -c» to respect POSIX. Closes: #910009
  * libdpkg: Do not spawn a pager if we are going to call «cat».
  * libdpkg: Honor DPKG_PAGER when spawning a pager.
    Suggested by Craig Sanders <cas@taz.net.au>.
  * libdpkg: Set LESS to “-FRSXMQ” if not already set, when spawning a pager.
  * libdpkg: Ignore SIGPIPE when setting up a pager, and then ignore EPIPE
    errors when writing to stdout, otherwise if we quit the pager early, the
    program will exit with an error code.
  * libdpkg: Set stdout to be fully buffered when using a pager.
  * dpkg, dpkg-query: Add new --no-pager option. For dpkg this is also a
    configuration option. Closes: #909754
  * Perl modules:
    - Dpkg::OpenPGP: Ignore Version field in enarmored output.
      Fixes CPAN#127217.
    - Dpkg::OpenPGP: Do not read the gpg user configuration file.
    - Dpkg::Source::Functions: Reimplement is_binary() w/o using diff(1).
    - Dpkg::Source::Package::V2: Split the BinaryFiles module into its own
      file, and give it a more generic name (Dpkg::Source::BinaryFiles).
    - Dpkg::Source::Package::V2: Move binary file detection to BinaryFiles
      module.
  * Documentation:
    - dpkg-buildpackage(1): Clarify --build=source explanation.
    - dsc(5): Clarify what “flattened” means in Testsuite-Triggers.
      Prompted by Mattia Rizzolo <mattia@debian.org>.
    - dsc(5): Add a reference to where the source formats are described.
      Prompted by Manuel A. Fernandez Montecelo <mafm@debian.org>.
    - dpkg-source(1): Improve documentation on vendor-specific series files.
    - deb-control(5): Document Build-Ids field.
      Prompted by Stuart Prescott <stuart@debian.org>.
    - dpkg(1): Clarify which fields are affected by dependency options.
      Prompted by James Clarke <jrtc27@debian.org>.
    - dpkg-query(1): Document the PAGER environment variable usage.
    - Dpkg(1): Add POD documentation about the module hierarchy and API.
  * Code internals:
    - dpkg-split: Use nfstrnsave() instead of nfmalloc() + memcpy().
    - libdpkg: Add new fsys-dir module.
    - libdpkg: Pass the file contents to the pager instead of the filename.
    - libdpkg: Add a pager kill switch, so that it can be forcefully disabled.
  * Build system:
    - Distribute a LICENSE file on CPAN.
    - Do not make the Build.PL script executable.
    - Generalize PACKAGE_CPAN_SIGN by setting PACKAGE_DIST_IS_RELEASE instead.
    - Add a release_status key to the CPAN metadata.
    - Fix typo in CPAN recommends key.
    - Improve test and author CPAN dependencies.
  * Packaging:
    - Break libapt-pkg5.0 instead of apt. Closes: #909959
      Analysis by Sven Joachim <svenjoac@gmx.de>.
  * Test suite:
    - Skip version checks involving «dpkg --compare-versions» if not available.
      This is relevant on CPAN or on non-dpkg-based systems.

  [ Updated programs translations ]
  * Polish (Łukasz Dulny).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Mon, 08 Oct 2018 11:43:48 +0200

dpkg (1.19.1) unstable; urgency=medium

  [ Guillem Jover ]
  * Fix logic in dpkg-buildpackage to decide whether to run build targets,
    which broke tons of packages that are violating Debian policy MUSTs.
    Thanks to James Clarke <jrtc27@debian.org>. Closes: #878899
  * Do not try to recompute hashes for the .dsc file when signing binary-only
    builds in dpkg-buildpackage. Reported by Ximin Luo <infinity0@debian.org>.
  * Pass the correct source stanza to the dpkg-buildpackage code parsing the
    Rules-Requires-Root field. This meant the field was being ignored.
  * Run dpkg-source directly from the current working directory in
    dpkg-buildpackage, instead of changing directory back and forth.
  * Setup and check rootcommand in dpkg-buildpackage only if it is going to
    be needed. Reported by Niels Thykier <niels@thykier.net>.
  * Add color support to dpkg-maintscript-helper (a shell script).
  * Fix warning by including <sys/sysmacros.h> for makedev() in libdpkg.
  * Fix directory traversal with dpkg-deb --raw-extract, by guaranteeing
    that the DEBIAN pathname does not exist. Closes: #879982
    Reported by Jakub Wilk <jwilk@jwilk.net>.
  * Add new AS, STRIP, OBJCOPY, OBJDUMP, NM, AR and RANLIB buildtools
    variables to buildtools.mk. Prompted by Helmut Grohne <helmut@subdivi.de>.
  * Restore rejecting negated architectures in Architecture field in
    dpkg-gencontrol and dpkg-genchanges. Regression introduced in dpkg 1.18.5.
  * Fix dpkg-gensymbols to print "error" instead of "warning" when these
    are fatal. Closes: #881488
  * Rename DPKG_GAIN_ROOT_CMD to DEB_GAIN_ROOT_CMD in the R³ support, as
    the variable is expected to be set by any builder, not just dpkg. And
    introduce ephemeral backwards compatibility even though there are no
    known users.
  * Do not set DEB_GAIN_ROOT_CMD in dpkg-buildpackage when the R³ value is
    <implementations-keywords>, following the specification.
  * Specify that DEB_GAIN_ROOT_CMD in R³ should preserve the environment.
    Proposed by Josh Triplett <josh@joshtriplett.org>.
  * Specify new DEB_RULES_REQUIRES_ROOT variable for R³ support.
  * Add new --rules-requires-root option to dpkg-buildpackage.
  * Declare R³ specification as "recommendation, stable" with version 1.0.
  * Export architecture variables by default from architecture.mk, as
    documented in dpkg-architecture(1). Closes: #888964
    Thanks to Jack Bates <wdz7eo@nottheoilrig.com>
  * Increment the line number on dpkg --set-selections on unknown packages.
    Reported by Heinz Repp <heinz.repp@arcor.de>. Closes: #888983
  * Switch a DEBIAN/conffile parsing assert() in dpkg due to empty lines
    into an ohshit(), because this is really a run-time error.
  * Fix assert() in dselect to expect the method lock file descriptor to be
    initialized, instead of non-zero.
  * Switch a fatal() call in start-stop-daemon into the new BUG() macro,
    because it is really an internal error.
  * Switch all assert() calls (except in update-alternatives) into internerr()
    or BUG() calls, to get way better reporting with variable contents and
    descriptions, and to make them always present independent of NDEBUG.
  * Add a new --no-rename option to dpkg-divert. This is the current default
    behavior, but it will make it possible to do a default switch in 1.20.x.
  * Warn when using dpkg-divert --add or --remove w/o --rename or --no-rename.
  * Warn when using dpkg-divert --rename on a file from an Essential package.
  * Use a single “struct filenamenode” definition for the entire code base.
    Closes: #746766
  * Add support for frontend locking. This makes it possible for frontends
    using this new protocol, to safely lock the dpkg database w/o risk of
    race conditions with other dpkg instances or frontends supporting the
    same protocol. Thanks to Julian Andres Klode <jak@debian.org>.
    Closes: #850417, #851984
  * Do not emit perl warnings in dpkg-source --help on source formats w/o
    options.
  * Make dpkg-buildpackage validate OpenPGP signing key IDs length. Error out
    for short key IDs and warn for long key IDs.
  * On the dpkg conffile prompt, print the set of environment variables setup
    for the conffile shell, for easier discoverability.
  * Fix dpkg-buildpackage option --rules-file parsing. It was trying to parse
    it as --rules-target, which due to the ordering was a no-op.
  * Only check for fallback build targets presence on binary builds in
    dpkg-buildpackage.
  * Only check required build dependencies for known targets specified with
    dpkg-buildpackage --rules-target option.
    Reported by Johannes Schauer <josch@debian.org>.
  * Track package status dirtiness in dpkg to only log and report in status-fd
    when it has changed, removing duplication in output. Closes: #365921
  * Use Synopsis instead of Summary for the short Description, to unify the
    nomenclature and to make it more descriptive. Add a new binary:Synopsis
    virtual field to dpkg-query show format.
  * Add new dpkg-buildpackage --no-post-clean option, to be able to explicitly
    select the current default behavior.
  * Dump database package records in alphabetical order. This will give
    reproducible status and available database files, and make it possible
    to output other deb822 formatted data in a deterministic way.
  * Require both standard input and output to be connected to a terminal to
    use a pager.
  * Run dpkg-query --list output through a pager if we are on a terminal,
    instead of truncating it, to avoid data loss. Closes: #898603
  * Fix use after free in dpkg maintainer script handling. Regression
    introduced in dpkg 1.19.0.
  * Flush output for dpkg-query --status, --print-avail and --listfiles at
    the end, instead of after each stanza.
  * Add support for dumping all dpkg-query --status and --print-avail records
    from the database when no arguments are specified. Closes: #616342
  * Add new dpkg-gensymbols -l option to avoid having to abuse LD_LIBRARY_PATH
    for cross-build paths.
  * Check that DPKG_MAINTSCRIPT_PACKAGE is defined in dpkg-maintscript-helper.
    Closes: #907772
  * Switch dpkg-gencontrol and dpkg-genchanges to track automatically
    generated artifacts by using the Auto-Built-Package field from the binary
    package instead of hardcoding package name patterns (such as «-dbgsym$»).
  * Add new --reverse option to dpkg-parsechangelog, to list the changelog
    entries in reverse order.
  * Architecture support:
    - Add support for riscv64 CPU. Closes: #822914
      Thanks to Manuel A. Fernandez Montecelo <mafm@debian.org>
    - Document the purpose and columns in the tupletable file.
  * Portability:
    - Add libcompat md5 module to the libcompat-test library, so that we
      always make sure it builds, even when we use an external implementation.
    - Convert libcompat md5 module to use C99 int types, instead of mapping
      them from the BSD types at configure time.
    - Use MD5_CTX instead of struct MD5Context, as the prevalent more portable
      type on system's <md5.h> headers.
    - Check for ldconfig command in dpkg only on platforms that do have it.
    - Fix file descriptor leak in start-stop-daemon on AIX.
    - libcompat: Add new strchrnul() implementation.
  * Perl modules:
    - Dpkg::Source::Package::V1: Check that $tarname is defined before use.
      Thanks to Christoph Biedl <debian.axhn@manchmal.in-ulm.de>.
      Closes: #879124
    - Dpkg::Vendor::Debian: Use proper %use_feature key. This was causing perl
      errors on paths not accepted for fixdebugpath.
      Reported by Mattia Rizzolo <mattia@debian.org>, on IRC. Closes: #881051
    - Dpkg::Changelog: Print versions for incorrect changelog range warnings.
      Thanks to Paul Wise <pabs@debian.org>.
    - Dpkg::Shlibs::SymbolFile: Check that $state->{seen} exists instead of
      $state being just defined. Fixes regression in dpkg-gensymbols symbols
      output. Thanks to Dmitry Shachnev <mitya57@debian.org>. Closes: #880166
    - Dpkg::Arch: Add new positive options argument to arch validators.
    - Dpkg::Vendor::Debian: Mark hurd-i386 as having gcc builtin PIE.
      Requested by Samuel Thibault <sthibault@debian.org>.
    - Dpkg::Source::Package::V2: Print one building line per existing tarball.
    - Dpkg::Source::Package: Print building lines for upstream tarball
      signatures. Closes: #888787
    - Dpkg::Deps: Turn virtualpkg tracking from an arrayref into a hashref.
    - Dpkg::Vendor::Debian: Mark riscv64 as having gcc builtin PIE.
    - Dpkg::Shlibs::Objdump: Fix ELF program detection, for PIE binaries and
      executable libraries.
    - Dpkg::Version: Fix bool overload behavior back to be an is_valid()
      alias. Emit a specific perl warning until 1.20.x so that users can check
      whether the semantic change has any impact on the code, which can then
      be quiesced. Closes: #895004
    - Dpkg::Changelog::Parse: When detecting the changelog format, read the
      last 4KiB of the file instead of using «tail -n40», which should be
      both faster and more portable, as the default tail(1) is not POSIX
      compliant on all systems (c.f. Solaris).
    - Dpkg::Build::Types: Add new set_build_type_from_targets() function.
    - Dpkg::Shlibs::SymbolFile: Always assign a proper Dpkg::Version to the
      deprecated variable, otherwise the scalar value 0 can get confused
      on scalar context to denote it is *not* deprecated instead of being
      version 0.
    - Dpkg::Shlibs: Disable bool overload Dpkg::Version warnings.
    - Dpkg::Vendor::Debian: Inline _parse_feature_area() into
      _add_build_flags(), for a small speed up and line count reduction.
    - Dpkg::BuildFlags: Move default flags setting into the Dpkg::Vendor
      modules.
    - Dpkg::Gettext: Fix fallback textdomain() to honor its expected interface.
    - Dpkg::Deps: Split subpackages into their own separate modules.
    - Dpkg::Source: Do not change patch permissions if not necessary.
      Closes: #898010
    - Dpkg::Substvars: Reword used/unused warnings to clarify their meaning.
      Closes: #904258
    - Dpkg::Shlibs: Warn when using LD_LIBRARY_PATH with a private library
      directory which is a descendent of the current working directory.
    - Dpkg::Source::Package::V3::Quilt: Print series file used when applying
      patches.
    - Dpkg::OpenPGP: Return the destination path on successful ASCII armor
      conversion.
    - Dpkg::Control::Fields: Do not use & sigil for function calls.
    - Dpkg::Shlibs: Ignore nonexistent directories present in LD_LIBRARY_PATH.
    - Dpkg::Deps::KnownFacts: Satisfy :native with arch:all packages too.
      These are treated as native packages everywhere else in the multi-arch
      design, this was the only exception, which has become a source of
      packaging problems as of late. This was apparently an oversight in
      the original implementation. Closes: #854438
    - Dpkg::Vendor::Debian: Add fixfilepath support to reproducible feature.
    - Dpkg::Dist::Files: Add support for file attributes.
  * Documentation:
    - Update gettext minimal version in README.
    - Add a missing dot on the dpkg-buildflags(1) «lfs» feature paragraph.
      Spotted by Helge Kreutzmann <debian@helgefjell.de>.
    - Document DPKG_COLORS environment variable for all programs using it.
    - Document DPKG_NLS environment variable for all programs using it.
    - Document the Testsuite and Testsuite-Triggers fields in
      deb-src-control(5). Prompted by Mattia Rizzolo <mattia@debian.org>.
    - Update git URLs for move away from alioth.debian.org.
    - Fix set_build_type_from_options() description in Dpkg::Build::Types.
    - Clarify PIE build flag feature semantics. Closes: #900088
    - Clarify dpkg-buildpackage pre and post-clean options and their default
      state.
    - Add --build option equivalents for dpkg-buildpackage short build type
      options in --help output.
    - Fold dpkg-buildpackage --[no-]check-builddeps in --help into both -D
      and -d option descriptions.
    - Mark profiles as a replaceable item in dpkg-buildpackage --help output.
    - Update test suite requirements in README.
    - Document textdomain() and ngettext() replacement functions in
      Dpkg::Gettext POD.
    - Clarify arch-qualified dependency simplification in Dpkg::Deps POD.
    - Improve Dpkg::Deps modules and methods documentation.
    - Fix typo in deb-changes(5). Closes: #902616
    - Clarify awaiting state for interest and activate directives.
      Closes: #904060
    - Fix man page markup. Closes: #900033, #900035, #900040
      Thanks to Bjarni Ingi Gislason <bjarniig@rhi.hi.is>.
    - Fix Doxygen comment for libdpkg dpkg_arch_find() function.
    - Document the dangers of using start-stop-daemon(8) only with --pidfile
      as matching option with the pid file owned by a non-privileged user.
  * Code internals:
    - Do not use stringy eval to define different sub implementations,
      just assign an anonymous sub to the typeglob.
    - Use memccpy() instead of strncpy() to quiesce a gcc-8 warning.
    - Change pkgbin_name_needs_arch() to never arch-qualify packages that
      have an empty or no architecture, which was already handled as part
      of varbuf_add_archqual().
    - libdpkg: Factor out cached arch-qualified package name generation into
      new pkgbin_name_archqual() function.
    - libdpkg: Add new pkg_name() and pkgbin_name() const variants.
    - libdpkg, dselect: Use new pkg_name_const() and pkgbin_name_const().
    - libdpkg: Rename struct pkginfo files member to archives.
    - dpkg: Call ensure_package_clientdata() defensively.
    - dpkg: For read-only state functions, check that clientdata is allocated
      before using it.
    - libdpkg: Move files list information from dpkg clientdata to pkginfo.
    - dpkg: Move ensure_package_clientdata() into its own file.
    - libdpkg: Move db-fsys code from src to lib/dpkg.
    - libdpkg: Rename pkg-db module to pkg-hash.
    - libdpkg: Simplify pkg_files_blank() by using a pointer to pointer to
      track the previous entry.
    - libdpkg: Factor out package files handling into its own module.
    - libdpkg: Switch to a new tiny struct to track file on-disk identity.
      This should reduce the run-time memory used.
    - libdpkg: Reset nfiles in files_db_reset().
    - libdpkg: Split push_cleanup() into push_cleanup_fallback().
    - Switch from strchr() + strlen() to strchrnul().
    - libdpkg: Change dpkg_error to track errno values.
    - libdpkg: Add new varbuf_new() and varbuf_free() functions.
    - libdpkg: Add new file_slurp() function.
    - libdpkg: Switch db-fsys to use the new file_slurp() function.
    - libdpkg: Add new pkg_infodb_reset_dir().
    - libdpkg: Add new m_dup() function.
    - libdpkg: Factor out package stanza printing into its own function.
    - libdpkg: Split pager specific code into its own module.
    - libdpkg: Add pager spawning and reaping support.
    - Use new pager spawning support instead of open-coding it, or piping it
      via a shell invocation, which required metacharacter escaping.
    - dpkg-query: Split enqperpackage() into each different action.
  * Build system:
    - Set distribution tarball format to ustar, instead of default v7 format.
    - Mark PO4A and POD2MAN as precious variables.
    - Automatically replace -Wno- with -W when testing compiler flags,
      instead of passing the positive form manually.
    - Enable clang -Wdocumentation warning if available.
    - Enable gcc-7 -Wregister warning if available.
    - Add CPAN distribution machinery for the perl modules. Closes: #821177
    - Add an autogen script to help people bootstrap the project.
    - Distribute the man.stamp from VPATH.
    - Preserve timestamps when distributing man pages.
    - Add a GitLab CI configuration file.
    - Disable C optimization levels when configuring for code coverage.
  * Packaging:
    - Install update-alternatives policykit-1 file.
    - Add Breaks to libdpkg-perl against pkg-kde-tools (<< 0.15.28~), as
      that package is using private modules with no API guarantees, that
      obviously broke due to recent changes in 1.19.0. Closes: #878919
    - Add Breaks on debhelper << 10.10.1~ to dpkg-dev, so that debhelper users
      wanting to use R³ support do not need a versioned dependency on dpkg-dev.
    - Add Breaks dgit << 3.13~ to libdpkg-perl, as older dgit versions assumed
      that Dpkg::Compression::Process was available, via implicit import
      from Dpkg::Source::Package.
      Reported by Ian Jackson <ijackson@chiark.greenend.org.uk>.
    - Bump Standards-Version to 4.1.1 (no changes needed).
    - Add bzip2 and xz-utils to Build-Depends, required by the functional test
      suite, but shadowed by dpkg-dev from the build system pulling those in.
    - Add versioned libncurses-dev as the first Build-Depends alternative.
      Thanks to Sven Joachim <svenjoac@gmx.de>.
    - Do not pass VERBOSE to test suite, as we are not using any automake
      test driver, so it does not get honored.
    - Rename maintainer-build DEB_BUILD_OPTIONS to new standardized terse.
    - Enable verbose test suite only in non-terse builds.
    - Add a Suggests on sensible-utils to libdpkg-perl.
    - Switch libdpkg-perl again to depend on perl:any, now that debootstrap
      in stable (stretch) supports arch-qualified dependencies.
    - Update libdpkg-perl public module list in package description.
    - Add Breaks on apt (<< 1.7~b) for --status-fd duplicate removals.
  * Test suite:
    - Skip Dpkg::OpenPGP test if gpg is not present.
    - Check POD in all perl scripts.
    - Consider *.PL also to be perl files.
    - Infer automatically the unit test data directory.
    - Infer automatically the unit test temp directory.
    - Add new po author test case (use i18nspector if available).
    - Add new test cases to clarify arch-qualified dependency simplification.
    - Add several TODO tests cases for dependency simplification.
    - Add new cppcheck author test.
    - Add support for new test_get_srcdir() test_get_builddir().
    - Add new unit tests for namevalue, fsys-hash and pkg-hash libdpkg modules.
    - Improve coverage of perl unit tests.
    - Delete fixup lines from i18nspector output instead of emptying them.
    - Add new codespell author test.
    - Add new test that the public libdpkg headers can be compiled with C++.

  [ Josh Triplett ]
  * Perl: Replace all calls to Cwd::cwd with Cwd::getcwd; the former calls
    /bin/pwd, while the latter uses the getcwd() syscall directly.

  [ Updated programs translations ]
  * Dutch (Frans Spiesschaert). Closes: #881401
  * German (Sven Joachim).
  * Italian (Milo Casagrande). Closes: #883085
  * Polish (Łukasz Dulny).
  * Simplified Chinese (Zhou Mo, Boyuan Yang). Closes: #900547, #890806
  * Spanish (Javier Fernández-Sanguino).
  * Traditional Chinese (Buo-ren Lin). Closes: #905887
  * Turkish (Mert Dirik). Closes: #886252

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * Dutch (Frans Spiesschaert). Closes: #881403
  * German (Helge Kreutzmann).
  * Simplified Chinese (Zhou Mo).

 -- Guillem Jover <guillem@debian.org>  Wed, 26 Sep 2018 15:13:22 +0200

dpkg (1.19.0) unstable; urgency=medium

  [ Guillem Jover ]
  * Remove an unused variable in dpkg-shlibdeps.
    Thanks to Niels Thykier <niels@thykier.net>.
  * Parse start-stop-daemon usernames and groupnames starting with digits in
    -u and -c correctly. Reported by Bodo Eggert <7eggert@online.de>.
  * Cache the result of «dpkg-query --control-path» calls in dpkg-shlibdeps.
    Based on a patch by Niels Thykier <niels@thykier.net>. Closes: #846405
  * Always use the binary version for the .buildinfo filename in
    dpkg-genbuildinfo. Reported by Raphaël Hertzog <hertzog@debian.org>.
    Closes: #869236
  * Fix integer overflow in deb(5) format version parser.
    Closes: #868356
  * Re-enable upstream tar signatures when building source format 1.0.
  * Make dpkg-deb --build sanity check the config maintainer script file type
    and permissions.
  * Add support to dpkg-deb for rootless builds, by setting the owner and
    group for the control.tar entries to root:root, and making it possible to
    do the same for the data.tar entries via the new --root-owner-group option.
    Based on a patch by Niels Thykier <niels@thykier.net>. Closes: #291320
  * Make dpkg-buildpackage error out if --as-root is passed without
    --rules-target.
  * Add support for rootless builds in dpkg-buildpackage by honoring the
    Rules-Requires-Root (R³) field.
  * Add new dpkg-buildflags --query command, which is like --status but in
    deb822 format.
  * Remove long obsolete dselect floppy method.
  * Remove traces of non-US support from dselect methods.
  * Add support for a new Build-Kernel-Version field in .buildinfo files,
    that can be emitted with a new dpkg-genbuildinfo --always-include-kernel
    option. Closes: #873937
  * Make dpkg-genchanges honor substvars in .changes Description field.
    Closes: #856547
  * Add support for source package Description and substvars. This new
    field in the debian/control source stanza will be copied into the .dsc
    file, and will also be used to initialize the new source:Synopsis and
    source:Extended-Description substvars that will be available when
    generating the DEBIAN/control and .changes files. Closes: #555743
  * Add new “future” feature area in dpkg-buildflags:
    - Add new «lfs» feature, to be used instead of the getconf(1) interface
      which cannot support cross-building.
  * Add new buildtools.mk make fragment to support build tools variable
    setup, for both TOOL and TOOL_FOR_BUILD variables. Not included by
    default from default.mk.
  * Make --uniform-compression the new default dpkg-deb behavior. Add support
    for negating the option via --no-uniform-compression.
  * Clarify subprocess error message by shuffling words around.
  * Print the package name on maintainer script errors. Closes: #877521
  * Fix capitalization of Debian in dpkg-deb output messages.
  * Add a policykit file for running update-alternatives via pkexec.
    Propose by Boyuan Yang <073plan@gmail.com>.
  * Perl modules:
    - Switch from Dpkg::Util to List::Util, now that the module in the
      new required Perl contains the needed functions.
    - Add a new "unique_tuple_key" option to Dpkg::Index set_options() to
      set better default "get_key_func" options, which will become the default
      behavior in 1.20.x. Prompted by Johannes Schauer <josch@debian.org>.
    - Mark ppc64 and powerpc as having gcc builtin PIE in Dpkg::Vendor::Debian.
    - Make the Dpkg::Substvars warnings output deterministic.
      Thanks to Chris Lamb <lamby@debian.org>. Closes: #870221
    - Remove unused POSIX module imports.
    - Use Errno module instead of the slow to import POSIX.
    - Remove unused Dpkg::Path from Dpkg::Vendor::Ubuntu.
    - Only load POSIX from Dpkg::Compression::FileHandle if we are going to
      use signal definitions, reducing the load time of many other modules.
    - Only load Dpkg::BuildOptions and Dpkg::Arch from Dpkg::Vendor-specific
      modules if we are going to use them, reducing the load time of many
      other modules.
    - Only load Term::ANSIColor from Dpkg::ErrorHandling if we are going to
      use colors, reducing the load time of many other modules.
    - Move color setup into report_pretty in Dpkg::ErrorHandling.
    - Move printforhelp initialization into usageerr() in Dpkg::ErrorHandling.
    - Avoid many function arguments in Dpkg::Shlibs::SymbolFile parse().
    - Avoid many function arguments in Dselect::Ftp do_connect().
    - Add new Dpkg::Interface::Storable option to disable compression support,
      so that we can load Dpkg::Compression::FileHandle only when enabled.
    - Disable decompression support for Dpkg::Vendor origin files.
    - Move file_lock() function into a new Dpkg::Lock module, to reduce the
      module load chain for several Dpkg modules.
    - Add support for new DPKG_NLS environment variable in Dpkg::Gettext,
      that when set to 0 will disable NLS (i18n) support in the Dpkg modules,
      and reduce the load chain.
    - Disable compression when using the default file in
      Dpkg::Changelog::Parse.
    - Mark all missing CTRL_INDEX_SRC and CTRL_INDEX_PKG fields as allowed
      in Dpkg::Control::FieldsCore.
    - Complete field order for CTRL_PKG_DEB and CTRL_FILE_STATUS types in
      Dpkg::Control::FieldsCore.
    - Switch to use lowercase field names for all internal field name
      handling in Dpkg::Control::FieldsCore, giving a significant speed up.
    - Remove dependency on Dpkg::Checksums from Dpkg::Control::FieldsCore.
    - Do not execute code when importing Dpkg::Control::FieldsCore.
    - Use substr instead of a regex to match the first line characters in
      when parsing control files in Dpkg::Control::HashCore.
    - Merge build flag methods into a single _add_build_flags private method
      in Dpkg::Vendor::Debian.
    - Do not use an intermediate variable in Dpkg::Control::HashCore::Tie
      STORE method.
    - Expect deb822 stanza delimiters more often than OpenPGP Armor Headers
      in Dpkg::Control::HashCore parse method.
    - Optimize trailing space matching on Dpkg::Control::HashCore parse
      method, by trimming it just once at the beginning of the iteration.
    - Optimize trailing space trimming on Dpkg::Control::HashCore parse
      method, by requiring that at least one whitespace is present.
    - Optimize first character matching in Dpkg::Control::HashCore parse
      method, by storing the first character in a variable.
    - Optimize field/value parsing in Dpkg::Control::HashCore parse method,
      by switching from a capturing regex to split() plus a checking regex.
    - Auto-convert binary signatures to OpenPGP ASCII Armor in
      Dpkg::Source::Package when building source packages.
    - Switch Dpkg::Source::Package::V3 modules to use find_command() instead
      of ad-hoc code.
    - Call source format prerequisites Dpkg::Source::Package method if
      present. Addresses: #877688
    - Unify Dpkg::ErrorHandling subprocess errors with the ones from libdpkg.
    - Do not emit a perl warning if gcc or dpkg is not found from Dpkg::Arch,
      the code already handles the commands not being present.
    - Do not unnecessarily require setting the host_arch in Dpkg::Deps.
      Closes: #856396
    - Do not normalize args past a passthrough stop word in Dpkg::Getopt.
      Some commands pass some arguments through to another command, and
      those must not be normalized as that might break their invocation.
      Reported by Helmut Grohne <helmut@subdivi.de>.
  * Documentation:
    - Document currently accepted syntax for changelogs in deb-changelog(5).
      Closes: #858579
    - Mark source:Version substvar in bold in deb-substvars(5).
    - Clarify behavior for dpkg-maintscript-helper. Closes: #857852
    - Use <command-string> instead of <command> for -c argument value in
      dpkg-architecture(1). Reported by Johannes Schauer <josch@debian.org>.
    - Itemize the CTRL_* constants in the Dpkg::Index POD.
    - Update buildinfo information in dpkg-buildpackage man page to match
      the current implementation.
    - Add all source files to POTFILES.in files.
    - Move deb-version man page to section 7.
    - Remove reference to obsolete dpkg-cross(1).
    - Sort control field export markers by tool order in deb-src-control(5).
    - Document Package-Type and Enhances fields in deb-control(5).
    - Write the actual glyphs used to delimit dependency restrictions in
      deb-src-control(5).
    - Move Package-Type description just after the Package field in
      deb-src-control(5).
    - Move udeb-specific fields to the end of the list of fields in
      deb-src-control(5), and mention these are really udeb-specific.
    - Document that dependency fields in binary stanza can have restrictions
      in deb-src-control(5).
    - Clarify that the Testsuite field is comma-separarted.
    - Fix update-alternatives man page section in alternatives/README file
      reference. Closes: #872309
    - Use correct name for archname validator value in dpkg(1) man page.
      Reported by Niels Thykier <niels@thykier.net.
    - Add new deb-src-rules(5) man page.
    - Document that trailing commas are valid in debian/control dependency
      fields, which get stripped when generating output files.
      Prompted by Mattia Rizzolo <mattia@debian.org>.
    - Clarify that sanitize options should not be used for production builds.
    - Remove recommendation to use Pre-Depends for trigger directives from
      deb-triggers(5). Closes: #864882
    - Add new rootless build experimental draft specification.
      Initial proposal by Niels Thykier <niels@thykier.net>, wording fixes
      and spec clarifications by Guillem Jover <guillem@debian.org>.
    - Fix several function signature documentation.
  * Code internals:
    - Switch perl code to use -> operator for function variables.
    - Switch perl code from split() with /\s+/ to ' '.
  * Build system:
    - Require Perl 5.20.2, the version in Debian oldstable (jessie).
    - Use new gcc-7 -Wrestrict and -Wshift-negative-value warnings if
      available.
    - Do not override the default DEPENDENCIES for libdpkg, extend it instead.
    - Install perl man pages in section 3perl.
  * Packaging:
    - Remove preinst maintainer scripts for dselect and dpkg-dev, for an
      ancient /usr/share/doc symlink to directory switch. Closes: #867327
    - Remove now unused libio-string-perl Build-Depends, and versioned
      dpkg-dev as we do not use build profiles any more.
    - Set Rules-Requires-Root field to no.
    - Do not set redundant source compression to xz.
    - Bump Standards-Version to 4.1.0 (no changes needed).
    - Switch to debhelper compatibility level 10.
    - Split alternatives logrotate into its own configuration file to help
      downstreams and derivatives.
    - Remove ancient code recompressing the alternatives database backups
      from xz to gzip in the dpkg daily cron job.
    - Remove Replaces and Breaks for ancient transitions.
    - Remove workaround for ancient gcc lacking stackprotectorstrong support.
    - Remove maintainer script code to handle downgrades to pre-triggers and
      pre-multiarch dpkg versions.
    - Remove alternative logs when purging dpkg (!?).
    - Add support for DPKG_ROOT in dpkg maintainer scripts.
    - Add git and bzr to libdpkg-perl Suggests. Closes: #877688
  * Test suite:
    - Enable perlcritic Documentation::RequirePodSections and
      Miscellanea::ProhibitTies.
    - Disable perlcritic ValuesAndExpressions::ProhibitEscapedCharacter.
    - Add a new all_perl_modules function to Test::Dpkg.
    - Add a new module-version unit test to check that module $VERSION
      matches the newest entry in the CHANGES section.
    - Use Module::Metadata instead of grepping for $VERSION in pod-coverage.
    - Avoid many function arguments in Dpkg_Changelog.t check_options().
    - Add a new unit test for Dpkg::Control::FieldsCore.
    - Switch from IO::String to native open() scalar support.
    - Use UTC0 when setting TZ.

  [ Updated programs translations ]
  * German (Sven Joachim).
  * Italian (Pietro Battiston). Closes: #864509
  * Portuguese (Miguel Figueiredo). Closes: #868800
  * Simplified Chinese (Zhou Mo, Boyuan Yang). Closes: #867133, #877929

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * Dutch (Frans Spiesschaert). Closes: #862924
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Tue, 17 Oct 2017 01:51:16 +0200

dpkg (1.18.24) unstable; urgency=medium

  [ Guillem Jover ]
  * Add missing symbols to the libdpkg map file.
  * Fix dpkg-shlibdeps to preserve the Dpkg::Shlibs::find_library() order
    when scanning symbols/shlibs files. This was causing generation of bogus
    dependencies when multiple packages provide the same SONAME on different
    directories. Regression introduced in dpkg 1.18.17. Closes: #860979
  * Make dpkg-maintscript-helper print all unowned files from a directory
    when printing the error message, to ease debugging those problems after
    the fact. Closes: #813454, #860238
    Based on a patch by Bastien ROUCARIÈS <roucaries.bastien@gmail.com>.
  * Add duplicate prevention code for debian/files to dpkg-genbuildinfo, so
    that successive runs with different versions and equivalent build types
    do not generate multiple .buildinfo entries to be uploaded, which is
    similar to what dpkg-gencontrol is doing for .deb files.
  * Fix conffile takeover handling during unpack in dpkg on --root or
    on diversions. Closes: #837051, #858004
  * Fix digest inference for shared conffiles, causing bogus takeover
    unpack errors. Regression introduced in dpkg 1.16.9. Closes: #861217
  * Improve tar entry metadata parsing in dpkg:
    - Do not parse device numbers for non block nor char tar entry objects.
    - Make the existing octal parser more robust, by checking for the
      expected format of leading zeros or spaces, followed by any ASCII
      octal characters (0-7), followed by zero or more space or NULs.
    - Add support for base-256 encoded numeric fields, to support large
      values, for UID/GID, device number, size and even signed timestamps.
      This is necessary not only to be able to store larger values, but to
      cover packages that can already be generated by dpkg-deb, given that
      it uses the system GNU tar when building. Closes: #850834
  * Architecture support:
    - Add support for ARM64 ILP32. Closes: #824742
      Thanks to Wookey <wookey@wookware.org>.
  * Perl modules:
    - Remove obsolete hardening-wrapper support from Dpkg::Vendor::Ubuntu.
      Thanks to Adam Conrad <adconrad@0c3.net>.
    - Bump $Dpkg::Deps::VERSION to match the one documented in CHANGES.
    - Ignore by default debian/files.new and debian/files for all source
      formats in Dpkg::Source::Package, because these are generated files
      with well known pathnames, part of the public interface, and with
      dpkg-genbuildinfo always injecting .buildinfo entries into
      debian/files, this meant this could disrupt previous workflows based
      on not cleaning the source tree.
  * Documentation:
    - Many spelling fixes. Thanks to Josh Soref <jsoref@gmail.com>.
    - Do not include misspellings in changelogs, as that makes detecting them
      more difficult.
  * Build system:
    - Use libexec variable for auxiliary internal programs, and set it to
      /usr/lib on Debian and derivatives.
    - Check that the detected tar is a GNU tar.
    - Check that the detected patch is a GNU patch, so that we get a directory
      traversal resistant patch implementation. This fixes CVE-2017-8283 by
      delegating those checks to patch(1), so that we trap blank-indented
      diff hunks trying to escape from the source tree.
  * Test suite:
    - Add a test case for blank-indented patches which were the cause for
      CVE-2017-8283.
    - Handle files with non-zero sizes in c-tarextract libdpkg test code.

  [ Updated programs translations ]
  * Catalan (Guillem Jover).
  * Czech (Miroslav Kure).

  [ Updated dselect translations ]
  * Catalan (Guillem Jover).

  [ Updated scripts translations ]
  * Catalan (Guillem Jover).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann, David Rabel). Closes: #857449
  * Spanish (Javier Fernández-Sanguino).

 -- Guillem Jover <guillem@debian.org>  Wed, 17 May 2017 13:16:25 +0200

dpkg (1.18.23) unstable; urgency=medium

  [ Guillem Jover ]
  * Handle unmatched arch-qualified virtual packages in dpkg-genbuildinfo,
    instead of letting perl die. Closes: #849944
  * Declare .buildinfo format as stable with version 1.0.
  * Do not depend on cxxabi.h to have declared __cxa_pure_virtual, use
    the same “__cxxabiv1” namespace as specified in the C++ ABI, instead
    of using the “abi” alias intended for use by userland.
    Thanks to Jörg Sonnenberger <joerg@netbsd.org>.
  * Add a comment on any C code switch case that falls through. Fixes new
    gcc-7 warnings.
  * Use snprintf() instead of sprintf() in libdpkg when constructing the ar
    member header, as we might overflow depending on the input data.
  * Portability:
    - Do not redeclare sys_siglist in libcompat when the system does so.
      Thanks to Thomas Klausner <wiz@NetBSD.org>.
    - Rename err variable to ret in start-stop-daemon as the former is a
      function on BSDs.
    - Use 5-argument kvm_getprocs() call form on OpenBSD in start-stop-daemon.
    - Use correct struct kinfo_proc ruid submember name on NetBSD in
      start-stop-daemon.
    - Define _KMEMUSER for NetBSD to get declarations for various
      struct kinfo_proc members in start-stop-daemon.
  * Perl modules:
    - Do not special case EM_SPARC32PLUS for NetBSD in Dpkg::Shlibs::Objdump,
      the code has been fixed in NetBSD as that situation could not happen.
    - Fix read() error handling in Dpkg::Shlibs::Objdump::get_format() to
      gracefully ignore non-ELF files again. Closes: #854536
    - Emit an explicit warning from Dpkg::Shlibs::Objdump::Object::analyze()
      for unknown executable formats instead of relying on objdump doing so.
    - Do not parse bogus ELF binaries in Dpkg::Shlibs::Objdump::get_format().
      Reported by Niels Thykier <niels@thykier.net>.
    - Add ‘.mnt-ignore’ to the default ignore lists in Dpkg::Source::Package,
      as we were already ignoring the ‘_MTN’ pathnames. Closes: #855450
      Thanks to Nicolas Boulenguez <nicolas@debian.org>.
    - Mark kfreebsd-amd64, kfreebsd-i386, sparc and sparc64 architectures as
      having gcc builtin PIE in Dpkg::Vendor::Debian.
    - Switch PIE handling in Dpkg::Vendor::Debian to have no default (!) and
      delegate the setting to gcc or an explicit request by a user. This is
      needed to cope with the general PIE brokenness situation in Debian, and
      the current specific brokenness of a Debian gcc patch mangling the dpkg
      build flags. Closes: #848129, #845550
  * Documentation:
    - Clarify the requirements for deb-conffile(5) pathnames. Closes: #854417
      Proposed by Dieter Adriaenssens <dieter.adriaenssens@gmail.com>.
    - Document dpkg-source --before-build and --after-build in --help output.
    - Document dpkg-buildpackage --ignore-builtin-builddeps in --help output.
  * Build system:
    - Check <sys/proc.h> by also including <sys/param.h>, on several BSD
      systems the header is not self-contained.
    - Handle libmd implementations built into system libc, as found on some
      BSD systems.
    - Do not fail on missing compression libraries or headers on automatic
      detection mode. Regression introduced in dpkg 1.18.14.
  * Test suite:
    - Use the detected perl interpreter instead of a random one from PATH.

  [ Updated programs translations ]
  * Dutch (Frans Spiesschaert). Closes: #856325

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * Dutch (Frans Spiesschaer). Closes: #856326

 -- Guillem Jover <guillem@debian.org>  Mon, 06 Mar 2017 05:41:11 +0100

dpkg (1.18.22) unstable; urgency=medium

  [ Guillem Jover ]
  * Turn status file parser errors on bogus field blank lines into warnings,
    otherwise the system cannot be easily recovered from. Regression
    introduced in dpkg 1.16.1. Reported by Jay Freeman <saurik@saurik.com>.
  * Perl modules:
    - Mask ARM ABI bits in the ELF processor flags in Dpkg::Shlibs::Objdump.
      These are too unreliable to be used for exact matching. Closes: #853793

  [ Updated programs translations ]
  * Turkish (Mert Dirik). Closes: #853202

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Wed, 01 Feb 2017 05:48:58 +0100

dpkg (1.18.21) unstable; urgency=medium

  [ Guillem Jover ]
  * Revert "Generate Testsuite-Restrictions fields from the test restrictions
    in dpkg-source into .dsc files". This change is contentious and should
    have been discussed more widely. Given that this has been live only for
    a couple of days, the impact should be minimal, but still something to
    take into account once and if this gets reintroduced. Closes: #852820
  * Perl modules:
    - Map alternative or old ELF machine types to canonical ones. We need
      those to match on the encoded ABI, otherwise dpkg-shlibdeps will not
      be able to find the objects.

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Sun, 29 Jan 2017 20:29:58 +0100

dpkg (1.18.20) unstable; urgency=medium

  [ Guillem Jover ]
  * Add a new --no-sign option to dpkg-buildpackage, to make it possible to
    disable all signing in a future-proof way.
  * Make dpkg-buildpackage --unsigned-changes not sign .buildinfo either.
    This breaks the expectations of users and tools, because there was no
    way previously to request no signing at all. Closes: #852822
  * Perl modules:
    - Mask the machine bits for SH and MIPS in the ELF processor flags in
      Dpkg::Shlibs::Objdump. These do not define the ABI, and make the
      objects not match when they should, when looking for shared libraries
      from dpkg-shlibdeps.
    - Encode the ELF ABI as a big-endian byte stream, so that decoding for
      output gives meaningful results.
    - Disable the NFS-unsafe warning on Linux, as using flock() on NFS has
      been safe for some time now. Addresses: #677865 (on Linux)
  * Documentation:
    - Document the Built-For-Profile field in deb-changes(5).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Sat, 28 Jan 2017 06:32:53 +0100

dpkg (1.18.19) unstable; urgency=medium

  [ Guillem Jover ]
  * Stop emitting Built-For-Profiles from dpkg-gencontrol. The information
    is already provided in .buildinfo and .changes files, and including it
    in the binary packages makes them unreproducible even when the profile
    used would not alter its contents. Closes: #831524
  * Do not allow empty epochs and revisions in versions. When there's at
    least one colon or one dash, we should expect epoch and revision numbers.
  * Always set SOURCE_DATE_EPOCH in dpkg-buildpackage and dpkg-source. Use
    the current date if the changelog does not have one. Closes: #849081
  * Refactor update-alternatives pathname existence check into a new function.
  * Avoid useless repeated lstat()s in update-alternatives.
  * Only check for debian/tests/control file once in dpkg-source.
  * Generate Testsuite-Restrictions fields from the test restrictions in
    dpkg-source into .dsc files. Closes: #847926
    Based on a patch by Iain Lane <laney@debian.org>.
  * Improve the ELF ABI mismatch detector in dpkg-shlibdeps, by parsing the
    ELF header ourselves. While still not perfect (things like linux-i386 and
    hurd-i386 will still match), it will filter lots of previously matching
    objects that should have been ignored, and will work even when objdump
    does not know about the specific object details. Closes: #849913
  * Add initial support for DEB_BUILD_OPTIONS to dpkg-genbuildinfo. This will
    make it possible to enable or disable specific features that should be
    recorded in the .buildinfo file. For now only “all” and “path” are
    supported. Closes: #848705
  * Add again the architecture from the filename to .changes files for any
    artifact with one. This reverts the change introduced in dpkg 1.18.11.
  * Fold the filtering and checksumming of files to distribute in a .changes
    file in dpkg-genchanges into the initial loop. This way we do not include
    architectures for artifacts we are not going to distribute, and do not
    unnecessarily recompute the checksums for artifacts like the sources.
  * Do not compute the architecture list twice in dpkg-genchanges.
  * Include .buildinfo files also for source-only uploads in dpkg-genchanges.
    Closes: #846164
  * Fix check for expected number of binary artifacts in dpkg-genchanges, to
    only take into account the artifacts that we are distributing.
  * Fix parsing of Pre-Depends and Depends in dpkg-genbuildinfo, so that
    the code parses both and not just the first to appear in the stanza.
    Based on a patch by Johannes Schauer <josch@debian.org>.
  * Add support for signed .buildinfo files to dpkg-buildpackage. Add new
    -ui and --unsigned-buildinfo options. Closes: #843925
  * Portability:
    - On GNU/Hurd try to use the new process executable name attribute from
      libps, to properly match on start-stop-daemon --exec.
  * Perl modules:
    - Fix Debian architecture wildcard parsing so that matching four-tuple
      matchings work. Missed in dpkg 1.18.11.
      Reported by Julian Andres Klode <jak@debian.org>.
    - Add new import tags for Dpkg::Arch.
    - Abort on EOF in patch name prompt in Dpkg::Source::Package::V2,
      instead of getting into an infinite loop. Closes: #851441
    - Call anonymous subs via -> operator instead of casting with &, and fix
      bogus POD documentation to match the code.
    - Add new Auto-Built-Package field to Dpkg::Control::Fields.
    - Add a new debug() reporting function, and switch code to use it.
    - Add new Dpkg::BuildOption parse_features() method refactored from
      Dpkg::Vendor::Debian.
  * Documentation:
    - Cleanup software requirements in README.
    - Move control member file references from dpkg(1) to deb(5).
    - Fix typos in docs and code comments.
    - Document Auto-Built-Package field in deb-control(5).
  * Build system:
    - Disable disk pre-allocation by default, but let the builder re-enable
      it via a new configure option. This has been causing major performance
      issues on "modern" filesystems.
  * Packaging:
    - Add debsig-verify to dpkg Suggests. The code optionally supports this
      specific signed .deb verification program.
      Prompted by Stuart Prescott <stuart@debian.org>.
  * Test suite:
    - Generate and check all currently possible architecture wildcards.
    - Correctly iterate over all default and passed .dsc template substvars.

  [ Updated programs translations ]
  * Dutch (Frans Spiesschaert). Closes: #851889
  * German (Sven Joachim).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * Dutch (Frans Spiesschaer). Closes: #851891
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Fri, 27 Jan 2017 05:43:36 +0100

dpkg (1.18.18) unstable; urgency=medium

  [ Guillem Jover ]
  * Documentation:
    - Document DPKG_DATADIR in an ENVIRONMENT section in dpkg-architecture(1).
    - Add a rationale for the purpose of Testsuite-Triggers in dsc(5).
      Prompted by Mattia Rizzolo <mattia@debian.org>.
  * Packaging:
    - Revert the perl to perl:any dependency change in libdpkg-perl, as that
      breaks debootstrap in stable (jessie), testing (stretch) and unstable,
      which do not support arch-qualified dependencies. We'll have to live
      with the Multi-Arch hinter being unhappy for now.

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Tue, 20 Dec 2016 13:53:12 +0100

dpkg (1.18.17) unstable; urgency=medium

  [ Guillem Jover ]
  * Handle empty versions on validation in dpkg-maintscript-helper as they
    are optional. Regression introduced in dpkg 1.18.16. Closes: #848422
  * Validate versions too in dpkg-maintscript-helper symlink_to_dir and
    dir_to_symlink commands.
  * Improve logic to identify packages owning a library in dpkg-shlibdeps,
    by handling the same library appearing more than once on the filesystem
    Thanks to Raphaël Hertzog <hertzog@debian.org>. Closes: #843073
  * Documentation:
    - Clarify that dpkg-buildpackage does not run «dpkg-source --before-build»
      when using the -T option. Closes: #649531
    - Document that dpkg sets DPKG_ADMINDIR on maintainer script environment.
  * Packaging:
    - Do not let dh_perl insert a dependency for libdpkg-perl, because it
      emits perl instead of perl:any. Instead hardcode a perl:any dependency
      to comply with the perl policy and make the Multi-Arch hinter happy.

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Mon, 19 Dec 2016 02:43:10 +0100

dpkg (1.18.16) unstable; urgency=medium

  [ Guillem Jover ]
  * Add support for specifying multiple targets on «dpkg-buildpackage -T»
    which will be run successively. Closes: #671074
  * Reject empty upstream versions in C and perl code. These are not permitted
    by deb-version(5), but the code was letting those through.
  * Use lzma_cputhreads() instead of sysconf(_SC_NPROCESSORS_ONLN) as the
    former is way more portable.
  * Automatically decrease xz encoder threads to try to not exceed available
    memory limits. This should alleviate the insane requirements of memory
    needed on 32-bit architectures with many cores, which results in more
    than the userspace addressable memory, when using settings such as
    -z9 and/or -Sextreme in dpkg-deb. Closes: #846564
  * Add new dpkg --validate-<thing> commands to validate the syntax of
    various <thing>s, where the current list is «pkgname», «trigname»,
    «archname» and «version».
  * Use the new dpkg --validate-version command in dpkg-maintscript-helper,
    instead of abusing the --compare-versions command to perform version
    validation. Closes: #844701
  * Allow readlink(2) to return a size smaller than stat(2) in dpkg. Some
    bogus filesystems do not return the actual symlink size in st_size,
    which contradicts POSIX. But allowing the case where the returned size
    is smaller than the one used to allocate memory is harmless, although
    suspect. Let it through, but still print a warning so that users can
    install stuff but are reminded they need to get a fixed filesystem in
    place. This has affected at least ecryptfs in the past and now
    file-based encryption support in ext4 on Android N.
  * Add new dpkg-query virtual field source:Upstream-Version. Closes: #844348
  * Perl modules:
    - Whitelist DPKG_GENSYMBOLS_CHECK_LEVEL, DPKG_ROOT, DPKG_ADMINDIR and
      DPKG_DATADIR environment variables in Dpkg::Build::Info.
  * Documentation:
    - State the current working directory used when running dpkg-buildpackage
      hooks.
    - Add a new ENVIRONMENT section to dpkg-gensymbols(1) and document
      DPKG_GENSYMBOLS_CHECK_LEVEL there.
    - Fix bogus description of --force-confmiss in dpkg(1). Regression
      introduced in 1.16.4. Reported by Sven Joachim <svenjoac@gmx.de>.
      Closes: #846395
    - Update dpkg-parsechangelog parser options. The options specific to
      the changelog parser program did not get updated when the parser got
      switched to be a perl module. Missed in dpkg 1.18.8. Closes: #848189
  * Build system:
    - Enable compression libs also in automatic check mode in configure.
    - Honor DPKG_DATADIR again in the installed Dpkg modules. This was an
      explicit public interface, documented in the man page.

  [ Updated programs translations ]
  * Dutch (Frans Spiesschaert). Closes: #848378
  * Simplified Chinese (Zhou Mo). Closes: #844955

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).
  * Swedish (Martin Bagge). Closes: #847220

  [ Updated man pages translations ]
  * Dutch (Frans Spiesschaert). Closes: #848379
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Sat, 17 Dec 2016 00:25:53 +0100

dpkg (1.18.15) unstable; urgency=medium

  [ Guillem Jover ]
  * Improve PIE flags support:
    - Do not enable PIE when linking static programs. glibc-based systems
      do not support this combination and produce very bogus output.
      Proposed by Szabolcs Nagy <nsz@port70.net>. Closes: #843714
  * On source builds add 'source' to the Architecture field in the
    .buildinfo file in dpkg-genbuildinfo.
  * Add new Build-Date field to .buildinfo files.
  * Generate deterministic .buildinfo filenames in dpkg-genbuildinfo,
    following the same pattern as used for .changes files.
  * Bump .buildinfo Format to version 0.2.
  * Change dpkg-buildpackage -j and -J on “auto” mode to fallback to serial
    execution when we cannot infer the number of online processors on
    unsupported or exotic systems. This should be a safer mode of operation.
    Proposed by Simon McVittie <smcv@debian.org>.
  * Only preallocate disk size in dpkg for unpacked files bigger than 16 KiB.
    Closes: #824636
  * Perl modules:
    - Validate architecture arguments in Dpkg::Deps deps_parse().
      Prompted by Johannes Schauer <josch@debian.org>.
  * Documentation:
    - Escape dashes in field names in dpkg-buildinfo(1).
  * Test suite:
    - Mark partially documented POD modules as TAP TODO.

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Wed, 16 Nov 2016 03:28:05 +0100

dpkg (1.18.14) unstable; urgency=medium

  [ Guillem Jover ]
  * Improve PIE flags support:
    - Rename the spec name cc1_options to self_spec.
      Suggested by James Clarke <jrtc27@jrtc27.com>
    - Do not set PIE options if they have been negated, and do not reset
      them if they have been requested.
    Closes: #843791, #843826
  * Fix use after free error in dpkg. It was trying to print messages that
    had already been freed as part of the database memory pool, causing in
    some cases segfaults when reporting the error summary at the end.
    Regression introduced in dpkg 1.18.11. Closes: #843874
  * Change default color behavior to auto.
  * Perl modules:
    - Fix confusing date parse error message in Dpkg::Changelog::Entry::Debian
      when the date contains “May”. Closes: #843829
      Thanks to Nishanth Aravamudan <nish.aravamudan@canonical.com>.
    - New module Dpkg::Build::Info module refactored from dpkg-genbuildinfo.
      Requested by Johannes Schauer <josch@debian.org>.
  * Documentation:
    - Improve the DEB_BUILD_OPTIONS description in dpkg-buildpackage(1).
      And mention the parallel option there.
    - Explicitly mention in dpkg-buildpackage(1) that setting the number
      of parallel jobs to 1, restores the serial behavior.
      Prompted by Thorsten Glaser <t.glaser@tarent.de>.
  * Packaging:
    - List public Dpkg::Control::Tests module in libdpkg-perl description.
  * Test suite:
    - Do not fail tests on missing fakeroot, just skip them.
  * Build system:
    - Fix inversion logic in libmd configure check when requested explicitly.
    - Do not consider the compressor libraries available in configure if the
      headers are not usable.
    - Fix DPKG_BUILD_RELEASE_DATE to require DPKG_PROG_PERL, as it uses perl.
    - Change DPKG_BUILD_RELEASE_DATE to use perl instead of date(1) to
      format the timestamp, as the former is more portable.

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Fri, 11 Nov 2016 02:26:08 +0100

dpkg (1.18.13) unstable; urgency=medium

  * Improve PIE flags support:
    - Retroactively document in the changelog that PIE is enabled by default
      on all supported architectures regardless of gcc doing so itself on a
      subset of them.
    - When emitting PIE flags on architectures where gcc does not inject
      those itself, do it via a specs file too, so that maintainers can
      use them unconditionally regardless of the object being compiled
      or linked.
    - When injecting -no-pie for linking via the gcc specs file also
      inject -fno-PIE.
    - Update the documentation.
  * Perl modules:
    - Do not try to load non-files in Dpkg::Dist::Files load_dir method.
      Fixes test failures on non-Linux architectures. Closes: #843436
  * Packaging:
    - Add missing Breaks on old libdpkg-perl to dpkg. Closes: #843429
      Thanks to Sven Joachim <svenjoac@gmx.de>.
    - Ship deb-src-files(5) man page in dpkg-dev.
  * Build system:
    - Use deterministic dates for generated man pages. Closes: #843469
      Thanks to Reiner Herrmann <reiner@reiner-h.de>.

 -- Guillem Jover <guillem@debian.org>  Mon, 07 Nov 2016 03:28:42 +0100

dpkg (1.18.12) unstable; urgency=medium

  * Build system:
    - Set umask to 0022 for functional test suite.
  * Documentation:
    - Rename FILE FORMATS section to FILES in dpkg-source(1).
    - Use "dpkg suite" as the manual item in man pages .TH macro.
    - Use %VERSION% in dpkg-statoverride(1) source item in man page .TH macro.
    - Document environment variables used by source format modules in
      dpkg-source(1).

 -- Guillem Jover <guillem@debian.org>  Sun, 06 Nov 2016 05:36:20 +0100

dpkg (1.18.11) unstable; urgency=medium

  [ Guillem Jover ]
  * Make dpkg-maintscript-helper conffile commands more robust. Check that
    conffile pathname arguments are absolute paths and verify version number
    to be valid. Thanks to David Kalnischkies <david@kalnischkies.de>.
  * Add support to dpkg-scanpackages for scanning a single binary file.
    Thanks to Javier Serrano Polo <javier@jasp.net>. Closes: #833964
  * Obsolete dpkg-deb bzip2 and lzma compression methods by emitting errors.
  * Remove obsolete dpkg-deb --old and --new options.
  * Remove obsolete dpkg --print-installation-architecture option.
  * Fix dpkg error messages when parsing md5sum files to include the package
    name affected.
  * Do not emit epochs for unambiguous versions in deb-split package header.
    Regression introduced in dpkg 1.18.0.
  * Make the deb-split(5) generation in dpkg-split reproducible, by using the
    timestamp from SOURCE_DATE_EPOCH.
  * Generate reproducible file modes for the .deb control member contents.
    Closes: #787980
  * Switch from non-freeing malloc to m_malloc on statdb slurping.
  * Switch from non-freeing malloc to m_malloc for invoke hooks.
  * Always reset the package in-core database when shutting down the package
    database journal.
  * Do not crash if we pass a NULL cip argument to setaction() in libdpkg.
  * Shutdown the package database journal in dpkg --get-selections.
  * Fix (deactivated) dpkg --command-fd to initialize and reset the files
    database on each action.
  * Implement source stanza substvars prefixed with S: in dpkg-gencontrol.
    These auto-generated variables map each source stanza field into an
    output substvar prefixed with “S:”.
  * Make dpkg-source generate reproducible source packages when run
    standalone, by honoring SOURCE_DATE_EPOCH.
  * Fix several short-lived memory leaks in update-alternatives.
    Reported by Helmut Grohne <helmut@subdivi.de>.
  * Only set the error context message in libdpkg if it has been formatted
    correctly.
  * Return error in error_context_errmsg_format() only if the error message
    gets truncated. In case we have to use the emergency buffer because the
    previous vasprintf() call failed, we should only return an error code if
    the vsnprintf() call on the emergency buffer truncates the output.
  * Fix free() on uninitialized pointer in error_context_errmsg_format() in
    libdpkg. Regression introduced in dpkg 1.18.7. Closes: #842004
  * Move C++ support code into its own file.
  * Add replacement new and delete array operators to C++ support code.
  * Implement local abi::__cxa_pure_virtual. When using g++ if we provide our
    version of this function we can avoid the dependency on either libstdc++
    or libsup++.
  * Include missing <new> for new and delete operator declarations.
  * Do not log nor print duplicate dpkg removal action. We print
    “Removing <package> (<version>)” lines and log remove action twice
    when purging a package from frontends, because they usually first call
    --remove and then --purge sequentially. When purging a package which is
    already in config-files (i.e. it has been removed before), do not print
    nor log the remove action.
  * Remove default «.» from @INC before loading perl modules in perl code.
    Fixes CVE-2016-1238.
  * Give more information on --set-selections warnings. Closes: #842230
  * Add new DEB_*_ARCH_ABI and DEB_*_ARCH_LIBC variables to dpkg-architecture
    and architecture.mk Makefile fragment.
  * Do substvar instantiation just once in dpkg-gencontrol.
  * Fix dpkg-gencontrol to not update the files list file (debian/files)
    when printing to STDOUT (via -O).
  * Do not add architectures to .changes Architecture field for artifacts
    that are not a .deb or .udeb in dpkg-genchanges.
  * Add support for .buildinfo files:
    - Add new dpkg-genbuildinfo command.
    - Hook it into the dpkg-buildpackage machinery.
    Based on a patch by Jérémy Bobbio <lunar@debian.org>. Closes: #138409
  * Enable dpkg-buildpackage -Jauto by default. Closes: #842845
  * Fix dpkg to not fail when removing non-existent backup files on read-only
    filesystems. Closes: #838877
  * Enable PIE on all supported architectures and handle PIE enabled by
    default in gcc. On architectures where gcc enables them by default,
    stop setting -fPIE and -pie, and set -fno-PIE and -no-pie when disabling
    «pie» via gcc specs files, so that we do not emit them on situations
    where it would be inappropriate. Closes: #835149
    Based on a patch by Bálint Réczey <balint@balintreczey.hu>.
  * Architecture support:
    - Add support for AIX operating system.
    - Add a version pseudo-field to the arch tables.
    - Internally represent Debian architectures as quadruplets.
  * Portability:
    - Cast off_t variables to intmax_t when printing them with "%jd".
    - Add missing <string.h> include in libdpkg.
    - Cast strlen() return value to ssize_t to match write() return type.
    - Use underscore-prefixed system preprocessor symbols instead of namespace
      polluting ones (such as “linux”, “OPENBSD” or “hpux”).
    - Handle _POSIX_PRIORITY_SCHEDULING being defined to -1 or 0 in
      start-stop-daemon. This affects Mac OS X.
    - On FreeBSD return STATUS_UNKNOWN instead of false in start-stop-daemon
      do_procinit().
    - Port start-stop-daemon process handling to Mac OS X.
      Based on a patch by Mo McRoberts <mo@nevali.net>.
    - Port start-stop-daemon process handling to AIX.
    - Fix lookup by name on update-alternatives --config. The code was wrong
      and not working at least on Mac OS X, making the test suite to fail.
    - Only use gzip --rsyncable in Dpkg::Compression on Debian and hopefully
      derivatives, by using perl's $Config{cf_by} variable to key on. The
      Debian-specific --rsyncable option should have never been accepted for
      use in dpkg to begin with.
    - Use our own dpkg_ar_hdr struct instead of relying on the system
      ar_hdr struct, as the ar format is not standardized and does vary
      across systems, for example on AIX.
    - Add <sys/sysmacros.h> on AIX for major() and minor().
    - Add missing <errno.h> in libcompat.
    - Include libcompat getopt module when we need getopt_long.
    - Disable gettext support in libcompat getopt module. We do not carry
      translations for this module, and it makes it pull libintl for programs
      that might not use it otherwise.
  * Perl modules:
    - Obsolete Source-Version substvar in Dpkg::Substvars by emitting errors.
    - Rework keyring hooks in Dpkg::Vendor. Deprecate the keyrings hook, and
      add package-keyrings, archive-keyrings and archive-keyrings-historic
      hooks. Prompted by Johannes Schauer <josch@debian.org>.
    - Make the Dpkg::Substavars parse() method return the number of substvars
      parsed.
    - Add new set_field_substvars() method to Dpkg::Substvars.
    - Fix reproducible source package support in Dpkg::Source::Archive, by
      sorting the tar contents with --sort=name.
    - Prefix private Dpkg::Source::Package::* functions with _.
    - Defer filehandle closures in Dpkg::IPC::spawn() to avoid double-close.
      Closes: #839905, #840293
    - Always map the build type to the shortest string form in
      Dpkg::Build::Type::get_build_options_from_type().
    - Change Dpkg::Compression::FileHandle to inherit directly from IO::File
      instead of FileHandle.
    - Add new Dpkg::PROGTAR variable to store GNU tar command name.
    - Add new Dpkg::PROGMAKE variable to store GNU make command name.
    - Add new CTRL_FILE_BUILDINFO type to Dpkg::Control.
    - Add new .buildinfo fields to Dpkg::Control::Fields.
    - Add new builtin-system-build-paths Dpkg::Vendor hook.
    - Cope gracefully with changelogs missing a timestamp trailer.
      Based on a patch by Ian Jackson <ijackson@chiark.greenend.org.uk>.
      Regression introduced in dpkg 1.18.8. Closes: #843248
  * Packaging:
    - Add liblocale-gettext-perl to libdpkg-perl Recommends.
    - Wrap and document dependency relationships.
    - Remove obsolete dependency relationships, since Debian oldstable.
    - Remove update-alternatives, dpkg-divert and dpkg-statoverride
      compatibility symlinks, again.
    - Use perl:Depends via dh_perl instead of a hardcoded perl in Depends.
    - Add perl:Depends to dpkg-dev Depends.
    - Remove unused dh_strip from binary_indep target.
    - Remove ancient upgrade code from maintainer scripts (before 1.15.x).
    - Stop compressing the dpkg.deb package with gzip.
    - Move dpkg to be the first binary package stanza in debian/control, as
      debhelper assigns special meaning by considering it the main package.
    - Set MAKEFLAGS to -jN from parallel=N in DEB_BUILD_OPTIONS.
  * Documentation:
    - Update custom changelog parser API support status in README.api.
    - Fix typos in docs and man pages. Thanks to Jakub Wilk <jwilk@debian.org>
      Closes: #834584
    - Fix formatting in SOURCE_DATE_EPOCH description in dpkg-deb(5).
    - Improve dpkg-deb --build arguments documentation in dpkg-deb(1).
      Prompted by Johannes Schauer <josch@debian.org>.
    - Document the .changes filename that dpkg-buildpackage generates in
      dpkg-buildpackage(1). Prompted by Johannes Schauer <josch@debian.org>.
    - Add basic maintainer script man pages: deb-postinst(5), deb-postrm(5),
      deb-preinst(5) and deb-prerm(5).
    - Add new deb-src-files(5) man page.
      Prompted by Johannes Schauer <josch@debian.org>.
    - Add man page references to other binary control files in dpkg(1).
    - Add version when "new" substvars were introduced in deb-substvars(5).
    - Switch deb-triggers(5) types into a proper list.
    - Itemize --log format entries in dpkg(1).
    - Turn the update-alternatives(1) --query example item into a sub-section.
    - Turn the Multi-Arch values into a list in deb-control(5).
    - Improve user-defined field export marker documentation in
      deb-src-control(5); clarify that X can be followed by zero or more
      (instead of one or more) letters and turn the items into a proper list.
    - Generate the man pages at build time. This makes it possible to process
      them and update several variable strings such as system and package
      pathnames, the release date and the dpkg suite version. And makes it
      possible to use UTF-8 in the source and convert to the more conservative
      groff escape sequences on the output.
    - Switch from groff escape sequences to UTF-8 in man pages sources.
    - Disable hyphenation in man pages globally, because it performs very
      poorly on many technical terms.
    - Append the German man pages addendum at the end of the translation,
      instead of assuming that every page has the SEE ALSO section.
    - Explicitly mention that Dpkg::Checksums::add_from_file() is used to
      verify digests too. Prompted by Johannes Schauer <josch@debian.org>.
    - Document the behavior for consecutive calls to Dpkg perl module parse()
      methods. Prompted by Johannes Schauer <josch@debian.org>.
    - Document obsolete functions in Dpkg::Conf.
  * Test suite:
    - Make test main function a TEST_ENTRY macro. This avoids confusing
      coverage programs, as the file that actually contains the main function
      is the test itself.
    - Rename test suite commands to be prefixed with «c-» instead of «t-».
    - Add new dpkg-source functional tests.
    - Add new dpkg-buildpackage functional tests.
    - Add an initial functional test suite for dpkg-deb and dpkg-split.
    - Skip the involved tests if IO::String is missing.
    - Add new unit test for libdpkg error handling.
    - Delete MAKEFLAGS environment variable when testing make invocations.
    - Pass -q to grep command to suppress matched output in pod-coverage.t.
    - Ignore POD coverage for partially private modules.
  * Build system:
    - Add support for profiling perl modules.
    - Clean up compiler and linker automatic flag usage in configure.
    - Fix the __progname check to avoid the optimizer discarding the symbol.
    - Fix M4sh/Autoconf coding style. Add a new section to coding-style.txt
      describing M4sh/Autoconf.
    - Disable C++ exceptions for dselect.
    - Fix typo in SELinux library detection code, only affecting static
      mode (not used in Debian). Regression introduced in dpkg 1.18.8.
    - Change --with-* option logic to default to check.
    - Disable -Wtautological-constant-out-of-range-compare (for clang).
    - Check the availability of -W<warning> variant instead of -Wno-<warning>.
      As at least gcc and clang do not warn on -Wno-* warning flags, only
      when some unrelated warning needs to be emitted.
    - Bump po4a version to 0.43 (we are using --porefs wrap option).
    - Add support for running the test suite in parallel.
    - Specify exec argument for TAP::Harness to gracefully handle non-perl
      executables with older versions of the module.
    - Require libselinux 2.0.99 for baseline API, remove static linking
      support, use pkg-config unconditionally, and perform refinement checks
      only if available.
    - Check for the required minimal perl version.
    - Use builddir instead of CURDIR in man Makefile.am.
    - Use cp with -R instead of -r (the former is more portable and not
      marked as deprecated by POSIX).
    - Print an actual newline instead of a literal \n in lcov output.
    - Do not honor DPKG_DATADIR on the installed Dpkg module.
    - Pass --as-needed to the linker for dselect to avoid libstdc++ dependency.
      Which makes of dselect the only front-end not pulling the C++ run-time.

  [ Updated programs translations ]
  * Dutch (Frans Spiesschaert). Closes: #841117
  * German (Sven Joachim).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * Dutch (Frans Spiesschaert). Closes: #842187
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Sun, 06 Nov 2016 03:09:02 +0100

dpkg (1.18.10) unstable; urgency=medium

  [ Guillem Jover ]
  * Fix a short-lived memory leak in dpkg archive argument parsing.
  * When activating file triggers on conffile purge, use the conffile name
    instead of the real pathname it might refer to. This fixes a segfault
    when using --instdir, or when the conffile has been moved around and
    replaced with a symlink to the target.
    Regression introduced in dpkg 1.18.8. Closes: #830267
  * Perl modules:
    - Disable fixdebugpath feature on unsafe characters in the path.
    - Generate reproducible source tarballs by using the new GNU tar
      --clamp-mtime option in Dpkg::Source::Archive, to make sure no file
      in source packages has an mtime later than the changelog entry time.
    - Enable fixdebugpath build flag feature by default.
      Thanks to Mattia Rizzolo <mattia@debian.org>. Closes: #832179
    - Rename various private methods and functions with an underscore prefix
      and unified names.
    - Refactor perl modules directory list into a new function in Test::Dpkg.
  * Test suite:
    - Add new POD coverage author test for public perl modules.
  * Documentation:
    - Document Testsuite-Triggers in dsc(5).
    - Fix deb-changes(5) description to talk about .changes instead of .dsc.
      Reported by HW42 <hw42@ipsumj.de>.
    - Use debian/control as the SYNOPSIS in deb-src-control(5).
    - Add new deb-conffiles(5) man page.
    - Add references to deb-control(5) and deb-triggers(5) in dpkg(1).
    - Fix typos for repeated “the” word.
      Prompted by Valentin Samir <valentin.samir@crans.org> in #830989.
    - Fix misspelled -fdebug-prefix-map flag in dpkg-buildflags(1).
      Reported by Mattia Rizzolo <mattia@debian.org>.
    - Remove mention of source format 1.0 supporting building with upstream
      tarball signatures from dpkg-source(1), as this was disabled in 1.18.8.
    - Document all public methods in Dpkg::Changelog::Entry::Debian.
    - Escape dashes in deb-changes(5) and dsc(5) man pages.
    - Fix typos in dpkg-shlibdeps(1). Closes: #832434
      Thanks to Carsten Leonhardt <leo@debian.org>.

  [ Updated programs translations ]
  * German (Sven Joachim).
  * Turkish (Mert Dirik). Closes: #832070

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Sun, 31 Jul 2016 12:57:02 +0200

dpkg (1.18.9) unstable; urgency=medium

  * Require Dpkg::Control::Info in dpkg-buildpackage.
    Initially reported by Helmut Grohne <helmut@subdivi.de>.
    Regression introduced in dpkg 1.18.8. Closes: #829542
  * Documentation:
    - Fix user configuration filename in dpkg-buildpackage(1).
      Thanks to Sven Joachim <svenjoac@gmx.de>. Closes: #829546

 -- Guillem Jover <guillem@debian.org>  Mon, 04 Jul 2016 09:23:13 +0200

dpkg (1.18.8) unstable; urgency=medium

  [ Guillem Jover ]
  * Do not disable PIE buildflags on */kFreeBSD anymore. Closes: #823877
    Thanks to Steven Chamberlain <steven@pyro.eu.org>.
  * Add new long options in dpkg-buildpackage for any short option that is
    a useful configurable candidate.
  * Add configuration file support to dpkg-buildpackage, as buildpackage.conf
    under either the dpkg system or user configuration directories.
    Closes: #539692, #765494
  * Check that debian/tests/control is a regular file before parsing it.
  * Generate Testsuite-Triggers field from test dependencies in dpkg-source
    into .dsc files. Based on a patch by Martin Pitt <martin.pitt@ubuntu.com>.
    Closes: #779559
  * Add new dpkg-source --no-overwrite-dir extraction option. Closes: #826334
  * Fix number of entries computation returned by sysctl() on */kFreeBSD in
    start-stop-daemon.
  * Set return buffer length for sysctl(2) calls on */kFreeBSD in
    start-stop-daemon.
  * Abstract ar archive handling behind a new struct dpkg_ar and functions.
  * On dpkg --force-chrootless only set changedir to instdir if defined.
    Thanks to Niall Walsh <niallwalsh@celtux.org>. Closes: #824542
  * Set primary group to 0 in dpkg when running as root.
    Reported by Stuart Prescott <stuart@debian.org>.
  * Activate file triggers for conffiles on purge, which has never happened
    before. Before dpkg 1.17.0, conffiles were triggered on removal, which
    was obviously wrong. Reported by Helmut Grohne <helmut@subdivi.de>.
  * Fix strtol() errno check when parsing the COLUMNS envvar in dpkg-query.
    Thanks to Sven Joachim <svenjoac@gmx.de>. Closes: #827265
  * Use new GNU tar --clamp-mtime option in dpkg-deb to make sure no file in
    binary packages has an mtime later than the given time. Closes: #759886
  * Use the same timestamp for the ar container as for tarball mtime clamping
    in dpkg-deb.
  * Set ar timestamp and tar mtime clamping to SOURCE_DATE_EPOCH if defined
    in dpkg-deb. Based on a patch by Jérémy Bobbio <lunar@debian.org>.
  * Preset build timestamp to latest changelog entry in dpkg-buildpackage,
    by setting SOURCE_DATE_EPOCH environment variable if it is not already
    defined. Based on a patch by Jérémy Bobbio <lunar@debian.org>.
    Closes: #759999
  * Do not use the debian/rules build target fallback when building both
    architecture independent and dependent packages in dpkg-buildpackage.
  * Use architecture «all» as part of the .changes filename when building
    architecture independent binaries and no architecture dependent binaries.
    Closes: #826161
  * Do not emit warnings from dpkg-genchanges for automatic debug symbol
    packages that are not found in debian/control.
  * Export SOURCE_DATE_EPOCH from pkg-info.mk makefile snippet.
    Closes: #824572
  * Architecture support:
    - Add TILE-Gx support to cputable. Closes: #823167
      Thanks to Helmut Grohne <helmut@subdivi.de>.
  * Perl modules:
    - Use warnings::warnif() instead of carp() for deprecated warnings.
    - Add new format_range() method and deprecate dpkg() and rfc822() methods
      in Dpkg::Changelog.
    - Replace changelog program parsers with perl modules.
    - Add a getter for the Time::Piece object in Dpkg::Changelog.
    - Add new Timestamp field to Dpkg::Changelog output, which ends up on
      dpkg-parsechangelog's output.
    - Validate source version in set_version_substvars()'s Dpkg::Substvars
      method.
    - Revert "Dpkg::Conf: Switch implementation to be hash based", as this
      change broke backwards compatibility in multiple ways. The format_argv
      option was set by default, the order was not preserved, which was
      important for dpkg.cfg files, and duplicate option names stopped being
      supported. Add regression tests to avoid similar changes in the future.
      Closes: #824938
    - Add support for system and user config loading in Dpkg::Conf.
    - Add support for autopkgtest control files, with new CTRL_TESTS control
      type, new recognized fields to Dpkg::Control::Fields, and new modules
      Dpkg::Control::Tests and Dpkg::Control::Tests::Entry. Also update
      Dpkg::Index to support these.
    - Fix Dpkg::Deps so that architecture qualifiers only imply one another
      if they are the same. Closes: #745366, #827628
    - Add support for new environment variable DEB_BUILD_PATH to be able to
      control the path in the fixdebugpath feature in Dpkg::Vendor::Debian.
    - Preserve order when prepending shared library paths in Dpkg::Shlibs.
      This fixes the order of paths passed via dpkg-shlibdeps -l option.
      Closes: #823805
    - Check whether dependency restrictions are implied in Dpkg::Deps::Simple.
      Thanks to Ben Hutchings <ben@decadent.org.uk>. Closes: #827633
    - Disable upstream tar signature when building format 1.0 source packages
      in Dpkg::Source::Package::V1, as the current stable dpkg series do not
      support extracting them.
    - Preset Last-Update field in patch header template with current time in
      Dpkg::Source::Package::V2. Thanks to Daniel Shahaf <danielsh@apache.org>.
      Closes: #828146
  * Packaging:
    - Disable libmd usage in Debian and derivatives for now.
  * Build system:
    - Stop allowing to set deprecated bzip2 compressor as dpkg-deb default.
    - Use libmd automatically if available.
    - Uniformize library build options, from --with-zlib to --with-libz,
      --with-bz2 to --with-libbz2 and --with-selinux to --with-libselinux.
  * Test suite:
    - Bump perlcritic ValuesAndExpressions::RequireNumberSeparators minimum
      to 99999.
    - Add new pod-spell unit test.
    - Refactor common unit test checks for needed things into Test::Dpkg.
    - Accept perl's Lancaster Consensus AUTHOR_TESTING variable.
    - Add new minimum perl version unit test.
    - Add new synopsis unit test.
    - Add unit tests for dependency simplification with build profiles.
  * Documentation:
    - Improve dpkg-buildpackage(1) on environment expectations.
    - Clarify the format of the db:Status-Abbrev virtual field in
      dpkg-query(1). Closes: #824515
    - Document the tar entry size limitation for deb(5) format.
    - Document interaction between PIE and libraries in dpkg-buildflags(1).
      Based on text by Christian Seiler <christian@iwakd.de>.
    - Merge ENVIRONMENT sections in dpkg-buildflags(1).
    - Document various long options in dpkg-source --help output.
    - Move dpkg-source -q option from “Build options” to “General options”
      section in --help output.
    - Clarify shared library search order in dpkg-shlibdeps(1).
    - Remove most remaining AUTHOR sections from man a POD, as they are
      strongly discouraged, for being redundant, tending to get out-of-sync,
      and their format being inconsistent. In addition most got already
      removed in the past for the man pages.
    - Mark perlcritic as an optional author test dependency in the README.
    - Fix example code in Dpkg::Compression::FileHandle SYNOPSIS.

  [ Updated programs translations ]
  * German (Sven Joachim).
  * Simplified Chinese (Zhou Mo). Closes: #824873

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Sun, 03 Jul 2016 19:01:56 +0200

dpkg (1.18.7) unstable; urgency=medium

  [ Guillem Jover ]
  * Add new dpkg-source --require-strong-checksums option and change default.
    There is no point in erroring out on this condition when signature issues
    are only warnings, because we cannot guarantee we have functional keys
    for old signatures. Regression introduced in dpkg 1.18.5. Closes: #823428
  * Stop using several fixed sized buffers for program reporting, which in
    many cases could cause confusing truncation of long messages. Use heap
    allocated formatted strings instead:
    - In start-stop-daemon to report what to stop.
    - In dselect to print main and access methods menu entries.
    - In libdpkg command-line option parsing errors.
    - In libdpkg warning, notice and info reporting.
    - In libdpkg ohshit, ohshitv, ohshite and internerr. But in this case
      fallback to a fixed-size emergency buffer in case of allocation or
      formatting error, so that we can at least print something, even if
      truncated.
    Prompted by Manuel A. Fernandez Montecelo <mafm@debian.org>.
  * Colorize all fatal-error printing codepaths in libdpkg.
  * Architecture support:
    - Bump the GNU triplet cpu from i386 to i686 to match toolchain changes.
      Thanks to Ben Hutchings <ben@decadent.org.uk>. Closes: #823619
    - Clarify column descriptions in architecture table files.
  * Perl modules:
    - Relax dependency restrictions parsing to allow again sloppy spaces
      around versions, architectures and profile restrictions.
      Regression introduced in 1.18.5. Closes: #823431
    - Add new require_strong_checksums option to Dpkg::Source::Package.
    - Add new tests_dep option to Dpkg::Deps deps_parse() to allow the
      otherwise invalid ‘@’ character in dependencies. To be used when
      parsing the debian/tests/control file.
  * Documentation:
    - Shorten example symbol names in dpkg-gensymbols to avoid a mandb
      warning due to unwrappable lines in translations.

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Mon, 09 May 2016 03:19:52 +0200

dpkg (1.18.6) unstable; urgency=medium

  [ Guillem Jover ]
  * Fix file queue tail assignment on file queue pop during unpack. This
    could mess up the file queue in some circumstances and leave behind
    files in the filesystem as «pathname».dpkg-new after configuration
    and without traces of the files in the dpkg database. Closes: #823288
  * Use m_strdup() instead of strdup() in dpkg recursive installation code.
  * Fix off-by-one array allocation in dpkg recursive installation code that
    can cause segfaults.
  * Rename sysctl() “name” variable to “mib”, to avoid a clash with the
    call site function argument with the same name in start-stop-daemon.
    This fixes a build failure on */kFreeBSD systems.
  * Initialize number of entries on initial process scan in start-stop-daemon
    on */kFreeBSD.
  * Packaging:
    - Bump Standards-Version to 3.9.8 (no changes needed).

  [ Updated programs translations ]
  * German (Sven Joachim).

 -- Guillem Jover <guillem@debian.org>  Tue, 03 May 2016 20:17:05 +0200

dpkg (1.18.5) unstable; urgency=medium

  [ Guillem Jover ]
  * Print correct integer parse error for short-only command-line options.
    This affects «dpkg-deb -z». Closes: #809174
  * Do not abort when traversing symlinks to directories in dpkg-scanpackages
    and dpkg-scansources. Closes: #809219
  * Implement delete operator with size argument in dselect, required by the
    C++14 spec when the size-less delete operator is defined.
  * Use EACCES instead of EWOULDBLOCK for fcntl(2) F_SETLK in dselect.
  * Print the archive filename when dpkg cannot access it.
  * Check that all passed archive filenames to dpkg exist before queuing them.
    Closes: #809963
  * Use ohshit() instead of internerr() for unhandled dpkg-split exit codes.
    (i.e. do not abort). Closes: #812679
  * Detect non-regular file archive arguments earlier in dpkg.
  * Switch URLs in docs, code comments and packaging, from http:// or git://
    to https:// if the latter is available (round three). This includes the
    dpkg git repository, copyright format URL and examples in man pages among
    others.
  * Clarify where to find the GPL-2 license in debian/copyright.
  * Do not enable stack-protector on nios2 in Debian and derivatives (it is
    not supported by gcc yet).
  * Check first for build type to short-circuit boolean expressions in
    dpkg-genchanges.
  * Add source format backend-specific --help options support to dpkg-source.
  * Add MIPS R6 architectures to arch tables. Closes: #807340
    Thanks to YunQiang Su <wzssyqa@gmail.com>.
  * Fix memory leak when unpacking conffiles.
  * Use fixed string matching for pathnames in dpkg-maintscript-helper.
    Thanks to Carsten Hey <carsten@debian.org>.
  * Quote shell variables in dpkg-maintscript-helper.
    Thanks to Carsten Hey <carsten@debian.org>.
  * Anchor pathnames in sed and grep regexes in dpkg-maintscript-helper.
    Thanks to Carsten Hey <carsten@debian.org>.
  * Allow broken versions starting with a dash in dpkg-maintscript-helper.
    Thanks to Carsten Hey <carsten@debian.org>.
  * Add a new treewalk module in libdpkg, with the nice properties of avoiding
    duplicate stat(2) calls, not calling find(1), and sorting the output w/o
    stalling on the entire input being slurped and sorted.
    - Use it to build the .deb data member in dpkg-deb.
    - Use it to build the .deb control member in dpkg-deb.
    Closes: #719845
    - Use it with dpkg --recursive option.
  * Unify start-stop-daemon --help output with the rest of the tools.
  * Search for debsig-verify in PATH instead of using an absolute path.
  * Do not error out when failing to open the SE label db on permissive mode.
    Closes: #811037
  * Rewrite the trigger deferred file parser from flex to manual. The format
    is very simple, and a simple hand-written parser is smaller and avoids a
    build dependency.
  * Be more strict when parsing the COLUMNS environment variable in dpkg-query.
  * Make the Architecture field mandatory on package builds.
  * Use new Dpkg::Arch functions to validate and parse architectures when
    building source packages. Closes: #784808
  * Do safe matching of directories containing conffiles in
    dpkg-maintscript-helper, instead of using a variable pathname as a regex
    with grep, which is susceptible to metacharacters acting as part of the
    regex. Proposed by Carsten Hey <carsten@debian.org>.
  * Decouple local keyword declaration from command assignment in
    dpkg-maintscript-helper, which masks the command return value when
    using «set -e».
  * Make dpkg pass <new-version> to maintscript actions that cannot get it
    otherwise. These actions are now:
    - <new-postrm> failed-upgrade <old-version> <new-version>
    - <new-postrm> abort-install <old-version> <new-version>
    - <new-postrm> abort-upgrade <old-version> <new-version>
    - <new-preinst> install <old-version> <new-version>
    - <new-preinst> upgrade <old-version> <new-version>
    - <new-prerm> failed-upgrade <old-version> <new-version>
    Prompted by Andrey Utkin <andrey.krieger.utkin@gmail.com>.
  * Promote a print to a warning for missing control files in dpkg-deb.
  * Use info() instead of print in dpkg-buildpackage and dpkg-genchanges.
  * Add very basic color support to all dpkg namespaced programs, enabled by
    setting the environment variable DPKG_COLORS to “auto”, “always” or
    “never”, the latter being the default.
  * Add support for a new --build option to define build type by a
    comma-separated list of components (“source”, “any”, “all”, “binary” or
    “full”) in dpkg-genchanges and dpkg-buildpackage.
  * Add new -I option to dpkg-shlibdeps to ignore package build directories.
    Closes: #821025
  * Add new -O option to dpkg-genchanges.
  * Make dpkg export variable DPKG_ROOT in maintainer scripts. Closes: #804624
    Thanks to Helmut Grohne <helmut@subdivi.de>.
  * Add new --force-script-chrootless option to dpkg.
    Thanks to Helmut Grohne <helmut@subdivi.de>.
  * Portability:
    - Move DPKG_ADMINDIR environment variable name out from update-alternatives
      code, to make life easier for non-dpkg-based systems.
    - Move alternatives temporary extension out from update-alternatives code,
      to make life easier for non-dpkg-based systems.
    - Switch start-stop-daemon on */kFreeBSD to use the low-level sysctl(3)
      interface instead of libkvm-dev.
  * Perl modules:
    - Add new CTRL_REPO_RELEASE control block type to Dpkg::Control.
    - Add new CTRL_COPYRIGHT_HEADER, CTRL_COPYRIGHT_FILES and
      CTRL_COPYRIGHT_LICENSE control block types to Dpkg::Control.
    - Make patching a file multiple times fatal for the first quilt patch in
      Dpkg::Source. Reported by Apollon Oikonomopoulos <apoikos@debian.org>.
      Closes: #810720
    - Only warn once when a diff patches a file multiple times in
      Dpkg::Source::Patch, and fix the warning message to make it clear that
      the diff might be patching the file more than once, not just twice.
    - Check existence of search criteria in Dpkg::Index when checking with a
      regex or a string match. Closes: #780906
      Base on a patch by Daniel Dehennin <daniel.dehennin@baby-gnu.org>.
    - Add new functions to validate and parse architecture names in Dpkg::Arch.
    - Make the dependency parser more strict in Dpkg::Deps. Closes: #784806
    - Add strong digest marking support to Dpkg::Checksums.
    - Error out on source packages without any strong digests in
      Dpkg::Source::Package, used by dpkg-source --extract, which can still
      be disabled with --no-check.
    - Switch Dpkg::Conf implementation to be hash based, add two new accessors
      and a new option to the filter method to use the old behavior.
    - Do not parse entry multiple times in Dpkg::Changelog::Entry::Debian.
      Add new parse_header() and parse_trailer() methods, and deprecate
      check_header() and check_trailer() ones.
    - Use “GnuPG” instead of “gpg” in error messages to refer to the software
      in Dpkg::Source::Package.
    - Handle undef versions in Dpkg::Changelog from empty versions in
      changelog entry header lines.
    - Allow detached upstream orig tarball signatures when extracting
      version 1.0 non-native source packages.
    - Include upstream orig tarball signatures in source packages.
      See #759478.
    - Add fixdebugpath to reproducible feature in Dpkg::Vendor::Debian.
      Thanks to Daniel Kahn Gillmor <dkg@fifthhorseman.net>. Closes: #819194
  * Build system:
    - Fix building development documentation.
    - Remove unused UA_LIBS variable.
    - Split libps and libkvm detection into their own macros and variables.
    - Make it possible to build without system libmd.
    - Add a configuration summary to configure output.
    - Make git log invocation immune to local configuration.
    - Do not require passing the perl interpreter to run-script.
    - Quote dirname argument in run-script, to handle spaces in pathname.
      Reported by Carsten Hey <carsten@debian.org>.
    - Use a single po4a opt argument instead of the same per language.
  * Packaging:
    - Enable all hardening flags, starting with gcc-5 there is no performance
      loss anymore when enabling PIE on i386.
  * Test suite:
    - Add a unit test to compile perl code with warnings.
    - Add a unit test for the trigger deferred parser.
  * Documentation:
    - Say value instead of option in deb-control(5).
    - Mark debian changelog format in bold in dpkg-parsechangelog(1).
    - Add references to man pages describing file formats.
    - Document missing Install-Size, Built-For-Profiles and Build-Profiles
      fields in man pages.
    - Add new dsc(5), deb-changelog(5) and deb-changes(5) man pages.
    - Remove Debian specific policy references.
    - Remove superfluous SEE ALSO references from dpkg-source(1).
    - Fix --remove and --purge summary formatting in dpkg(1).
    - Move --audit description just after --verify in dpkg(1).
    - Mark Maintainer field as bold in deb-src-control(5).
    - Fix reference to --record-avail instead of nonexistent --avail.
    - Add missing quotes in man pages.
    - Document Source field version in deb-control(5).
    - Add new deb822(5) man page.
    - Document and improve C/C++ programs exit codes in man pages.
    - Clarify dpkg --path-exclude/--path-include pathname filter behavior.
      Closes: #811267
    - Clarify that packages are only automatically forgotten by dpkg if they
      contain no user data, such as package selections. Closes: #813179
    - Fix documentation for package flags in dpkg(1).
    - Clarify that deb-symbols(5) documents the binary format subset, and
      the template symbol files are described in dpkg-gensymbols(1).
      Closes: #795163
    - Update field requirements of control file formats to match dpkg reality.
    - Document the format of the origins filename in deb-origin(5).
    - Add list of flags set by bug feature area to dpkg-buildflags(1).
    - Switch output encoding of man pages to UTF-8.
    - Move SEE ALSO section to the end of Dpkg::Changelog::Debian.
    - Clarify that i386 does not suffer performance loss due to PIE anymore
      since gcc >= 5 in dpkg-buildflags(1).
    - Document in deb822(5) that deb-origin(5) also supports comments.
    - Clarify which characters constitute the deb822(5) control files syntax
      by using Unicode code points and their printable characters.
      Based on a patch by Ben Finney <ben@benfinney.id.au>.
    - Remove wrong mention that deb-control(5) support comments.
    - Make explicit that deb-control(5) documents the binary control file.
    - Add missing value for Standards-Version field in dsc(5).
      Reported by Helge Kreutzmann <debian@helgefjell.de>.

  [ Updated programs translations ]
  * Dutch (Frans Spiesschaert). Closes: #822797
  * German (Sven Joachim).
  * Japanese (Takuma Yamada). Closes: #819939
  * Portuguese (Miguel Figueiredo).
  * Simplified Chinese (Zhou Mo). Closes: #809517
  * Vietnamese (Trần Ngọc Quân).

  [ Updated dselect translations ]
  * Japanese (Takuma Yamada). Closes: #819940

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ New man pages translations ]
  * Dutch (Frans Spiesschaert). Closes: #822798

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Mon, 02 May 2016 04:14:57 +0200

dpkg (1.18.4) unstable; urgency=medium

  [ Guillem Jover ]
  * Switch dpkg-scansources and dpkg-scanpackages to use File::Find instead
    of find(1), as the former is more portable with more consistent behavior,
    and always canonicalizes the pathnames. Closes: #800649
  * Initialize Config-Version also for packages previously in triggers-pending
    state, otherwise we end up not passing the previously configured version
    to «postinst configure», which might consider this a first install instead
    of an upgrade. Closes: #801156
  * Fix memory leaks in «dpkg --verify» and dpkg infodb format upgrade logic.
  * Merge all update-alternatives action handling into a single if-else-if
    block, to unify the code an allow a future switch into a shared library.
  * Perform any necessary cleanups on normal exit from dpkg-divert --add and
    --remove commands.
  * Make dpkg-architecture warning on non-matching GNU system type compiler
    agnostic.
  * Add ‘.gitreview’ to the default dpkg-source ignore lists.
  * Add support for DPKG_MAINTSCRIPT_DEBUG environment variable to dpkg.
  * Fix dpkg-checkbuilddeps exit code to be 1 instead of a random error value
    on unsatisfied dependencies. Regression introduced in dpkg 1.18.3.
  * Fix an off-by-one write access in dpkg-deb when parsing the old format
    .deb control member size. Thanks to Hanno Böck <hanno@hboeck.de>.
    Fixes CVE-2015-0860.
  * Fix an off-by-one read access in dpkg-deb when parsing ar member names.
    Thanks to Hanno Böck <hanno@hboeck.de>.
  * Add experimental multithreaded xz compression support in libdpkg, which
    requires xz >= 5.2.0.
  * Fix physical file offset comparison in dpkg. Closes: #808912
    Thanks to Yuri Gribov <tetra2005@gmail.com>.
  * Fix usage of dpkg-architecture -s after other action options.
    Reported by Niels Thykier <niels@thykier.net>.
  * Add NIOS2 support to cputable. Thanks to Marek Vasut <marex@denx.de>.
  * On Debian and derivatives enable timeless build flag feature by default.
    Thanks to Paul Wise <pabs@debian.org>. Closes: #805872
  * Perl modules:
    - Add support for Build-Essential field. Closes: #806315
  * Test suite:
    - Improve perl code test coverage.
  * Build system:
    - Set PERL5LIB globally for the test suite to the local modules directory,
      to avoid using the system modules. Regression introduced in dpkg 1.17.8.
      Reported by Jérémy Bobbio <lunar@debian.org>. Closes: #801329
    - Use absolute buildir pathnames in PATH variable for the test suite.
    - Descend into scripts directory when cleaning up code coverage files.
    - Add new configure option --disable-devel-docs to select the kind of docs
      to generate, default for now is development documentation.
    - Try to use AM_GNU_GETTEXT_REQUIRE_VERSION to benefit from the latest
      installed gettext version, while guaranteeing a minimal required version.
  * Packaging:
    - Add missing Build-Depends for restriction formula support.
  * Documentation:
    - Move description for “target architecture” from the dpkg-architecture(1)
      ‘-A’ option to the TERMS section. Closes: #799046
    - Clarify that the md5sum check on «dpkg --verify» is performed on the
      file contents, and failures denote changed content. Closes: #760248
    - Document that dpkg-buildpackage -nc -S implies -d.
    - Clarify role of Build-Depends in deb-src-control(5).
      Prompted by Johannes Schauer <j.schauer@email.de>.
    - Document supported feature areas.
    - Clarify in dpkg-query(1) when binary:Package gets arch-qualified.
      Closes: #801958
    - Add a subsection separating external from internal environment variables
      in dpkg(1).

  [ Updated programs translations ]
  * Dutch (Frans Spiesschaert). Closes: #800513
  * Japanese (Kenshi Muto). Closes: #799432
  * Turkish (Mert Dirik). Closes: #799875

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann, Julian R). Closes: #807156

 -- Guillem Jover <guillem@debian.org>  Fri, 25 Dec 2015 13:20:26 +0100

dpkg (1.18.3) unstable; urgency=medium

  [ Guillem Jover ]
  * Fix short-lived memory leaks in start-stop-daemon. As a side effect now
    a missing group after ‘:’ on --chuid is a fatal error.
  * Print the master and slave links in «update-alternatives --display».
  * Print the current best alternative in the head instead of the trail
    in «update-alternatives --display», with a two space indentation.
  * Reimplement «update-alternatives --all» as a fully built-in command
    instead of executing itself with --config per subtask.
  * Reimplement «update-alternatives --set-selections» as a fully built-in
    command instead of executing itself with --set or --auto per subtask.
  * Add kfreebsd-armhf support to ostable and triplettable. Closes: #796283
    Thanks to Steven Chamberlain <steven@pyro.eu.org>.
  * Fix «dpkg --verify» with --root.
  * Fix an off-by-one write access in dpkg-deb when parsing the .deb magic.
    Reported by Jacek Wielemborek <d33tah@gmail.com>. Closes: #798324
  * Split overlong perl regexes into multiline extended regexes.
  * Switch dselect multicd method license from GPL2 to GPL2+, with consent
    from all its authors.
  * Fix inadvertent license change for lib/dpkg/utils.c from GPL2 to GPL2+.
  * Fix segfault when using «dpkg --no-act» with a synthetic --admindir.
    Reported by David Kalnischkies <david@kalnischkies.de>.
  * Perl modules:
    - Only warn on invalid week days instead of aborting in
      Dpkg::Changelog::Entry::Debian. Regression introduced in dpkg 1.18.2.
      Reported by Jakub Wilk <jwilk@debian.org>.
    - Do not warn when removing an empty subdirectory on source package
      extraction in Dpkg::Source::Package::V2. Closes: #796671
    - Do not abort on parse errors from Time::Piece->strptime() for the
      changelog trailer date, just queue them so that the caller can decide
      if they should be warnings or actual errors. Closes: #795936
    - Validate the changelog trailer date, and catch and warn or error on
      bogus month names, such as unknown or unabbreviated ones.
  * Test suite:
    - Get the reference build flags from dpkg-buildflags.pl, instead of
      hardcoding them, which might not match depending on the architecture.
      Closes: #794694
    - Delete any environment variable starting with DEB_ in mk.t that might
      affect the test results.
  * Build system:
    - Add a new --with-devlibdir configure option for the C libdpkg library.
  * Packaging:
    - Remove unneeded --sourcedir options from dh_install calls.
    - Use the new --with-devlibdir configure option to only switch libdpkg-dev
      files to the multi-arch directory. Closes: #794977
  * Documentation:
    - Fix typos for --predep-package option name. Closes: #794688
    - Add missing dashes to package-list in deb-src-control(5).
    - Mark each individual required field as such, instead of using segregated
      sections.

  [ Updated programs translations ]
  * Catalan (Jordi Mallach).
  * French (Sébastien Poher). Closes: #798371
  * German (Sven Joachim).
  * Vietnamese (Trần Ngọc Quân).

  [ Updated dselect translations ]
  * French (Sébastien Poher). Closes: #798370

  [ Updated scripts translations ]
  * French (Sébastien Poher). Closes: #798369
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Mon, 21 Sep 2015 07:11:42 +0200

dpkg (1.18.2) unstable; urgency=low

  [ Guillem Jover ]
  * Fix plural form translations for single plural languages. Closes: #790025
  * Add new dpkg-buildpackage -J option, which is a safe version of -j.
  * Fix dpkg-gencontrol to add correct binary filename to debian/files,
    even when overriding the Package field value with the -D option.
    Reported by Niels Thykier <niels@thykier.net>.
  * Move the implicit build-essential:native Build-Depends from
    dpkg-checkbuilddeps to a new vendor hook, as it is Debian-specific.
  * Add support for ignoring built-in build dependencies and conflicts
    with the new «dpkg-buildpackage --ignore-builtin-builddeps» and
    «dpkg-checkbuilddeps -I» options. Closes: #480638, #571671
  * When sys_siglist is defined in the system, try to use NSIG as we cannot
    compute the array size with sizeof(). If NSIG is missing fallback to 32
    items. Prompted by Igor Pashev <pashev.igor@gmail.com>.
  * Use string_to_security_class() instead of a literal SECCLASS value in
    the setexecfilecon() libcompat function, as <selinux/flask.h> is now
    deprecated.
  * Switch libdpkg xz compressor to use CRC64 for integrity checks, to match
    the default on the command-line tool, which should provide slightly better
    detection against damaged data, at a negligible speed difference.
  * Only use the SHELL environment variable for interactive shells.
    Closes: #788819
  * Move tar option --no-recursion before -T in dpkg-deb. With tar > 1.28 the
    --no-recursion option is now positional, and needs to be passed before
    the -T option, otherwise the tarball will end up with duplicated entries.
    Thanks to Richard Purdie <richard.purdie@linuxfoundation.org>.
  * Add an extra level of escaping for double $(evals) in architecture.mk
    and buildflags.mk, so that the variables are computed lazily again.
    Regression introduced in dpkg 1.16.2. Closes: #793330
  * Add binary packages Essential information to Package-List field in the
    .dsc file, as optional essential=yes entries. This allows precomputing
    the pseudo-essential set before starting an architecture bootstrap.
  * Perl modules:
    - Remove non-functional timezone name support from
      Dpkg::Changelog::Entry::Debian.
    - Use Time::Piece (part of the perl core distribution) instead of
      Date::Parse in Dpkg::Changelog::Entry::Debian. This reduces the build
      and run-time dependencies, and helps architecture bootstrapping.
    - Simplify distribution splitting in Dpkg::Changelog::Entry::Debian.
    - Add new function changelog_parse_plugin() in Dpkg::Changelog::Parse.
    - Add new function changelog_parse_debian() in Dpkg::Changelog::Parse, and
      use it in changelog_parse() instead of the external plugin parser when
      the input format is “debian”. This significantly speeds up the parsing.
    - Remove trailing space before handling blank line dot-separator in
      Dpkg::Control::HashCore. Regression introduced in dpkg 1.18.0.
      Reported by Jakub Wilk <jwilk@debian.org>. Closes: #789580
    - Allow the Maintainer field in CTRL_FILE_STATUS.
    - Import make_path from File::Path in Dpkg::Source::Package::V2.
      Regression introduced in dpkg 1.18.0. Closes: #789957
    - Make the BinaryFiles subpackage self-contained by explicitly importing
      File::Spec in Dpkg::Source::Package::V2.
    - Do not exclude pre-existing symlinks when unpacking the debian/ tarball
      in Dpkg::Source::Package::V2. Closes: #790073, #791535
    - Disable the thread sanitizer when the address sanitizer is enabled
      in Dpkg::Vendor::Debian as these are mutually incompatible, and make
      sanitize=+all not work at all.
    - Allow colons (:) in added filenames in Dpkg::Dist::Files, which can be
      present when the upstream version contains colons. Regression introduced
      in dpkg 1.18.0. Reported by Jakub Wilk <jwilk@debian.org>.
    - Future-proof tar invocations in Dpkg::Source::Archive for options that
      might become positional in the future, and by always placing function
      options first.
    - Make the dependency comparison deep by comparing not only the first
      dependency alternative, to get them sorted in a reproducible way.
      Based on a patch by Chris Lamb <lamby@debian.org>. Closes: #792491
    - Support spaces in symbol names in Dpkg::Shlibs::Objdump. This is
      required by Go shared libraries. Closes: #785344
      Based on a patch by Michael Hudson-Doyle <michael.hudson@canonical.com>.
  * Test suite:
    - Set SIGINT, SIGTERM and SIGPIPE to their default actions to get
      deterministic behavior.
    - Add test cases for the makefile snippets.
    - Delete DEB_VENDOR from the environment to get reliable results.
  * Packaging:
    - Make the libdpkg-dev package Multi-Arch:same.
    - Mark libio-string-perl as <!nocheck>.
  * Documentation:
    - Fix grammar in dpkg-architecture(1).
      Thanks to Chris Lamb <lamby@debian.org>. Closes: #787616
    - Use the feature area name in the dpkg-buildflags(1) subsection title.
    - Document DPKG_HOOK_ACTION also in dpkg(1) ENVIRONMENT section.
    - Clarify when some features where added in man pages.
    - Document --yet-to-unpack, --predep-package and all --assert-<feature>
      commands as supported in both «dpkg --help» and dpkg(1).
    - Document abitable in dpkg-architecture(1).
    - Clarify that an architecture wildcard is a Debian thing in
      dpkg-architecture(1).
    - Document multiarch triplet in dpkg-architecture(1) TERMS section.
    - Remove “my” keyword from Dpkg perl modules function prototypes.
    - Say FUNCTIONS instead of METHODS for Dpkg modules when appropriate.
    - Fix POD syntax inside verbatim paragraph in Dpkg::Changelog.
    - Document and mark Dpkg::Arch as a public module.
    - Fix Dpkg::Changelog::Parse::changelog_parse documentation.

  [ Updated programs translations ]
  * Dutch (Frans Spiesschaert). Closes: #789097
  * Simplified Chinese (Zhou Mo). Closes: #787986
  * Turkish (Mert Dirik). Closes: #788211
  * Vietnamese (Trần Ngọc Quân).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

  [ Updated dselect translations ]
  * Dutch (Frans Spiesschaert). Closes: #789096

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Mon, 03 Aug 2015 15:40:21 +0200

dpkg (1.18.1) unstable; urgency=low

  [ Guillem Jover ]
  * Cast c_isbits() c argument to an unsigned char when indexing the array.
    This fixes build failures on armel, armhf, ppc64el and s390x.
  * Do not allow pathnames with embedded newlines in dpkg-deb and dpkg.
    Closes: #720761
  * Fix setting the SELinux context when a file has a statoverride.
    Closes: #786435
  * Set the SELinux file context even when the file mode has no file type.
  * Make dpkg-buildpackage -j override any parallel option specified in
    DEB_BUILD_OPTIONS. Regression introduced in dpkg 1.14.15.
  * Honor Pre-Depends, Conflicts and Breaks for packages in unpacked and
    half states. Thanks to Ian Jackson <iwj@ubuntu.com>. Closes: #377860
  * Fix build failure on FreeBSD by actually using libmd if available.
  * Sort dpkg-scanpackages output by package name and version.
    Thanks to Maximilian Schwerin <maximilian.schwerin@tigris.de>.
  * Sort dpkg-scansources output by package name and version.
    Thanks to Maximilian Schwerin <maximilian.schwerin@tigris.de>.
  * Set the correct default compression value in dpkg-deb for control.tar.gz
    member. This meant using compression level 1 when using the zlib shared
    library to compress the control.tar member, and always failing when using
    the gzip command. Regression introduced in dpkg 1.17.6. Closes: #786654
  * Use the generated template file instead of the original one when looking
    for changes in dpkg-gensymbols. There's too much information not being
    preserved in the symbols files to be able to regenerate templates for
    them. Closes: #785937, #786840
  * Perl modules:
    - Add missing strict and warnings pragmas for submodules.
    - Use non-destructive substitutions inside map.
    - Use the state keyword to simplify the code.
    - Do not replace #PACKAGE# in template mode in Dpkg::Shlibs::SymbolFile.
  * Documentation:
    - Update current default source compressor from gzip to xz.
    - Remove spurious ‘=’ from parallel DEB_BUILD_OPTIONS without arguments
      in dpkg-buildpackage(1).

  [ Updated programs translations ]
  * German (Sven Joachim).
  * Simplified Chinese (Zhou Mo). Closes: #786377

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

  [ Updated dselect translations ]
  * German (Sven Joachim).

 -- Guillem Jover <guillem@debian.org>  Sat, 30 May 2015 03:00:21 +0200

dpkg (1.18.0) unstable; urgency=low

  [ Guillem Jover ]
  * Only trim trailing “/” and “/.” from «dpkg-query --search» arguments if
    they are a pathname, and not a pattern or a substring match.
  * Switch C/C++ code to use a new set of C locale character type functions
    independent of the current locale.
  * Add support for arch-bits and arch-endian dpkg-gensymbols tags.
    Closes: #630342
  * Switch perl code from legacy File::Path functions to new ones.
  * Fix perl uninitialized value usage in dpkg-scansources when the Binary
    field is missing.
  * Use dpkg-query instead of dpkg for --search in dpkg-shlibdeps so that
    the subprocesses get the correct admindir. Closes: #775258
  * Rework the Installed-Size field default value computation to make it
    reproducible regardless of the build system filesystem, and document
    how the value is computed and that it is just an approximation.
    Closes: #650077
  * Use strftime() instead of «date -R» in dpkg-genchanges, as the latter
    is not specified by POSIX and is not widely portable.
  * Warn on obsolete '<' and '>' operators in dpkg --compare-versions.
  * Trim end of line whitespace from dpkg and dselect config file parsers.
    Reported by Christoph Biedl <debian.axhn@manchmal.in-ulm.de>.
  * Do not silently eat a standalone ‘-’ in the libdpkg command-line parser.
  * Fix short-lived memory leaks in dpkg-deb and libdpkg. Closes: #769515
  * Fix «dpkg-deb -b» filename generation when the package does not contain
    an Architecture field. Regression introduced in dpkg 1.16.2.
  * Fix «dpkg --audit» to report missing and empty architecture fields.
    Regression introduced in dpkg 1.16.2.
  * Add support to dpkg-deb for reading the archive from standard input,
    except for --raw-extract which does not yet support it. Closes: #616614
    Based on a patch by Johannes Schauer <j.schauer@email.de>.
  * Add ‘.mailmap’ to the default dpkg-source ignore lists.
  * Set the SELinux context on «dpkg-statoverride --update». Closes: #690361
  * Do not fail on dpkg-query -W and -l when multiple arguments match the
    same package. Closes: #588505
  * Change dpkg-maintscript-helper to handle symlinks and pathnames ending in
    slash. For the former error out, for the latter strip it. Closes: #771752
  * Support moving a conffile not being shipped anymore. Closes: #767003
    Thanks to Mathias Behrle <mathiasb@m9s.biz>.
  * Add a new dpkg-buildflags sanitize feature area:
    - Add new “address”, “thread”, “leak” and “undefined” features, all
      disabled by default. Closes: #760741
  * Do not accept unknown user or group names on «dpkg-statoverride --add».
    Regression introduced in dpkg 1.17.11. Closes: #775124
  * Normalize dpkg-parsechangelog command-line parsing, so that «-ovalue»,
    «-o value», «--option=value» and «--option value» will all be accepted.
    Closes: #693951
  * Add dpkg --ctrl-tarfile forwarding command for dpkg-deb.
  * Disable dependency checks on dpkg-buildpackage -S -nc.
  * Make dependency checks fatal for dpkg-buildpackage -S.
  * Update amd64 GNU cpu regex in cputable to match amd64 too, in addition
    to x86_64. This is required for FreeBSD.
  * Use badusage() instead of ohshit() for command-line errors.
  * Use the original template symbols file when diffing in dpkg-gensymbols.
    We should not create a new template symbols file, because the output
    might change (different sorting order for example) relative to the
    original. Closes: #773718
  * Do not leak kvm descriptors in start-stop-daemon on GNU/kFreeBSD systems.
    Based on a patch by Jeff Epler <jepler@unpythonic.net>. Closes: #779467
  * Switch start-stop-daemon to use a monotonic clock if available. This
    makes the timeout checks resilient to abrupt system clock changes.
    Suggested by Jose M Calhariz <jose.calhariz@hds.com>. Closes: #783014
  * Fix perl warning in dpkg-genchanges when parsing BY-HAND file entries.
    Regression introduced in dpkg 1.17.7. Closes: #781074
  * Use the checksums files list order when building the Files field to match
    the other Checksum fields in dpkg-genchanges.
  * Skip files based on the architecture from the filename in dpkg-genchanges.
  * Allow binary packages not found in debian/control in dpkg-genchanges,
    which could allow injecting debug .debs for example.
  * Annotate any non-deb binary descriptions (not just udebs) with their
    package type in dpkg-genchanges.
  * Remove outdated local copy of the Debian README.mirrors.txt file from
    dselect ftp access method, and print a message pointing to the current
    URL instead. Closes: #784966
  * Cleanup default dpkg-shlibdeps shared library directory search list:
    - Do not add cross-root directories (/<triplet>/ and /usr/<triplet>/).
    - Remove ancient multilib /emul/ia32-linux/ paths.
    - Reorder directory precedence to:
      «dpkg-shlibdeps -l» > ENV{LD_LIBRARY_PATHS} > cross-multiarch >
      DEFAULT_LIBRARY_PATH > ld.so.conf > DEFAULT_MULTILIB_PATH
  * When upgrading, copy over the cached arch-qualified package name. This
    fixes wrong output when cross-grading.
  * Consider foreign packages ambiguous in need of an arch-qualifier.
  * Perl modules:
    - Rename and deprecate Dpkg::Gettext _g function with new g_.
    - Assume in Dpkg::Arch that the abitable is always present, and bump
      libdpkg-perl Depends on dpkg to 1.16.3, the version introducing the file.
    - Remove support for GCC_TARGET environment variable from Dpkg::Shlibs.
      This was a temporary workaround for very old gcc toolchains. See #453267.
    - Prefer multiarch paths to multilib ones in Dpkg::Shlibs.
      Thanks to Helmut Grohne <helmut@subdivi.de>. Closes: #772184
    - Enable sub-second timestamps in Dpkg::Source::Patch by using Time::HiRes.
    - Use TMPDIR instead of manually setting DIR on tempfile() call in
      Dpkg::Source::Package::V2.
    - Switch Dpkg::Checksums from using checksum programs to the more portable
      Digest modules. Obsolete the 'program' property, and add a 'name' one.
    - Add support for $DEFAULT_TEXT_DOMAIN to Dpkg::Gettext, so that the Dpkg
      perl modules can always produce localized messages.
    - Fix OpenPGP Armor Header Line parsing in Dpkg::Control::Hash. We should
      only accept [\r\t ] as trailing whitespace, although RFC4880 does not
      clarify what whitespace really maps to, we should really match the GnuPG
      implementation anyway, as that's what we use to verify the signatures.
      Reported by Jann Horn <jann@thejh.net>. Fixes CVE-2015-0840.
    - Pass PATCH_GET environment variable instead of -g0 to the patch command
      in Dpkg::Source::Patch. This allows using non-GNU patch programs, like
      FreeBSD's patch.
    - Accept an %opts argument for the Dpkg::Control::Info constructor, and
      accept either passing a filename option as undef, or a scalar undef.
      Closes: #782019
    - Do not print on undef filehandle in Dpkg::Control::Info output().
      Thanks to Roderich Schupp <roderich.schupp@gmail.com>. Closes: #781887
    - Always sort the Dpkg::Dist::Files files list on output, instead of
      preserving the insertion order, which is not reproducible with parallel
      builds. Reported by Jérémy Bobbio <lunar@debian.org>.
    - Add new filter() method to Dpkg::Substvars.
    - Kill the process when reaching timeout in Dpkg::IPC::wait_child().
  * Test suite:
    - Check perl code compilation, warnings and strictness.
    - Fix dpkg-divert unit test to work on BSD «rm -rf» that cannot traverse
      directories with mode 000.
    - Fix dpkg-divert unit test to work when there is no /dev/full.
    - Skip test cases when there is no c++filt available.
    - Add test cases for Dpkg::Conf and Dpkg::Checksums.
    - Handle libtool executables in progname unit test.
    - Do not use a timeout when testing cat I/O, speeds up test suite by 5s.
    - Reduce timeout test from 5 seconds to 1, to speed up test suite by 4s.
  * Build system:
    - Bump gettext version to 0.19:
      + Use --add-location=file in msgmerge and xgettext commands.
      + Use --porefs=noline for po4a command.
    - Wrap file references in man page PO files with po4a --porefs=wrap.
    - Fix support for cross-building dpkg:
      + Assume a working C99 snprintf on SUS >= v3.
      + Do not try to run the va_copy configure check, just check that the
        symbol is available.
    - Check that HAVE_DECL_SYS_SIGLIST is 0 instead of undefined, to fix a
      build failure on uclibc based systems. Closes: #777044
      Based on a patch by Alex Potapenko <opotapenko@gmail.com>.
    - Use single suffix rules instead of non-portable %-pattern rules.
    - Pass CC to the test suite, so that we can use a non-gcc compiler.
    - Call AM_PROG_AR to detect the correct system archiver to use.
    - Pass -Wall to automake in AM_INIT_AUTOMAKE, not implied by foreign.
  * Packaging:
    - Remove old trigger related Breaks and Conflicts from dpkg.
    - Only use stackprotectorstrong when building dpkg with gcc >= 4.9.
    - Switch to debhelper compatibility level 9.
    - Name each public-domain license with a different name.
    - Add missing public modules to dpkg-dev package description.
    - Get rid of backward compatibility pseudo-tags from bug reports.
    - Install doc/README.feature-removal-schedule only on affected packages
      and debian/usertags everywhere.
  * Documentation:
    - Document arch-qualifiers for dependency fields in deb-control(5) and
      deb-src-control(5). Reported by Johannes Schauer <j.schauer@email.de>.
      Closes: #768842
    - Document versioned Provides in deb-control(5).
    - Document the version when dpkg-deb --raw-extract got introduced.
    - Document dpkg --log format, add missing actions and describe the startup
      messages. Closes: #773398
    - Document when and how the dpkg-maintscript-helper package name argument
      is or should be arch-qualified. Closes: #776072
    - Fix and update Arch substvar description in deb-substvars(5).
    - Document that current build flag feature areas only work on Debian and
      derivatives in dpkg-buildflags(1).
    - Use “wildcard characters” instead of “wildchars” in dpkg-query(1).
    - Document dpkg-query --search behavior in man page. Closes: #775379
    - Document postinst “triggered” argument in debian/dpkg.postinst comment
      header.
    - Document Dpkg::IPC function signatures.
    - Document the obsolete --compare-versions '<' and '>' operators in the
      dpkg(1) man page. Thanks to Tomas Pospisek <tpo_hp@sourcepole.ch>.
      Closes: #776551
    - Move dpkg-divert, dpkg-statoverride and update-alternatives man pages
      from section 8 to 1, to match their installation path.
    - Capitalize dpkg-parsechangelog(1) option descriptions.
    - Mark dpkg-parsechangelog(1) --format values in bold.
    - Place short options before long ones in dpkg-mergechangelogs(1) and
      dselect(1) man pages.
    - Properly terminate a bold marking in dpkg(1).
    - Document in man pages the dpkg version when new features were introduced.
    - Document that timestamps are reset for files patched with source format
      “3.0 (quilt)” too.
    - Document in dpkg-buildpackage(1) that using dpkg-source is sometimes
      better than -S. Suggested by Johannes Schauer <j.schauer@email.de>.
    - Document dselect -? option.
    - Document in dpkg-buildflags(1) that DEB_VENDOR influences the execution.
    - Document that dpkg performs sanity checks on PATH.
    - Mark some words and commands as non-hyphenable in man pages.
    - Separate multi-line hanging tag paragraphs with .TQ in man pages.
    - Mark field names in bold in man pages.
    - Use various groff escape sequences for quoting characters.
    - Lowercase warning and note admonitions in start-stop-daemon(8).
    - Mark dselect(1) color attributes in bold.
    - Say output instead of display for dpkg-deb tar-file option in dpkg(1).
    - Say archive instead of filename for dpkg-deb option in dpkg(1).
    - Say control-field-name instead of control-file-field in dpkg-deb(1).
    - Fix option values and pathname markup in dpkg-deb(1).
    - Use .TQ to separate different but related options in dpkg(1).
    - Clarify that dpkg-buildpackage -jN forces parallel builds, regardless of
      the packaging or upstream build systems supporting them. Closes: #780866
    - Remove unneeded update-alternatives references from options descriptions.
    - Document that apt might expect Packages.xz too in dpkg-scanpackages(1).
    - Say METHODS instead of FUNCTIONS or OBJECT FOO in POD section titles.
    - Document dpkg version when perl module versions got bumped.
  * Output message fixes and improvements:
    - Remove trailing newline from string literal in warning calls.
    - Say “execute” instead of “exec” in Dpkg::Changelog::Parse error message.
    - Say “package” instead of “it” in dpkg-name warning message.
    - Uppercase field names in error messages.
    - Expand EOF and eof into “end of file” in error messages.
    - Use “<enter>” instead of “return” or “enter” in input prompts.
    - Say directory instead of dir in output messages.
    - Merge the same dpkg-scanpackages warning messages into a single line.
    - Clarify dpkg-genchanges changes description open error.
    - Add missing preposition in Dpkg::Source::Patch error message.
    - Improve available state sorting order strings in dselect panel.
    - Say “changelog-file” instead of “changelogfile” in --help output.
    - Say “command” instead of “action” for dselect.
    - Improve commands listing in «dselect --help» output, by printing them
      before options and listing them one on each line with a description.
    - Improve dselect color-spec --help output.
    - Move "(default)" annotations in scripts --help output after option
      description.
    - Consistently use proper quotation marks ("" or '', and not the
      unbalanced `' pair) all over the place.
    - Use syserr() instead of an ad-hoc error message in dpkg-scansources.
    - Say substvars instead of varlist in dpkg-shlibdeps error messages.
    - Fix error messages on invalid uid/git/mode command-line syntax errors
      in dpkg-statoverride, to not say they are from the statoverride file.
    - Fix error message on empty dsc file in dpkg-genchanges.
    - Mention “(^Z)” instead of “char” for the MSDOS end of file character.

  [ Raphaël Hertzog ]
  * Drop myself from Uploaders.

  [ Updated programs translations ]
  * Simplified Chinese (Zhou Mo). Closes: #782326
  * Turkish (Mert Dirik). Closes: #785096
  * Vietnamese (Trần Ngọc Quân).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Mon, 18 May 2015 15:08:31 +0200

dpkg (1.17.23) unstable; urgency=low

  [ Guillem Jover ]
  * Use a matching group instead of ${^MATCH} in s/// in dselect build script.
  * Skip tar extractor tests if tar is not GNU tar >= 1.27.
  * Reset the trigger cycle tracking on unsatisfied dependencies during
    trigger processing. Closes: #771730
  * Fix out-of-bounds buffer read accesses when parsing field and trigger
    names or checking package ownership of conffiles and directories.
    Reported by Joshua Rogers <megamansec@gmail.com>.
  * Add versioned Breaks on packages creating trigger cycles. Namely auctex,
    apt-cudf, ccache, cups, distcc, fusionforge-plugin-mediawiki, gap-core,
    gxine, hoogle, icecc, libjs-protoaculous, mcollective, pypy, wordpress
    and xfonts-traditional.

  [ Updated programs translations ]
  * Basque (Iñaki Larrañaga Murgoitio). Closes: #771893
  * Catalan (Guillem Jover).
  * Czech (Miroslav Kure).
  * Esperanto (Felipe Castro).
  * French (Sébastien Poher).
  * Italian (Milo Casagrande).
  * Portuguese (Miguel Figueiredo).
  * Russian (Yuri Kozlov). Closes: #771691
  * Simplified Chinese (Zhou Mo). Closes: #771264
  * Spanish (Javier Fernández-Sanguino)
  * Swedish (Peter Krefting).
  * Thai (Theppitak Karoonboonyanan). Closes: #772965

  [ Updated scripts translations ]
  * Catalan (Guillem Jover).
  * Polish (Łukasz Dulny).
  * Russian (Yuri Kozlov). Closes: #772841

  [ Updated man pages translations ]
  * French (Sébastien Poher).
  * Italian (Beatrice Torracca). Closes: #771673

  [ Updated dselect translations ]
  * Catalan (Guillem Jover).
  * Czech (Miroslav Kure).
  * Norwegian Bokmål (Hans Fredrik Nordhaug).
  * Polish (Łukasz Dulny).
  * Portuguese (Miguel Figueiredo).
  * Russian (Yuri Kozlov). Closes: #771682
  * Spanish (Javier Fernández-Sanguino)
  * Vietnamese (Trần Ngọc Quân).

 -- Guillem Jover <guillem@debian.org>  Tue, 23 Dec 2014 17:45:44 +0100

dpkg (1.17.22) unstable; urgency=low

  [ Guillem Jover ]
  * Add version introducing --ctrl-tarfile in dpkg-deb(1) man page.
  * Bump minimal version for dir_to_symlink and symlink_to_dir commands
    to 1.17.14 in dpkg-maintscript-helper(1) man page. Closes: #769843
  * Reintroduce update-alternatives, dpkg-divert and dpkg-statoverride
    compatibility symlinks under /usr/sbin/. There are still packages
    using those paths, but the relevant lintian check did not list any,
    so this got removed prematurely.
  * Add Breaks on old man-db, fontconfig and readahead-fedora packages using
    awaiting triggers, as they produce trigger cycles. Closes: #768599
  * Escape package and architecture names on control file parsing warning,
    as those get injected into a variable that is used as a format string,
    and they come from the package fields, which are under user control.
    Regression introduced in dpkg 1.16.0. Fixes CVE-2014-8625. Closes: #768485
    Reported by Joshua Rogers <megamansec@gmail.com>.
  * Do not match partial field names in control files. Closes: #769119
    Regression introduced in dpkg 1.10.
  * Fix build on Mac OS X. Regression introduced in dpkg 1.17.11.
    Reported by Dominyk Tiller <dominyktiller@gmail.com>.
  * Normalize tar entry uid and gid from the current system only in dpkg
    unpack. Regression introduced in dpkg 1.17.14. Closes: #769211
  * Restore multiple processing instances check for packages and archives
    specified on the command-line. Regression introduced in dpkg 1.17.20.
  * Fail on trigger processing when it is required to progress. Trigger
    processing is sometimes required and sometimes opportunistic, and we
    should only fail on the former but ignore the latter. Closes: #768852
  * Do not ignore trigger cycles for direct dependencies, these are just
    normal trigger cycles, and as such should not be special cased.
  * Register all pending triggers for deferred processing when being called
    as «dpkg --configure pkgname…». This is a mostly conformant workaround
    for frontends like apt that do not correctly call «dpkg --configure -a»
    or «dpkg --triggers-only -a» after their normal runs, and leave packages
    in triggers-pending and triggers-awaited states. Closes: #766758

  [ Updated programs translations ]
  * Catalan (Guillem Jover).
  * Danish (Joe Dalton).
  * French (Sébastien Poher).
  * German (Sven Joachim).
  * Japanese (Kenshi Muto). Closes: #771255
  * Polish (Łukasz Dulny).
  * Simplified Chinese (Zhou Mo). Closes: #766724, #770280
  * Swedish (Peter Krefting).
  * Turkish (Mert Dirik).
  * Vietnamese (Trần Ngọc Quân)

  [ Updated scripts translations ]
  * French (Sébastien Poher).
  * German (Helge Kreutzmann).
  * Swedish (Peter Krefting).

  [ Updated man pages translations ]
  * French (Sébastien Poher). Closes: #767934
  * German (Helge Kreutzmann). Closes: #752123
  * Simplified Chinese (Zhou Mo). Closes: #767573
  * Swedish (Peter Krefting).

  [ Updated dselect translations ]
  * Danish (Joe Dalton).
  * Dutch (Frans Spiesschaert). Closes: #771237
  * French (Sébastien Poher). Closes: #767918
  * Japanese (Kenshi Muto). Closes: #771256
  * Swedish (Peter Krefting).

 -- Guillem Jover <guillem@debian.org>  Fri, 28 Nov 2014 02:02:34 +0100

dpkg (1.17.21) unstable; urgency=low

  [ Guillem Jover ]
  * Get consistent git-style diff support, by adding (>= 2.7) to the dpkg-dev
    patch Depends, and a Breaks patch (<< 2.7) to libdpkg-perl.
  * Error out on obsolete Build-Profiles field syntax.
  * Document -g and -G options in dpkg-genchanges(1). Closes: #766568
  * Do not accept values bundled with long options in dpkg-parsechangelog.
    The parser was accepting things like «--count10», which is just broken.
    Instead allow only «--count=10» in addition to «--count 10».
  * Accept «-S value» in addition to «-Svalue» in dpkg-parsechangelog.
    Closes: #766559
  * Add support for new interest-await and activate-await trigger directives.
    And a new --await option to dpkg-trigger. This might allow possibly
    switching the default meaning after a transition period no shorter than
    two minor versions, so in 1.19.x or 1.20.x. Perhaps.
  * Do trigger cycle detection after dependency checks in dependtry <= 1,
    and before dependency cycle breaking in dependtry > 1. This makes sure
    to always catch trigger cycles, but still gives the opportunity to try
    to process triggers for packages that are not yet ready in the first
    dependtry, but which might be a bit later on, without wrongly detecting
    avoidable and bogus trigger cycles. Closes: #766557
  * Update features removal schedule:
    - The -u, --udeb dpkg-scanpackages options got removed, state that.
    - Remove the entry about obsolete fields, as these need to be preserved
      for backward compatibility, they are part of the external interface to
      be able to handle ancient binary packages.

  [ Updated programs translations ]
  * Catalan (Guillem Jover).
  * German (Sven Joachim). Closes: #766311
  * Simplified Chinese (Zhou Mo).

  [ Updated scripts translations ]
  * Catalan (Guillem Jover).

 -- Guillem Jover <guillem@debian.org>  Sat, 25 Oct 2014 02:21:43 +0200

dpkg (1.17.20) unstable; urgency=low

  [ Guillem Jover ]
  * Add a requeueing insertion protection for process_queue().
  * Make sure to always switch to the next dependtry after we have made no
    progress for a while. Regression stemming from non future proof changes
    introduced with the initial triggers implementation in dpkg 1.14.17
    combined with changes in dpkg 1.17.19. Closes: #766242, #766322
  * Make the initial dependtry be 1 instead of 0. This gets rid of an unused
    dependtry step, which got accidentally introduced when the perl dpkg was
    rewritten in C, ages ago.
  * Allow detached upstream signatures for upstream orig.tar files in the
    .dsc file. Suggested by Daniel Kahn Gillmor <dkg@fifthhorseman.net>.
    Closes: #759478
  * Inline alternative status description into translatable string in
    update-alternatives. Required-by: #766311
  * Reword description for installed status in dpkg(1) man page.

  [ Updated programs translations ]
  * German (Sven Joachim).
  * Simplified Chinese (Zhou Mo).
  * Vietnamese (Trần Ngọc Quân).

 -- Guillem Jover <guillem@debian.org>  Thu, 23 Oct 2014 00:43:05 +0200

dpkg (1.17.19) unstable; urgency=low

  [ Guillem Jover ]
  * Bump the Breaks on devscripts to 2.14.10 due to the new dpkg-architecture
    command-line parsing strictness introduced in 1.17.17. Closes: #764965
  * Create pidfiles even when start-stop-daemon is not asked to background
    the process itself. Although a bit of a dubious usage, because any error
    before executing the program will not be properly reported to the caller.
    Regression introduced in dpkg 1.17.14. Closes: #765110
  * Add new --remove-pidfile option to start-stop-daemon.
  * Mention --pid and --ppid in start-stop-daemon(8) man page DESCRIPTION.
  * Add invoke hooks for dpkg --add-architecture and --remove-architecture.
    Prompted by Helmut Grohne <helmut@subdivi.de>.
  * Reverse --verify-format logic to actually accept 'rpm' as valid.
    Closes: #765907
  * Fix trigger dependency checks and cycle detection.
    Regression introduced in dpkg 1.17.17.
    Closes: #765434, #765668, #765734, #765781, #765789, #765952
  * Rework dependency problem debug and notice output on trigger processing.

  [ Updated programs translations ]
  * Italian (Milo Casagrande): Closes: #765748
  * Turkish (Mert Dirik). Closes: #764942
  * Simplified Chinese (Zhou Mo). Closes: #765693

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Mon, 20 Oct 2014 15:17:49 +0200

dpkg (1.17.18) unstable; urgency=low

  [ Guillem Jover ]
  * Handle empty minimum versions when initializing dependency versions,
    as the code is mapping the minimum version 0 to '' to avoid outputting
    useless versions. Regression introduced in dpkg 1.17.17. Closes: #764929

  [ Updated programs translations ]
  * Catalan (Guillem Jover).

  [ Updated dselect translations ]
  * Catalan (Guillem Jover).
  * German (Sven Joachim).

 -- Guillem Jover <guillem@debian.org>  Sun, 12 Oct 2014 15:47:44 +0200

dpkg (1.17.17) unstable; urgency=low

  [ Guillem Jover ]
  * Add dpkg-vendor, Dpkg/File.pm and Dpkg/Util.pm to the list of files with
    translatable strings, so that they can be translated.
  * Fix some typos for versioned and mentioned in comments and changelogs.
  * Mark for translation and unify "rm cleanup" string in dpkg.
  * Mark for translation and improve dselect method handling error messages.
  * Defer trigger processing if the package does not fulfill dependencies.
    Closes: #671711
  * Do not write to the database when changing selections with --dry-run.
    Closes: #764673
  * Add missing imports from Dpkg::BuildProfiles in dpkg-genchanges.
    Regression introduced in dpkg 1.17.14. Closes: #764216
    Reported by Johannes Schauer <j.schauer@email.de>.
  * Initialize dependencies with the correct minimum version from a symbols
    file with multiple SONAMEs in dpkg-shlibdeps.
    Thanks to Jérémy Bobbio <lunar@debian.org>. Closes: #764721
  * Perl modules:
    - Allow multiple whitespace in Dpkg::BuildProfiles::get_build_profiles()
      when parsing the DEB_BUILD_PROFILES environment variable.
      Thanks to Johannes Schauer <j.schauer@email.de>.
    - New Dpkg::Getopt private module.
    - Document public module Dpkg.
    - Document public module Dpkg::Gettext.
    - Mark Dpkg::BuildProfiles as a public module.
    - Document all public module versions in a CHANGES section.
    - Remove EXPORTED from POD section titles.
    - Document private modules as such in a CHANGES section.
  * Set the DEB_TARGET_* dpkg-architecture variables from architecture.mk.
    Missed in dpkg 1.17.14.
  * Initialize DEB_TARGET_ARCH variable without requiring DEB_HOST_ARCH,
    which is not being set at all when querying for DEB_TARGET_ variables.
  * Normalize dpkg-architecture command-line parsing, so that «--option=value»
    «--option value», «-ovalue» and «-o value» will all be accepted.
  * Add long option names for all dpkg-architecture short options.
  * Add support for --host-arch, --host-type, --target-arch and --target-type
    long options in dpkg-buildpackage. These will get passed through to
    dpkg-architecture. This restores the ability to specify the target
    architecture when building cross-compilers. Regression introduced in
    dpkg 1.17.14. Reported by Helmut Grohne <helmut@subdivi.de>.
  * Do not modify the topic variable values in list functions in perl code.
  * List Dpkg::Exit and Dpkg::Interface::Storable as public modules in
    libdpkg-perl package description.

  [ Updated programs translations ]
  * German (Sven Joachim).
  * Vietnamese (Trần Ngọc Quân).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Sun, 12 Oct 2014 04:59:09 +0200

dpkg (1.17.16) unstable; urgency=low

  * Set the copyright holder in the po4a calls for man pages.
  * Switch remaining topic to named variable in Dpkg::Source::Patch:analyze(),
    otherwise the loop was expecting values in one variable but storing them
    in another. Regression introduced in dpkg 1.17.14. Closes: #764206
  * Set umask to 0 when creating symlinks in tar test case, to normalize
    results. POSIX specifies that symlinks have undefined permissions in
    their mode, so their setting is system dependent. Linux does not honor
    the umask for symlinks, other systems like Hurd or kFreeBSD do.
    Regression introduced in dpkg 1.17.14. Closes: #764171

 -- Guillem Jover <guillem@debian.org>  Mon, 06 Oct 2014 13:29:17 +0200

dpkg (1.17.15) unstable; urgency=low

  * Do not blacklist pie and stackprotector build flags on mips/mipsel.
    Thanks to Aurelien Jarno <aurelien@aurel32.net>. Closes: #763672
  * Fix build failures due to mismatched umask in libdpkg tar test case.
    Set it to a known value of 0022.

 -- Guillem Jover <guillem@debian.org>  Mon, 06 Oct 2014 03:21:58 +0200

dpkg (1.17.14) unstable; urgency=low

  [ Guillem Jover ]
  * Fix '--' to '-' on translations for single character options.
  * Correct the copyright holder in the gettext Makevars files.
  * Switch debian/copyright to machine-readable format 1.0, and extensively
    update the information within.
  * Bump Standards-Version to 3.9.6 (no changes needed).
  * Disable unused run-time type information for dselect.
  * Fix compiler flag detection with non-GCC compilers in the build system.
  * Fix perl warning on dpkg-source when typing Ctrl-D on patch name prompt.
  * Add new dpkg-deb --ctrl-tarfile command.
  * dpkg-architecture:
    - Add support for target system information via the new DEB_TARGET_ family
      of variables, and new -A and -T options to override defaulting to the
      host system.
    - Clarify that -a, -t, -e and -i work with the host system.
  * Place 'Commands:' before 'Options:' sections on --help output in
    dpkg-architecture and dpkg-vendor.
  * Always warn in dpkg-genchanges on missing Section or Priority value,
    either empty or '-'.
  * Fix order of Files field on generated .changes file in dpkg-genchanges.
    Regression introduced in dpkg 1.17.7.
  * Stop warning on unknown arbitrary fields from dpkg-deb.
  * Remove unnecessary handling of obsolete Package_Revision field in dselect
    ftp method.
  * Fix the build system to parse the system curses.h header instead of
    dselect-curses.h, to not just default on the builtin and override keys
    for dselect key bindings support. Regression introduced in dpkg 1.15.1.
  * Emit a warning when using the obsolete Dpkg::Deps check_package() function.
  * Add support for versioned Provides to Dpkg::Deps::KnownFacts, missed in
    dpkg 1.17.11.
  * Man pages:
    - Add a mention of packaging helpers support in dpkg-maintscript-helper(1).
      Closes: #759754
    - Move dpkg-buildflags(1) generic feature area details to the section top.
    - Fix prerm invocation arguments in update-alternatives(8).
      Reported by jre <jre.winesim@gmail.com>. Closes: #761025
  * Add new deps_iterate() function to Dpkg::Deps. Closes: #759747
    Based on a patch by Dima Kogan <dima@secretsauce.net>.
  * Add support for relative symlinks to dpkg-maintscript-helper symlink_to_dir
    command. Suggested by Don Armstrong <don@debian.org>.
  * Add a new dpkg-buildflags qa feature area:
    - Add a new bug feature, disabled by default, which will enable fatal
      warnings for code that can pose actual problems. Closes: #682659
    - Add a new canary feature, disabled by default, which will allow tracking
      build flags propagation. Closes: #628516
  * Pass DEB_BUILD_OPTIONS to dpkg-buildflags in buildflags.mk, required to
    get noopt to work at all, for example.
  * Add a new dpkg-buildflags reproducible feature area:
    - Add a new timeless feature, disabled by default, which will add
      «-Wdate-time» to CPPFLAGS.
    Thanks to Paul Wise <pabs@debian.org>. Closes: #762683
  * Fix error message from buffer_copy() read and write functions. This
    affects error messages from partial or broken .deb packages for example.
    Regression introduced in dpkg 1.17.10. Closes: #759498
  * Remove lpia architecture support.
  * Improvements and portability fixes to start-stop-daemon:
    - Abort if the system or compatibility setsid() fails.
    - Do not exit from the first parent before the pidfile has been created,
      when using --background and --make-pidfile, to avoid the race condition.
      Based on a patch by Nir Soffer <nirs@hyperms.com>. Closes: #686420
    - Make sure the pidfile is always created with a 022 umask.
      Reported by Will Conley <willconley3@gmail.com>. Closes: #760222
    - Do not abort on --stop when only --pid or --ppid options are specified.
      Thanks to Christos Trochalakis <yatiohi@ideopolis.gr>. Closes: #763767
    - On kFreeBSD systems do not unnecessarily make kvm_openfiles() open
      /dev/mem. This causes issues on FreeBSD jails for example.
      Reported by Steven Chamberlain <steven@pyro.eu.org>.
    - On systems using libkvm, do not fail when kvm_getprocs() cannot find
      any process.
  * Map i786 to i386 also for the multiarch pathname in dpkg-architecture.
  * Handle omitted binary packages due to build profiles in dpkg-genchanges.
    Based on a patch by Johannes Schauer <j.schauer@email.de>. Closes: #758191
  * Update restriction formula syntax for build profiles:
    - Restriction lists are now restriction formulas.
    - Restriction formulas are given in disjunctive normal form expression:
      <foo> <bar baz> <blub>
    - Removal of the implicit prefix/namespace mechanic.
    - Construct the profiles entry of the Packages-List field by converting
      the "<bar baz> <blub>" syntax into "bar,baz+blub".
    - Include a temporary compatibility mapping with the old way to write
      the Build-Profiles field in binary packages which can be removed once
      all affected source packages have moved to the new syntax.
    Thanks to Johannes Schauer <j.schauer@email.de>. Closes: #760158
  * Normalize instdir in dpkg by removing trailing «/» and «/.». This gets
    rid of several inconsistencies and doubled «/» in syscalls and output
    messages.
  * Never try to remove the root directory or its backups. There's no point in
    it, and makes life more difficult for a read-only root with a read-write
    overlay or a symlink farm. Requested by sepero111@gmx.com.
  * Remove arbitrary filename limit from dpkg-deb, which was lifted some
    time ago when the code switched to a dynamic string via varbuf.
  * Do not pipe the files to sign from dpkg-buildpackage to GnuPG. When GnuPG
    uses the gpg-agent it is unable to detect the correct tty configuration
    if stdin is a pipe instead of the current terminal. Closes: #762391
  * Add a new --hash option to enable generating only specific file checksums
    in dpkg-scanpackages. Requested by Thorsten Glaser <tg@debian.org>.
  * Add architecture restriction options for dpkg-architecture -L. This allows
    selecting specific subsets of all valid known architectures, matching by
    wildcard (-W), endianness (-E) or bits (-B). The restricting options can
    be combined, or omitted altogether. Closes: #762635
  * Say arch-wildcard instead of arch-alias in dpkg-architecture --help output.
  * Test suite:
    - Do not leave temporary files behind on failure or when interrupted.
    - Add basic unit tests for the FNV hashing function.
    - Add unit tests for the libdpkg tar extractor.
  * Add --build and --extract command aliases to dpkg-source.
  * Print file or package names instead of pointers in dpkg debug output,
    to make it more meaningful and reproducible.
  * Fix off-by-one error in libdpkg command argv size calculation.
    Based on a patch by Bálint Réczey <balint@balintreczey.hu>. Closes: #760690
  * Switch the libdpkg string hashing function from FNV-1 to the recommended
    FNV-1a variant.
  * Switch the dpkg files database string hashing function from what appears
    to be a custom hash function to the libdpkg FNV-1a implementation. As a
    side effect this fixes an integer overflow. Addresses: #760741
  * Double the dpkg files database hash table size to the closest 2^18 prime.
    Times have changed, and it's common to have at least these many files.
    This reduces the amount of collisions.
  * Document optional dpkg -C argument in --help output. Closes: #763000
  * Consider a hardlink tar entry as a regular file for mode values, i.e.
    assign to it S_IFREG instead of 0.

  [ Raphaël Hertzog ]
  * Explain better in deb-triggers(5) why interest/activate-noawait should be
    favored.

  [ Updated programs translations ]
  * Catalan (Guillem Jover): Fix mismatched format string.
  * Czech (Miroslav Kure).
  * Polish (Łukasz Dulny).
  * Turkish (Mert Dirik). Closes: #763825

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).
  * Italian (Guillem Jover): Swap order of some dpkg-deb arguments.
    Thanks to xor <xor@paranoici.org>. Closes: #759149

 -- Guillem Jover <guillem@debian.org>  Mon, 06 Oct 2014 00:11:08 +0200

dpkg (1.17.13) unstable; urgency=low

  [ Guillem Jover ]
  * Remove unbalanced trailing single-quote in dpkg-deb error message.
    Reported by Trần Ngọc Quân <vnwildman@gmail.com>.
  * Remove architecture blacklist from hardening build flag option
    stackprotectorstrong. Thanks to Romain Francoise <rfrancoise@debian.org>.
  * Documentation:
    - Merge binary:Package descriptions in dpkg-query(1).
    - Split --remove and --purge options in dpkg(1). This also clarifies on
      which package states each option can operate. Closes: #576338
    - Remove duplicate “of the” in dpkg-maintscript-helper(1).
  * Fix dpkg-maintscript-helper dir_to_symlink to handle relative symlink
    targets. Thanks to Helmut Grohne <helmut@subdivi.de>.
  * Fix dpkg-maintscript-helper symlink_to_dir to assure absolute pathnames
    arguments.
  * Fix dpkg-source not detecting modified files during --commit or -b.
    Regression introduced in dpkg 1.17.11. Closes: #758426
    Reported by Neil Williams <codehelp@debian.org>.
  * Only test the strerror() compatible code if sys_errlist and sys_nerr
    are present. This fixes a build failure on GNU/Hurd. Closes: #758199
  * Switch start-stop-daemon on GNU/kFreeBSD systems to use libkvm, instead
    of relying on linprocfs which is not the native procfs on kFreeBSD, and it
    is usually not mounted as FreeBSD programs do not expect it to be present.

  [ Updated programs translations ]
  * Czech (Miroslav Kure).
  * German (Sven Joachim).
  * Vietnamese (Trần Ngọc Quân).

  [ Updated man pages translations ]
  * French (Jean-Pierre Giraud, Vincent Thomas, Raphaël Hertzog).

  [ Updated scripts translations ]
  * French (Raphaël Hertzog).
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Tue, 19 Aug 2014 20:14:45 +0200

dpkg (1.17.12) unstable; urgency=low

  [ Guillem Jover ]
  * Only build the compatibility selinux code if libselinux is available or
    the user requested it. Also fixes build failures on non-Linux systems.
    Closes: #757637
  * Documentation:
    - Add a short description to each virtual field in dpkg-query(1), and
      mention the version they got introduced in dpkg.
    - Fix formatting of last paragraphs inside dselect(1) --color description.
  * Rework dselect columns code, to make it easier to maintain and read.
  * Add new architecture columns to dselect package list view. The new
    columns, shown by default, can be turned off with the new ‘A’ key,
    or bound to another key via the new “archdisplay” keybinding.
  * Fix a descriptor leak on dselect subprocesses when --debug is used.
  * Use «tar --format=gnu» when creating source archives. This makes sure we
    get a deterministic output format, regardless of what tar defaults to.
    Thanks to Jan Blunck <jblunck@infradead.org>..
  * Use perl's length instead of defined when checking some environment
    variables, if we require them to have content.
  * Allow specifying the same build type option multiple times in
    dpkg-buildpackage and dpkg-genchanges. There seems to be scripts with
    such invocations in the wild. Closes: #757795

  [ Updated programs translations ]
  * German (Sven Joachim).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Fri, 15 Aug 2014 03:30:39 +0200

dpkg (1.17.11) unstable; urgency=low

  [ Guillem Jover ]
  * Switch URLs in docs and code comments from http:// to https:// if the
    latter is available (round two). This includes the quilt patch header
    templates, and examples in man pages.
  * Update some dpkg git URLs to the new and newer (cgit switch) scheme.
  * Changes to libcompat:
    - Make the library testable.
    - Do not run qsort() over the scandir() list if it is NULL.
    - Add a setexecfilecon() compatibility function out from dpkg code.
  * Use SELinux setexecfilecon() if available in dpkg instead of ad-hoc code.
  * Replace obsolete <sys/fcntl.h> with <fcntl.h>, which fixes compilation on
    Android. Thanks to Fredrik Fornwall <fredrik@fornwall.net>. Closes: #752036
  * Fix file triggers/Unincorp descriptor leak on subprocesses. Regression
    introduced with the initial triggers implementation in dpkg 1.14.17.
    Closes: #751021
  * Do not disable the stack-protector build flags on arm64 in Debian and
    derivatives, the toolchain supports them now.
    Thanks to Adam Conrad <adconrad@debian.org>. Closes: #751032
  * When parsing the statoverride database from dpkg-statoverride do not
    consider it an error and refuse to operate at all if the user or group
    names are not known to the system, just preserve them. Closes: #563307
  * Do not write to the available file when unpacking binary packages. This
    information is not useful as dpkg has never recorded the archive path,
    so it has never been truly available for re-installation anyway.
    Closes: #241768
  * Add versioned Provides support:
    - Add a new dpkg --assert-versioned-provides command.
    - Packages can provide a specific version, “virtual (= 1.0)” which will
      be honored, previously it would just be accepted when parsing.
    - Non-versioned virtual packages will not satisfy versioned dependencies.
    - Versioned virtual packages will satisfy non-versioned dependencies.
    Based on skeletal code by Ben Collins <bcollins@debian.org>.
    Closes: #7330, #24934, #112131, #134582, #180316
  * On removal check Depends and Pre-Depends for packages in unpacked and
    half-configured states too.
  * Add support for new hardening build flag stackprotectorstrong in Debian
    and derivatives, enabled by default. It will fallback to stackprotector
    when the former is not functional or disabled by the user.
    Thanks to Romain Francoise <rfrancoise@debian.org>.
  * Change «dpkg-deb --field» code to use the libdpkg deb822 parser instead
    of an ad-hoc one. This makes sure any field fixup and sanity check is
    performed on the input, and gets reflected on the output.
  * Add new dpkg-query virtual fields db:Status-Want, db:Status-Status and
    db:Status-Eflag to allow fine-grained access to the Status values.
  * Automatically add the Testsuite field in dpkg-source to the .dsc file.
  * Spell nocheck option in dpkg-scanpackages wait_child() call correctly.
    Spotted by James McCoy <jamessan@debian.org> (in devscripts).
  * Move the explanation of functional checks from --verify-format to the
    --verify command in the dpkg(1) man page. Closes: #747264
  * Improve dpkg-buildpackage(1) man page:
    - Mark DEB_CHECK_COMMAND environment variable in bold.
    - Add final item for done hook in the actions sequence.
    - Mention that -nc does not apply either when -F is specified.
    - Mention that the --FOO-option options can be used multiple times.
    - Fix a typo in the BUGS section.
  * Mark the “and” between the filenames as regular format in dpkg-source(1).
  * Add --format and --ignore-bad-version to dpkg-source --help output.
  * Clarify error message in Dpkg::Source::Quilt when patches fail to apply,
    to note that the patch might be malformed (besides not accepting patches
    with fuzz).
  * Try to preallocate the disk size for extracted files on unpack. This
    might help in avoiding filesystem fragmentation, and possibly improve
    performance on some filesystems.
  * Print the correct removed binary filename when building a source package
    with dpkg-source --include-removal. Closes: #755166
  * Add powerpcel support to cputable. Thanks to Jae Junh <jaejunh@embian.com>.
  * Bump the i386 architecture GNU triplet to i586-linux-gnu to match the
    change in gcc. Somewhat reluctantly, as i386 wants to be its unique
    snowflake and use a GNU triplet not matching its baseline. This will
    cause problems when cross-building and using unmatched combinations of
    dpkg-dev and gcc. Closes: #751363
  * Update i386 architecture GNU cpu regex in cputable to match i786 too.
  * Remove unused pkglibdir variable from libdpkg.pc.in.
  * Perl modules:
    - Add new set_as_auto() method to Dpkg::Substvars.
    - Add support for sig and delete_sig spawn() options in Dpkg::IPC.
    - Add %opts to ensure_open() member in Dpkg::Compression::FileHandle.
    - Change find_command() to handle an empty or undef argument in Dpkg:Path.
  * Mark Format and Installed-Size as automatic substvars in dpkg-genchanges
    and dpkg-gencontrol respectively.
  * Warn on usage of deprecated Source-Version substvar.
  * Say OpenPGP instead of PGP when referring to the standard on code comments
    and output messages.
  * Add a hint to the “no dependency information found” error message in
    dpkg-shlibdeps, to check if the library is actually packaged.
    Thanks to Sylvestre Ledru <sylvestre@debian.org>. Closes: #756230
  * Delete the current compressor SIGPIPE disposition in Dpkg::Source::Archive,
    which fixes ignoring SIGPIPE from the calling process. Closes: #756526
  * Ignore DEB_CHECK_COMMAND in dpkg-buildpackage if the command is not found.
  * Emit a warning when using the deprecated -is/-ip/-isp/-ips options in
    dpkg-gencontrol.
  * Only print build type once in dpkg-genchanges, instead of once for each
    specified -A or -B option and then yet another time for the general build
    type description.
  * Unify build options description in --help output for dpkg-buildpackage
    and dpkg-genchanges.
  * Only allow one build type option in dpkg-genchanges and dpkg-buildpackage.
  * Correctly filter the host architecture on the Architecture field in the
    generated .changes file from dpkg-genchanges, when the debian/files
    contains arch-specific packages but dpkg-genchanges was called with
    one of the build types excluding them.
  * Add new -g and -G options to dpkg-genchanges and dpkg-buildpackage for
    source plus arch-indep/specific builds. Closes: #756975
  * Fix dpkg --add-architecture and --remove-architecture to check that they
    get exactly one argument. Closes: #757254

  [ Updated programs translations ]
  * Danish (Joe Dalton). Closes: #754127
  * French (Jean-Baka Domelevo Entfellner, Julien Patriarca).
  * Portuguese (Miguel Figueiredo). Closes: #756920
  * Spanish (Guillem Jover): Fix «dpkg-query -l» header. Closes: #756209
  * Swedish (Peter Krefting).

  [ Updated scripts translations ]
  * Swedish (Peter Krefting).

  [ Updated man pages translations ]
  * Swedish (Peter Krefting).

 -- Guillem Jover <guillem@debian.org>  Sat, 09 Aug 2014 17:16:27 +0200

dpkg (1.17.10) unstable; urgency=medium

  [ Guillem Jover ]
  * Use libtool to build the static libraries, which makes it possible to
    embed libcompat inside libdpkg, as required by some external programs
    linking against the latter. Closes: #746122
  * Fix word wrapping logic in dselect. Regression introduced in dpkg 1.17.3.
  * Fix possible out of bounds buffer read access in the error output on
    bogus ar member sizes.
  * Fix memory leaks in buffer_copy() on error conditions.
  * Test suite:
    - Improve C code coverage.
    - Add template test cases for most perl modules.
    - Add test cases for Dpkg::Deps OR relationships.
    - Add minimal test case for Dpkg::Source::Quilt.
    - Add test cases for Dpkg::Source::Patch CVE-2014-0471 and CVE-2014-3127.
    - Add test case for patch disabling hunks; not security sensitive.
  * Fix non-security sensitive TOCTOU race in triggers database loading.
  * Fix non-security sensitive TOCTOU race in update-alternative alternative
    database loading.
  * Fix non-security sensitive TOCTOU race in update-alternative rename code.
  * Add a workaround to start-stop-daemon for bogus OpenVZ Linux kernels that
    prepend, instead of appending, the " (deleted)" marker in /proc/PID/exe.
    Closes: #731530
  * Move dpkg-architecture -L argument to the Commands --help output section.
  * Make dpkg-maintscript-helper print only once that we are moving a
    conffile, and not on every interim state transition. Closes: #747370
  * Do not use global match variables in perl code.
  * Man pages:
    - Attempt to clarify and improve wording of some strange or confused
      constructs. Reported by Helge Kreutzmann.
    - Expand Vcs-* field names into each supported field name in
      deb-src-control(5) to make it easier to search for them.
    - Change control.tar.gz reference to simply control.tar in deb(5).
    - Document in dpkg-deb(1) -Z option that bzip2 and lzma are deprecated.
    - Add notes in dpkg-gensymbols(1) about symbol backward-compatibility.
      Based on a patch by Bernhard R. Link <brlink@debian.org>.
      Closes: #746973
    - Document that dpkg-buildpackage(1) -j argument is optional.
    - Add current and deprecated media types to deb(5).
    - Document in dpkg(1) that --audit now does more than just searching for
      partially installed packages.
  * Add support for automatic parallel job selection in dpkg-buildpackage,
    matching currently active processors, when using -jauto. Closes: #748012
  * Perl modules:
    - Bump $VERSION for Dpkg::Patch, missed in 1.16.1.
    - Bump $VERSION for Dpkg::Deps, missed in 1.17.0.
    - Update and fix CHANGES POD sections for public modules.
    - Add missing Dpkg::Deps::Multiple profile_is_concerned() and
      reduce_profiles() methods, inherited by Dpkg::Deps::Union,
      Dpkg::Deps::AND and Dpkg::Deps::OR.
  * Do not mangle quilt series files with a missing newline on the last line.
    Closes: #584233
  * Quiesce tar warnings in cron job by redirecting stderr to /dev/null, as
    it seems --warning=none does not work correctly. Closes: #748544
  * Do not emit a trailing space from Dpkg::Control::Hash on a field's empty
    first line. Bump dpkg-dev Breaks on devscripts to 2.14.4, as previous
    versions expect a trailing space from dpkg-parsechangelog output.
    Based on a patch by Johannes Schauer <j.schauer@email.de>. Closes: #749044
  * Do not assume that sensible-editor is present on «dpkg-source --commit»,
    as that command is very Debian specific. Fallback to try VISUAL, EDITOR,
    or vi, if the previous commands are either unset or not found.
  * Use badusage() instead of ohshit() on dpkg --ignore-depends argument
    parsing errors.
  * Add per package dpkg --audit support.
  * Add support for DragonFlyBSD to ostable and triplettable.
    Thanks to Hleb Valoshka <375gnu@gmail.com>.
  * Add support for DragonFlyBSD to start-stop-daemon. Closes: #734452
    Based on a patch by Hleb Valoshka <375gnu@gmail.com>.
  * Correctly parse patch headers in Dpkg::Source::Patch, to avoid directory
    traversal attempts from hostile source packages when unpacking them.
    Reported by Javier Serrano Polo <javier@jasp.net> as an unspecified
    directory traversal; meanwhile also independently found by me both
    #749183 and what was supposed to be #746498, which was later on published
    and ended up being just a subset of the other non-reported issue.
    Fixes CVE-2014-3864 and CVE-2014-3865. Closes: #746498, #749183

  [ Updated programs translations ]
  * Catalan (Guillem Jover).
  * Italian (Milo Casagrande). Closes: #750105

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

  [ Raphaël Hertzog ]
  * Let dpkg-source unpack additional tarballs in a deterministic order.
    Thanks to Samuel Bronson for the report. Closes: #747148

 -- Guillem Jover <guillem@debian.org>  Thu, 05 Jun 2014 20:18:04 +0200

dpkg (1.17.9) unstable; urgency=high

  [ Guillem Jover ]
  * Do not allow patch files with C-style encoded filenames. Closes: #746306
    Fixes CVE-2014-3127 and unconditionally fixes CVE-2014-0471.
    Reported by Javier Serrano Polo <javier@jasp.net>.
  * Switch alternative database backups from xz to gzip. Closes: #746354
  * Do not leak long tar names on bogus or truncated archives.
  * Do not leak the filepackages iterator when a directory is used by other
    packages.
  * Fix short lived memory leaks in «dpkg-split --split».
  * Fix memory leak in unused Keybindings screen in dselect.
  * Do not leak color string on «dselect --color».
  * Fix memory leaks when parsing alternatives.
  * Fix off-by-one stack buffer overrun in start-stop-daemon on GNU/Linux and
    GNU/kFreeBSD if the executable pathname is longer than _POSIX_PATH_MAX.
    Although this should not have security implications as the buffer is
    surrounded by two arrays (so those catch accesses even if the stack
    grows up or down), and we are compiling with -fstack-protector anyway.
  * Mark the command_get_pager() tests on a tty as TODO for now, so that
    we do not get failures on build daemons.
  * Make test suite errors abort the build again. Closes: #746331

  [ Updated scripts translations ]
  * French (Steve Petruzzello). Closes: #746350
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Wed, 30 Apr 2014 05:45:20 +0200

dpkg (1.17.8) unstable; urgency=high

  [ Guillem Jover ]
  * Do not backup nonexistent database files from the cron.daily file.
    And stop emitting tar warnings. Closes: #745592, #745651
  * Test suite:
    - Improve Perl code coverage.
    - Improve C code coverage.
  * Handle space-only strings when parsing versions in libdpkg.
  * Document the environment requirements for the dpkg-maintscript-helper
    supports command in the man page. Closes: #739634
  * Improve wording for «dpkg --verify» and --verify-format in the man page.
    Closes: #733057
  * Switch test runner from Test::Harness to TAP::Harness.
  * Use the perl TAP::Harness for the C test suite instead of the automake
    tap-driver, to avoid requiring automake >= 1.12, currently not present
    in stable.
  * Enable failed test case reporting from the TAP::Harness, so that we get
    more meaningful reports on failure from the C test suite.
  * Correctly parse C-style diff filenames in Dpkg::Source::Patch, to avoid
    directory traversal attempts from hostile source packages when unpacking
    them. Reported by Jakub Wilk <jwilk@debian.org>. Fixes CVE-2014-0471.

  [ Updated programs translations ]
  * German (Sven Joachim).
  * Russian (Yuri Kozlov). Closes: #745869
  * Vietnamese (Trần Ngọc Quân).

 -- Guillem Jover <guillem@debian.org>  Mon, 28 Apr 2014 13:33:11 +0200

dpkg (1.17.7) unstable; urgency=low

  [ Guillem Jover ]
  * Documentation:
    - Mention in deb-symbols(5), that the “main-dependency-template” is
      always used. Closes: #737731
    - Clarify in deb-control(5) «Multi-Arch: no» field omission.
    - Clarify in dpkg-buildpackage(1) --check-option description.
    - Document dpkg-query --control-path life expectancy. See: #699647
    - Fix indentation of “Extract options (with -x)” title in dpkg-source(1).
    - Improve symlink <-> directory switch information in
      dpkg-maintscript-helper(1). Closes: #739388
    - Add missing flags affected by hardening options to dpkg-buildflags(1).
  * Use exit instead of return to exit a subshell in dpkg-maintscript-helper.
    Thanks to Richard Levitte <richard@levitte.org>. Closes: #738957
  * Localize $_ in Perl functions with while (<$fh>) style loops.
  * Perl test suite cleanup:
    - Switch test suite runner from ExtUtils::Command::MM to Test::Harness.
    - Enable colors in test suite runner.
    - Remove sequence number prefixes from test case filenames.
  * Do not generate perl warnings on nonexistent fields with
    «dpkg-parsechangelog --show».
  * Fix bogus message on dependency parse errors in dpkg-checkbuilddeps.
    Closes: #736778
  * Document is_pgp_signed as a public Dpkg::Control::Hash option.
    Closes: #735975
  * Do not generate perl warnings on undef versions in
    Dpkg::Deps::deps_compare(). See: #737731
  * Clarify dpkg-genchanges error message on binary builds without any binary
    artifact built. Closes: #726520
  * Improve dpkg-source warning message when ignoring file removals,
    by adding a hint about the --include-removal option.
    Thanks to Moritz Muehlenhoff <jmm@debian.org>. Closes: #738310
  * Add a new dpkg-source extraction --ignore-bad-version option.
    Closes: #740883
  * Add Architecture and Build-Profiles information to Package-List field,
    as optional name=value1,value2 entries, with names «arch» and «profile».
    Use the now recognized field Build-Profiles from binary stanzas in the
    source control file to fill the «profile» value.
  * Do not interpret the .dsc filename as a regex when recomputing the
    md5sum for the .changes file after signing the .dsc. Closes: #742535
  * Cache vendor info Control::Hash objects in Dpkg::Vendor::get_vendor_info()
    when parsing the vendor file on each hook invocation.
  * If the vendor does not have a Dpkg::Vendor module, try loading a module
    from the parent vendors, before falling back to Dpkg::Vendor::Default.
    Closes: #735978
  * Set Ubuntu build flags for ppc64el instead of ppc64, as Ubuntu never ended
    up shipping a ppc64 architecture. Also honor noopt DEB_BUILD_OPTIONS flag.
    Thanks to Adam Conrad <adconrad@debian.org. Closes: #738691
  * Add OpenRISC or1k support to cputable.
    Thanks to Christian Svensson <christian@cmd.nu>. Closes: #736717
  * Add support for FCFLAGS, OBJCFLAGS and OBJCXXFLAGS build flags.
    Closes: #744326
  * Improvements and portability fixes to start-stop-daemon:
    - When using the Linux procfs switch to use /proc/PID/status instead of
      /proc/PID/stat to read the process name.
    - Add a generic KVM-based implementation to initialize the entire
      process list.
    - Fix FreeBSD KVM code to use current kinfo_proc layout.
    - Add a native FreeBSD pid_is_exec() method, which is more reliable than
      the KVM-based one, and means neither linprocfs nor procfs are required
      on such system anymore. Note that GNU/kFreeBSD is still using Linux
      procfs code (which ends up using linprocfs).
    - Fix OpenBSD KVM code to use current kinfo_proc layout.
    - Detect system specific headers at configure time instead of hardcoding
      their usage depending on system macros.
    - Add a new --ppid matching option to check for parent PID.
      Suggested by Alex Mestiashvili <mailatgoogl@gmail.com>.
    - On GNU/Hurd do not link unnecessarily against libshouldbeinlibc and
      libihash.
  * Set TAR preprocessor variable at build time instead of hardcoding it.
    This will allow non-GNU systems to easily use another value for their
    GNU tar, which is usually either gnutar or gtar.
  * Require compound literals support in the compiler at configure time.
  * Fix compound literals usage with compilers in C99 mode, by not assigning
    them to static variables.
  * Test suite cleanup:
    - Do not unnecessarily shut up stdout in t-subproc.
    - Test command_exec() exit code.
    - Test allocations with new test_alloc() instead of pass/fail macros.
    - Switch C test suite to use TAP.
  * Add support for Packages-files in dpkg --update-avail and --merge-avail
    from pipes, or standard input if the argument is omitted or is ‘-’.
    Closes: #357093, #367297
  * Error out on not-installed packages passed to «dpkg --verify».
  * Deprecate compressing .deb files with bzip2, by making dpkg-deb issue a
    warning, as the compressor has been superseded by xz when it comes to
    compression ratio, and in cases where higher compatibility or raw speed
    is desired gzip is still the better option. Although unpacking will be
    kept being supported to handle existing bzip2 compressed .deb files.
  * Use GNU tar's --no-unquote when using -T in dpkg-deb to avoid mangling
    filenames. Reported by Niels Thykier <niels@thykier.net>. Closes: #743687
  * Backup all databases with user data, not just the status database.
  * Add Conflicts to dpkg against packages using install-info that were
    removed after lenny or squeeze, but may have survived upgrades to wheezy.
    Thanks to Andreas Beckmann <anbe@debian.org>. Closes: #735159
  * Be verbose on «make check» errors by printing the test suite log.

  [ Updated programs translations ]
  * German (Sven Joachim).
  * Swedish (Peter Krefting).
  * Thai (Theppitak Karoonboonyanan). Closes: #745032
  * Vietnamese (Trần Ngọc Quân).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).
  * Swedish (Peter Krefting).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).
  * Italian (Beatrice Torracca). Closes: #742449
  * Swedish (Peter Krefting).

 -- Guillem Jover <guillem@debian.org>  Mon, 21 Apr 2014 05:03:52 +0200

dpkg (1.17.6) unstable; urgency=low

  [ Guillem Jover ]
  * Move signing in dpkg-buildpackage to the end of the build.
  * Add new --check-command and --check-option options to dpkg-buildpackage,
    and DEB_CHECK_COMMAND environment variable as a default value, to
    specify a package checker to use before the signing process.
  * Detect a missing gain-root-command even if dpkg-buildpackage is running
    as root.
  * Detect a missing sign-command in dpkg-buildpackage, before starting the
    build, to avoid a failure at the end of the process.
  * Remove trailing newlines from dpkg-deb warning message.
  * Change dpkg-deb conffile name length warning into an error, as dpkg will
    reject those packages at install time anyway.
  * Unify and clarify dpkg-deb and dpkg conffile name length error message.
    Closes: #108196
  * Add new start-stop-daemon --pid option. Closes: #253265
  * Mention Multi-Arch: no value in man pages. Closes: #732648
  * Correctly hyphenate binary-only and source-only in dpkg-buildpackage
    output messages.
  * Use makedev(3) when extracting .deb archives rather than ad-hoc
    computations, to be able to support large major/minor device numbers,
    supported on at least Linux, NetBSD and OpenBSD based systems.
    Thanks to Peter Chang <dpf@google.com>.
  * Turn the ARM Embedded ABI symbols blacklist into a regex, to stop having
    to keep up with the GNU toolchain, or other toolchains emitting different
    symbols.
  * Blacklist GOMP critical section symbols. Closes: #708033
  * Add support for Ignore-Blacklist-Groups field in symbols files, with the
    two available group values aeabi and gomp. Closes: #694524
  * Allow updating checksums in Dpkg::Checksums without erroring out.
  * Add shell hooks support to dpkg-buildpackage, based on the debuild
    implementation in devscripts 2.13.9. Closes: #476221
  * Add support for Testsuite source field.
  * Clarify error message about missing revision in non-native source package.
    Closes: #719348, #733746
  * Set default compression options in source format specific modules instead
    of dpkg-source. This makes sure the correct compression level is set, even
    for “3.0 (native)” packages with non-default compressors. Closes: #733326
  * Change default source package compressor for new formats (>= 2.0) to xz.
  * Ignore the same packages in «dpkg-query --list» when computing the
    column width as when printing the entries. Closes: #734114
  * Do not produce .deb archives with uncompressed gzip members on
    «dpkg-deb -Zgzip -z0», instead create them as non-compressed members,
    as if -Znone had been passed, as documented. Closes: #718295
  * Add support for .deb archives with a control member not compressed
    (control.tar) or compressed with xz (control.tar.xz).
  * Add support for creating uniformly compressed .deb archive members,
    with the new dpkg-deb option --uniform-compression.
  * Fix file descriptor leaks in diversions and statoverride databases.
    Closes: #734783
  * Allow missing prior-version argument in dpkg-maintscript-helper
    dir_to_symlink and symlink_to_dir commands. Closes: #733980

  [ Updated programs translations ]
  * Swedish (Peter Krefting).
  * Vietnamese (Trần Ngọc Quân).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).
  * Swedish (Peter Krefting).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).
  * Swedish (Peter Krefting).

 -- Guillem Jover <guillem@debian.org>  Wed, 15 Jan 2014 05:29:45 +0100

dpkg (1.17.5) unstable; urgency=low

  [ Guillem Jover ]
  * Switch non-tty output to be line buffered by default, and set it to fully
    buffered only for programs with precious and abundant output, not just
    progress reporting output (i.e. dpkg-query). This was causing out-of-order
    error and debug messages in relation to normal progress reporting, which
    could be very confusing. Regression introduced in dpkg 1.17.2.
  * Fix segfault in update-alternatives when adding or renaming slaves for
    an existing alternative. Regression introduced in dpkg 1.17.2.
    Closes: #731710
  * Fix dpkg-maintscript-helper symlink_to_dir and dir_to_symlink commands:
    - Always run postinst code regardless of prior-version, as the package
      might have been never configured before.
    - Be more strict when checking the expected state of paths.
    - Rename subcommand shell code to check-files-ownership.
    - Change dir_to_symlink switch code to use a staging empty directory,
      to avoid dpkg removing files from other packages, when removing the
      package old files during upgrade.
    - Bump minimal version in man page to 1.17.5.
    Closes: #731730
  * Mention gpg2 too as one of the default sign commands in dpkg-buildpackage.

  [ Updated programs translations ]
  * German (Sven Joachim).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Thu, 12 Dec 2013 08:29:45 +0100

dpkg (1.17.4) unstable; urgency=low

  * Keep the diversions and statoverride database files open during dpkg
    runs, to avoid eager inode number reuse by the filesystem if these files
    get replaced multiple times in maintainer scripts, as we rely on the
    inode numbers being different when checking if the databases need to
    be reloaded. Regression introduced in 1.17.2. Closes: #731524
  * Add debug output to diversions and statoverride database loading code.
  * Reset the statoverrides information from the in-core database when
    reloading it from disk, otherwise removals in maintainer scripts will
    not be seen during the current dpkg run.
  * Get rid of dpkg-split global partqueue queue variable.
  * Use warningv() in dpkg instead of ad-hoc printing message when
    overriding with --force option.
  * Switch URLs in docs and code comments from http:// to https:// if the
    latter is available.

 -- Guillem Jover <guillem@debian.org>  Sat, 07 Dec 2013 07:34:54 +0100

dpkg (1.17.3) unstable; urgency=low

  [ Guillem Jover ]
  * Check availability of warning flags at build time. Fixes a build failure
    on systems with old g++ compilers not accepting -Wc++11-compat.
  * Move DPKG_C_C99 call just after AC_PROG_CC, so that subsequent checks
    can take advantage of the possibly set flags to enable C99 features.
  * Improve configure C99 compiler check output.
  * Use C++11 nullptr instead of 0 or NULL, which is way more descriptive
    and has a better type. Check for C++11 compiler support, and fallback
    nullptr to 0 if unavailable.

  [ Updated programs translations ]
  * Vietnamese (Trần Ngọc Quân). Closes: #731409

 -- Guillem Jover <guillem@debian.org>  Thu, 05 Dec 2013 10:19:38 +0100

dpkg (1.17.2) unstable; urgency=low

  [ Guillem Jover ]
  * Make Dpkg::Arch debwildcard_to_debtriplet() more robust by matching
    on exact 'any' strings, instead of substrings.
  * Add manpages-it Replaces to dselect and dpkg-dev. Closes: #717983
    Reported by Andreas Beckmann <anbe@debian.org>.
  * Document default dpkg-deb compressor change to xz in man page.
    Thanks to Salvatore Bonaccorso <carnil@debian.org>. Closes: #718437
  * Version manpages-it in Replaces with (<< 2.80-4), now that the package
    does not ship the overlapping paths any more.
  * Automatically prepend needed spaces for continuation --force-help lines.
  * Be more precise on deb format errors with data member in dpkg-deb.
  * Do not allow deb packages with control and data members swapped.
  * Clarify «dpkg-deb --extract» bad usage error message on missing arguments
    by printing all required arguments at once. Closes: #718899
  * Clarify the insertion order of _ members in deb(5) man page.
  * Fix use after free in alternative_parse_fileset() on update-alternatives.
    Reported by Pedro Ribeiro <pedrib@gmail.com>.
  * Fix use after free in dpkg_arch_load_list() on libdpkg.
    Reported by Pedro Ribeiro <pedrib@gmail.com>.
  * Fix theoretical stack buffer overflow in w_dependency() on libdpkg, not
    currently applicable. Reported by Pedro Ribeiro <pedrib@gmail.com>.
  * Add ppc64el support to cputable. Closes: #718945
    Thanks to Jeff Bailey <jeffbailey@google.com>.
  * Use dpkg-gencontrol -c argument as a fallback lock file in case
    debian/control does not exist. Closes: #667008
  * Pass the package reference count (i.e. number of present instances) to
    maintainer scripts via the new variable DPKG_MAINTSCRIPT_PACKAGE_REFCOUNT.
    Closes: #681370
  * Fix field names on error messages in libdpkg, by either capitalizing them
    or by renaming them to match reality.
  * Do not capitalize error and warning messages.
  * When ignoring invalid remove requests in dpkg consider that progress,
    reset the loop detector and avoid the assert. Closes: #143307
  * Activate all path components for file triggers on removal.
    Regression introduced in 1.17.0. Closes: #725437
  * Activate file triggers on disappearance more accurately, only when we know
    we are inevitably removing things.
  * Fix «dpkg-query --list» output when using multibyte character strings,
    to avoid unaligned columns and mojibake. Closes: #257505, #718541
    Based on a patch by Changwoo Ryu <cwryu@debian.org>.
  * Use fully buffered output on non-tty stdout.
    Reported by Shawn Landden <shawnlandden@gmail.com>.
  * Recognize «start-stop-daemon -C» as documented. Closes: #719746
    Reported by Brian S. Julin <bri@abrij.org>.
  * When update-alternatives is told to change slave links, do not warn that
    the link group is broken, just print a notice that the alternative is
    being updated due to the changes.
  * Add a new «dpkg --verify» command to check the integrity of packages
    installed files. Add a --verify-format option to explicitly select the
    output format, currently only rpm compatible output is supported, but
    the default might change in the future. Closes: #187019
  * Improve dpkg “Preparing to replace” and “Unpacking” progress messages.
    Closes: #32427, #71106
  * Print the package version on main dpkg progress messages.
  * Do not store timestamps in gzip headers when using the command, to try to
    mimic the zlib behavior. This does not affect Debian as it's been using
    zlib for a very long time. Closes: #719844
  * Reset environment variables affecting compressor commands when not using
    the shared library implementations. Namely XZ_DEFAULTS, XZ_OPT, BZIP and
    BZIP2.
  * Use a simple list to track packages owning a file, instead of using a
    list of arrays of pointers which waste 10 pointers per non-shared file,
    instead of 1. This significantly reduces dpkg memory usage.
  * Honor new DEB_SIGN_KEYID environment variable in dpkg-buildpackage.
    Suggested by Harald Dunkel <harri@afaics.de>. Closes: #615813, #719418
  * Always check subprocess exit codes in Dpkg::Source::Package modules.
    Reported by Ian Jackson <ijackson@chiark.greenend.org.uk>.
  * Add support for pie and stack-protector options to dpkg-buildflags FFLAGS,
    and update the man page to mention FFLAGS are a subset of CFLAGS.
    Closes: #726932
  * Improve and unify -O option handling in dpkg-genchanges, dpkg-gensymbols
    and dpkg-shlibdeps, by always taking an optional filename argument and
    describing in the man page the default output files.
  * Use “hyphen” instead of “dash” when we mean the ‘-’ character in the
    documentation and code comments.
  * Do not NULL-terminate the list in the compat scandir(), as this might
    cause a segfault in case the function returns 0 entries.
  * Always return from ensure_statoverrides() if file is NULL, otherwise
    we might get us to read garbage from memory or segfault.
  * Add new symlink_to_dir command to dpkg-maintscript-helper. Closes: #720712
    Based on a patch by Bastien ROUCARIÈS <roucaries.bastien@gmail.com>.
  * Add new dir_to_symlink command to dpkg-maintscript-helper. Closes: #583585
  * Distinguish dpkg error reports between errors while processing packages
    and archives.
  * Fix crashes in the first call to gettext() after fork() on Mac OS X, by
    forcing the initialization at program start of the CoreFoundation cached
    values in libintl.
  * Set a default gettext domain for libdpkg code, so that other programs
    using a different domain can still get correct translations, like dselect.
  * Cleanup libdpkg-perl API:
    - Dpkg::Compression: Deprecate $default_compression_level,
      $default_compression and $compression_re_file_ext package variables.
    - Dpkg::Exit: Deprecate @handlers package variable.
    - Dpkg::Source::Package: Deprecate $diff_ignore_default_regexp and
      @tar_ignore_default_pattern package variables.
    - Dpkg::Changelog::Entry::Debian: Deprecate $regex_header and
      $regex_trailer package variables.
  * Add GnuPG 2.x support. Add gnupg2 and gpgv2 as alternative Recommends to
    gnupg and gpgv (to not pull them by default), but prefer gpgv2 over gpgv,
    and gpg2 over gpg at run-time if they are available.
  * Switch dpkg conflictor tracking from a fixed-size array to a queue,
    fixing several related issues, due to conflictors not being removed from
    the array after processing them. dpkg could fill it due to additions in
    previous package processing producing very confusing error messages; and
    a theoretical problem where a package could get appended to be removed,
    then reinstalled as a new version, to get removed again when revisiting
    the array in a subsequent package processing. Closes: #726112
  * Do not accept empty field names in dpkg.
  * Do not accept an initial hyphen in field names.
  * Add experimental build profiles support:
    - Add support for <!profile.name> build-time restrictions in dependencies.
    - Add support for DEB_BUILD_PROFILES environment variable.
    - Add new option -P to dpkg-buildpackage and dpkg-checkbuilddeps.
    - Add new Built-For-Profiles output field in .deb and .changes files.
    Based on a patch by Patrick "P. J." McDermott <pjm@nac.net>,
    Wookey <wookey@debian.org> and Johannes Schauer <j.schauer@email.de>.
    Closes: #661538
  * Bump Standards-Version to 3.9.5.
  * Document interactions of dpkg-source --extend-diff-ignore and -i in the
    man page. Closes: #729874

  [ Updated programs translations ]
  * German (Sven Joachim).
  * Vietnamese (Trần Ngọc Quân).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * French (Christian Perrier): fix incorrectly translated sentence,
    thanks to Fabien Givors.
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Thu, 05 Dec 2013 04:56:31 +0100

dpkg (1.17.1) unstable; urgency=low

  * Man pages cleanup:
    - Make explicit that dpkg-shlibdeps -e can be used multiple times.
    - Improve documentation on how to update the available database before
      setting package selections. Suggested by Klaus Ita <koki.eml@gmail.com>.
  * Add manpages-it Replaces to dpkg due to new translated man pages.
    Reported by Alessio Gaeta <alga777@gmail.com>. Closes: #717983
  * Reword libdpkg-perl description and only list public modules.
  * Remove space before value in dpkg-parsechangelog -S option on pkg-info.mk.
    Closes: #718014
  * Make the build system install start-stop-daemon directly under /sbin,
    instead of moving it around in debian/rules.

 -- Guillem Jover <guillem@debian.org>  Sun, 28 Jul 2013 14:44:50 +0200

dpkg (1.17.0) unstable; urgency=low

  [ Guillem Jover ]
  * Switch update-alternatives back to a fatal error on out of range priority
    on --install.
  * Document dpkg-deb --debug in --help output.
  * Bump Standards-Version to 3.9.4 (no changes needed).
  * Use the new canonical dpkg git Vcs URLs.
  * Remove ancient version from zlibg1-dev Build-Depends.
  * Add compression development packages to libdpkg-dev Depends.
  * Man pages cleanup:
    - Disable justification and hyphenation in SEE ALSO sections.
    - Remove unneeded double quotes in .SH headings.
    - Do not use “header” when “format” or “field” is meant.
    - Move dangers of installing via dpkg-deb from BUGS to a NOTES section.
    - Remove BUGS sections containing obvious or misplaced information.
    - Move BUGS sections before EXAMPLES and SEE ALSO sections.
    - Place ENVIRONMENT and FILES sections contiguously.
    - Move EXIT STATUS section before ENVIRONMENT.
    - Rename CAVEATS sections to NOTES.
    - Fold BACKWARD COMPATIBILITY section into other sections.
    - Document since when DEB_*_MULTIARCH variables are supported.
    - Move compiler flags subsection from ENVIRONMENT to NOTES.
    - Unify WARNING and ERROR sections into DIAGNOSTICS.
    - Unify command-line options into a single OPTIONS section.
    - Mark programs, variables, fields and command-line options in bold.
    - Fold dpkg-architecture(1) DEBIAN/RULES section into EXAMPLES.
    - Fix dpkg-architecture(1) debian/rules usage documentation.
    - Move dpkg-buildflags(1) HARDENING into a new FEATURE AREAS subsection.
    - Improve dpkg-buildflags(1) usage documentation.
      Thanks to Matthijs Kooijman <matthijs@stdin.nl>. Closes: #657627
    - Clarify that DPKG_MAINTSCRIPT_PACKAGE is not arch-qualified.
    - Add triggers to the list of binary control information files.
      Thanks to Charles Plessy <plessy@debian.org>.
  * Use colon instead of dot for user:group in dpkg debug output.
  * Remove support for obsolete DM-Upload-Allowed from Dpkg::Vendor::Debian.
  * Fix update-alternatives to use the current alternative link as the first
    best value, to avoid flip-flops of alternatives with equal priority.
    Closes: #699807
  * Fix clang warnings due to change of alignment requirements.
  * Change copyright file to point to GPL-2 instead of GPL.
  * Do not pass -e in shell script shebangs, set it in the body.
  * Add new dpkg-parsechangelog --show-field option to print a field value.
    Closes: #284664
  * Add new dpkg-buildpackage --force-sign option.
  * By default do not sign builds for UNRELEASED uploads on dpkg-buildpackage.
    Closes: #635117
  * Also check Build-Depends-Arch for minimal versions in dpkg-shlibdeps.
    Closes: #681470
  * Document dpkg-buildflags export mode usage in man page. Closes: #691449
    Thanks to Jonathan Nieder <jrnieder@gmail.com>.
  * Rename dpkg-buildflags configure exporter to cmdline, but preserve
    configure as a legacy alias.
  * Mask fortify hardening option from dpkg-buildflags output on noopt.
    New glibc 2.16 and later, issue a warning on this condition.
    Closes: #691745
  * Refer to path instead of file on dpkg-statoverride.
  * Always print a descriptive architecture column, even for empty or missing
    architectures on «dpkg-query --list».
  * Rework SELinux code on unpack to reload the label database if it has
    changed, for example while upgrading the SELinux policy package.
  * Execute maintainer scripts in a new execution context, based on the
    current one and the specific maintainer script filename, and if it's
    not different to the current one, use "dpkg_script_t" as a fallback.
  * Do not unnecessarily create a dpkg update log record on remove or purge.
  * Always reset want status when removing or purging a package; so this
    now resets holds among others. Closes: #163763
  * Always reset want status when installing a package; so this now resets
    holds among others. Closes: #162541
  * Defer cleanup of .dpkg-new and .dpkg-tmp paths on removal to the point
    when we are definitely removing the main path.
  * Activate file triggers on removal more accurately, only when we know
    we are inevitably removing things.
  * Change dir to / before executing maintainer scripts. Closes: #686782
  * Add new dpkg-deb --deb-format option and base --new and --old on it,
    as the latter are not future-proof, and neither can be guaranteed to
    produce a reliable output file format.
  * Drop archtable. It serves no purpose, it's Debian specific, it's
    usually outdated, and everyone should be using dpkg-architecture anyway.
  * Add musl-linux support to ostable and triplettable.
    Requested-by Kevin Bortis <wermut@gmail.com>.
  * Remove update-alternatives, dpkg-divert and dpkg-statoverride
    compatibility symlinks under /usr/sbin/.
  * Remove install-info wrapper.
  * Only ignore older packages if the existing version is informative. This
    allows any program using libdpkg to parse the available file to see again
    packages with versions lesser than 0-0 (like 0~0-0). Closes: #676664
  * Fix Dpkg::Control::Hash set_options() to take a hash as argument instead
    of two scalars.
  * Add a new Dpkg::Vendor get_vendor_dir() function.
  * Print correct path to vendor directory on error message in dpkg-vendor.
  * Do not hardcode the dpkg system configuration directory in perl scripts,
    respect build time setting.
  * Deprecate Dpkg perl module lowercase and exported by default variables,
    replaced by new unified uppercase non-exported by default ones.
  * Do not set -fstack-protector in the default build flags on arm64 (it's
    not yet supported). Thanks to Matthias Klose <doko@ubuntu.com>.
    Closes: #711936
  * Add GCJFLAGS support to dpkg-buildflags. Closes: #708375
  * Clarify that dpkg --set-selections needs an up-to-date available db,
    by documenting it on the dpkg(1) man page, and warning whenever dpkg
    finds unknown packages while setting the selections. Closes: #703092
  * Print nicer error messages in perl scripts using Getopt::Long by trapping
    $SIG{__WARN__} to call usageerr() on option parse errors.
  * Move the exit call out from usage() in dpkg-scansources so that usageerr()
    gives a correct exit code. Thanks to Bernhard R. Link <brlink@debian.org>.
  * Print correct error message on unknown dpkg-name options before --.
  * Require at least one filename on dpkg-name after --.
  * Switch program usage errors to not print entire --help output.
    Closes: #681371
  * Document that «dpkg-parsechangelog -l-» can be used to read from stdin.
  * Support parsing compressed changelog files transparently. Closes: #684196
  * Sort files inside new diffs generated by dpkg-source lexicographically.
    Closes: #689193
  * Add support for a build_arch option in Dpkg::Deps deps_parse().
    Thanks to Colin Watson <cjwatson@ubuntu.com>. Closes: #697297
  * Move epoch-less or revision-less output logic to Dpkg::Version.
    Based on a patch by Bernhard R. Link <brlink@debian.org>.
  * Catch mismatches between version strings and format versions in
    dpkg-source. Ensure that a 3.0 (quilt) package has a non-native version
    and that a 3.0 (native) package has a native version. Closes: #700177
    Thanks to Bernhard R. Link <brlink@debian.org>.
  * Add support for mipsn32(el) and mips64(el) to arch tables.
    Thanks to YunQiang Su <wzssyqa@gmail.com>. Closes: #685096, #707323
  * Document --file and --label parser options in dpkg-parsechangelog(1).
  * Add a new configure --with-dpkg-deb-compressor option to allow selecting
    the default dpkg-deb compressor, mainly for downstreams.
  * Switch dpkg-deb default compressor from gzip to xz. Build dpkg.deb using
    gzip to make debootstrap life easier on non-Debian based systems.
  * Add support for gzip compression strategies to dpkg-deb. The new
    strategies are: filtered, huffman, rle and fixed.
  * Change dpkg and dpkg-deb help output to recommend apt instead of dselect
    as a user-friendly frontend.
  * Remove temporary file on error during «dpkg-divert --rename».
  * Fix value caching in Dpkg::Arch by not shadowing the variables.
  * Fix chmod() arguments order in Dpkg::Source::Quilt. Closes: #710265
    Thanks to Pablo Oliveira <pablo@sifflez.org>.
  * Add new dpkg-shlibdeps -l option to add private shared library directories.
    This should be used instead of abusing LD_LIBRARY_PATH to pass the paths,
    which might be problematic when cross-compiling. Closes: #698881
  * Only apply empty line and comma cleanups when doing substvar replacements
    on fields where those are relevant. Closes: #659814
  * Do not scan control files twice for PGP signature presence.

  [ Raphaël Hertzog ]
  * Fix dpkg-maintscript-helper rm_conffile and mv_conffile to do nothing
    when the conffile is no longer owned by the current (or named) package.
    Thanks to Steve Langasek for the patch. Closes: #716948
  * Improve dpkg-maintscript-helper behaviour in “Multi-Arch: same” packages
    by arch-qualifying package names read from the environment. Also add
    a warning about this potential problem in the manual page.
  * Fix usage of non-existent _() function in multiple places of the Perl
    code. Thanks to Lincoln Myers <lincoln@netapp.com> for the patch.
    Closes: #708607

  [ Updated programs translations ]
  * Fix typo in Spanish translation of update-alternatives.
    Thanks to Javier Fernandez-Sanguino <jfs@debian.org>. Closes: #713020

  [ Updated programs translations ]
  * Vietnamese (Trần Ngọc Quân). Closes: #715334

  [ Added man pages translations ]
  * Italian (Beatrice Torracca). Closes: #711647

  [ Updated man pages translations ]
  * Fix wrong translation of "fortify" in French dpkg-buildflags(1) man page.
    Thanks to Christian Perrier <bubulle@debian.org>. Closes: #712976
  * Fix typo in dpkg-source(1) man page French translation.
    Thanks to Cédric Boutillier <boutil@debian.org>. Closes: #708292
  * Japanese (TAKAHASHI Motonobu). Closes: #704240

 -- Guillem Jover <guillem@debian.org>  Fri, 26 Jul 2013 23:54:54 +0200

dpkg (1.16.10) unstable; urgency=low

  [ Guillem Jover ]
  * Fix typos in 1.16.9 changelog entry. Closes: #691954
    Thanks to Nicolás Alvarez <nicolas.alvarez@gmail.com>.
  * Add missing @LIBLZMA_LIBS@ to Libs.Private in libdpkg.pc.in.
  * Do not use an undefined va_list variable in dpkg_put_errno().
  * Abort installation if we cannot set the security context for a file.
  * Fix OpenPGP armored signature parsing, to be resilient against doctored
    input, including source package control files. Closes: #695919
  * Make sure the OpenGPG armor contains a signature block, even on EOF.
  * Do not accept Armor Header Lines inside a paragraph.
  * Do not abort dselect when multiarch is detected, as that only makes
    users downgrade and hold on an older version w/ worse multiarch support.
  * Fix warning in Dpkg::Source::Archive with «perl -w» due to redefinition
    of getcwd() by removing unused POSIX modules usage. Closes: #700978

  [ Updated programs translations ]
  * Esperanto (Felipe Castro).
  * Spanish (Javier Fernández-Sanguino).
  * Vietnamese (Trần Ngọc Quân). Closes: #692100

  [ Updated scripts translations ]
  * Fix mistranslation in French translation of scripts.
    Thanks to Filipus Klutiero. Closes: #698530
  * Fix typos in French translation of scripts.
    Thanks to Sylvestre Ledru. Closes: #702627
  * Fix Russian translation (wrong order of parameters in a string).
    Thanks to Andrey Rahmatullin for noticing and Yuri Kozlov for fixing
    the translation. Closes: #698869

 -- Guillem Jover <guillem@debian.org>  Fri, 08 Mar 2013 04:41:26 +0100

dpkg (1.16.9) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Fix dpkg-source regression in "3.0 (quilt)" source packages while
    unapplying patches that remove all files in a directory. Closes: #683547
  * Fix segfault in field format parsing on empty strings, affecting
    «dpkg-query -W -f ''» and «dpkg-deb -W --showformat=''». LP: #1035512
  * Fix dpkg's French usage string which was missing the final “s“ in
    --print-foreign-architectures. Closes: #685863

  [ Guillem Jover ]
  * Use “statoverrides” instead of “statusoverrides” in dpkg-statoverride.
    Closes: #686995
  * Comment out dpkg(1) documentation about disabled --command-fd option.
    Closes: #685677
  * Cleanup dpkg-divert unit-test environment to avoid build failures.
    Closes: #687656
  * Fix update-alternatives test suite to behave correctly on non-Debian
    binary paths. Known to be affecting at least Gentoo and Mac OS X.
  * Do not leak subcall command arguments in update-alternatives.
  * Fix segfault on update-alternatives when passing --slave without any
    action at all. LP: #1037431
  * Fix memory leak in dpkg filesavespackage().
  * Do not print garbage (or worse) on dpkg shared conffile debug output.
  * Use a hash instead of a ref to a hash for keys() in Dpkg::BuildFlags
    get_feature_areas(). This causes compilation failures with older perl
    versions, which can be an issue with partial upgrades.
  * Fix filter subpattern debug output format string to print an actual
    value instead of just blanks.
  * Ignore trailing filter subpattern slashes on reinclusion comparison.
    This makes sure to reinclude directories previously excluded so that
    contained files marked for inclusion do not fail to unpack due to a
    missing directory. Closes: #688416
  * Do not consider obsolete conffiles as actively owned by the package.
    This ensures conffile entries are not mishandled nor mixed up when
    configuring packages owning the non-obsolete conffiles. Closes: #689836
    Based on a patch by Andreas Beckmann <debian@abeckmann.de>.
  * Properly mark in the database obsolete conffiles on package replaces.
  * Sync the Conffiles field values for all package instances. Because
    only the first package instance being configured will have a *.dpkg-new
    conffile available to be processed, the subsequent ones need to use the
    hash from the previously processed entries.
  * Fix logic for previously configured conffiles, so that the shared
    conffile checks actually work on reinstallation. Closes: #684776
  * Avoid info database corruption and bogus accesses on unknown format
    values, by always reading the format file and validating it.
  * Clarify that the most probable reason for multiarch database
    inconsistencies is due to upgrades from unofficial dpkg versions.
  * Only satisfy a dependency on a “Multi-Arch: foreign” if arch-unqualified.
  * Take architecture into account in virtual packages on remove and
    configure dpkg actions. Closes: #683411
  * Update update-alternatives --query format and examples in man page to
    match the implementation.
  * Add two missing 3rd person ‘s’ in dpkg-gensymbols(1). Closes: #689863
    Thanks to Paul Menzel <pm.debian@googlemail.com>.
  * Fix regression on old-style binNMUs for packages that specify an
    explicit binary version to dpkg-gencontrol, by always fixing up the
    source version. Closes: #690823

  [ Updated programs translations ]
  * Catalan (Guillem Jover).
  * Czech (Miroslav Kure).
  * Danish (Joe Dalton). Closes: #690808
  * French (Christian Perrier).
  * German (Sven Joachim).
  * Italian (Milo Casagrande).
  * Japanese (Kenshi Muto).
  * Polish (Michał Kułach). Closes: #690449
  * Portuguese (Miguel Figueiredo). Closes: #682582, #690431
  * Russian (Yuri Kozlov). Closes: #688050, #690415
  * Slovak (Ivan Masár). Closes: #690426
  * Swedish (Peter Krefting).
  * Thai (Theppitak Karoonboonyanan). Closes: #690678
  * Traditional Chinese (imacat). Closes: #687002

  [ Updated scripts translations ]
  * Polish (Michał Kułach). Closes: #683104
  * Spanish (Omar Campagne). Closes: #685297

  [ Updated dselect translations ]
  * Basque (Iñaki Larrañaga Murgoitio). Closes: #686421
  * Czech (Miroslav Kure).
  * Danish (Joe Dalton). Closes: #689820
  * Polish (Michał Kułach).

  [ Updated man pages translations ]
  * French (Thomas Vincent, Sylvestre Ledru, Christian Perrier).
    Closes: #682978, #683221
  * German (Helge Kreutzmann).
  * Japanese (Hideki Yamane). Closes: #685103
  * Polish (Michał Kułach).
  * Spanish (Omar Campagne, Guillem Jover). Closes: #683514
  * Swedish (Peter Krefting).

 -- Guillem Jover <guillem@debian.org>  Sat, 20 Oct 2012 05:59:50 +0200

dpkg (1.16.8) unstable; urgency=low

  [ Updated programs translations ]
  * Esperanto (Felipe Castro).
  * French (Christian Perrier).
  * Polish (Michał Kułach). Closes: #680561
  * Russian (Yuri Kozlov). Closes: #677850, #680411
  * Slovak (Ivan Masár).
  * Spanish (Javier Fernández-Sanguino)

  [ Updated man pages translations ]
  * French (Christian Perrier).

  [ Updated scripts translations ]
  * French (Christian Perrier).
  * Russian (Yuri Kozlov).

  [ Updated dselect translations ]
  * Danish (Joe Dalton). Closes: #680108
  * Russian (Yuri Kozlov).
  * Traditional Chinese (Asho Yeh - 阿信).

 -- Guillem Jover <guillem@debian.org>  Sat, 21 Jul 2012 02:11:04 +0200

dpkg (1.16.7) unstable; urgency=low

  [ Guillem Jover ]
  * Fix bogus dpkg-query --control-show badusage() strings.

  [ Raphaël Hertzog ]
  * Fix dpkg-gencontrol to correctly compute the source version
    in the case of "old-style" bin-nmus. Closes: #679959

  [ Updated dselect translations ]
  * Catalan (Guillem Jover).
  * French (Christian Perrier).
  * German (Sven Joachim).
  * Swedish (Peter Krefting).

  [ Updated programs translations ]
  * French (Christian Perrier).
  * German (Sven Joachim).
  * Italian (Milo Casagrande).
  * Swedish (Peter Krefting).

  [ Updated man pages translations ]
  * Swedish (Peter Krefting).
  * French (Christian Perrier).

  [ Updated scripts translations ]
  * Swedish (Peter Krefting).
  * French (Christian Perrier).

 -- Raphaël Hertzog <hertzog@debian.org>  Mon, 02 Jul 2012 21:16:12 +0200

dpkg (1.16.6) unstable; urgency=low

  [ Guillem Jover ]
  * Do not translate SELinux context to human readable form while unpacking,
    as that might cause the operation to fail if the mcstransd daemon
    stopped running during the transaction. Closes: #679641
    Thanks to Russell Coker <russell@coker.com.au>.
  * Add --control-list and --control-show to dpkg-query --help output.

  [ Raphaël Hertzog ]
  * Fix import of error functions in dpkg-buildflags. Regression introduced
    in 1.16.5.

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Sat, 30 Jun 2012 21:45:10 +0200

dpkg (1.16.5) unstable; urgency=low

  [ Raphaël Hertzog ]
  * dpkg-source will now clean up after a failed application of a quilt
    patch. Closes: #652970
    And it will display a message explaining the most likely cause of
    failure (patch applying with fuzz).
  * When dpkg-source regenerates the automatic patch (with formats "2.0"
    or "3.0 (quilt)") it will keep the current patch header to avoid
    losing changes made by the maintainer.
  * Modify dpkg-source --commit to auto-whitelist modified binary files.
    That way the same command can be used whatever kind of upstream files
    has been modified.
  * dpkg-source now supports a new option --no-unapply-patches to force
    patches to be kept applied after build (used by formats "2.0" and "3.0
    (quilt)"). Closes: #643043

  [ Guillem Jover ]
  * Add a dpkg-buildflags --status action to describe the flag settings.
    Thanks to Bernhard R. Link <brlink@debian.org>. Closes: #664058
  * Add support for “binary-only” key-value option in changelogs, to allow
    marking changelog entries as part of a binary only upload, having a
    different version from the source package. Closes: #440094, #672723
  * Minimize source architecture list on «dpkg-source -b» by removing
    architectures already covered by architecture wildcards. Closes: #675333
  * Do not assume $ENV{'HOME'} is defined in Dpkg::Source::Package.
    Thanks to Niels Thykier <niels@thykier.net>. Closes: #677631
  * Document in more detail in deb(5) the supported ar archive format.
  * Document in deb-src-control(5) the “Private-” field prefix.
  * Add new start-stop-daemon --no-close option to disable closing file
    descriptors on --background. Closes: #627333, #646425
  * Switch source compression to xz.
  * Detect ar header fields truncation due to too long member names or too
    large member sizes. Closes: #678933
  * Add new dpkg-query --control-list and --control-show commands, which
    replace the now deprecated --control-path.
  * Print master and slave alternative link names in update-alternatives
    --query and always print alternative link in --config. Closes: #679010
  * Cleanup and clarify buffer I/O error reporting. Closes: #621763
  * Avoid full stop and double newline at the end of errors and warnings.
    Thanks to Jonathan Nieder <jnieder@gmail.com>. Closes: #624000
  * Change all programs to accept -? instead of -h for help output.
  * Add support for specific arch-qualified dependencies. Closes: #676232
    Thanks to Thibaut Girka <thib@sitedethib.com>.
  * Accept “:native” arch-qualified Build-Dependencies. Closes: #558095
    Thanks to Thibaut Girka <thib@sitedethib.com>.
  * Do not use undefined values returned form deps_parse() in dpkg-shlibdeps.
    Closes: #640676
  * Add an Architecture column to «dpkg-query -l» before the Description
    column. Suggested by Jonathan Nieder <jnieder@gmail.com>. Closes: #673190

  [ Updated programs translations ]
  * Swedish (Peter Krefting).

  [ Updated dselect translations ]
  * Swedish (Peter Krefting).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).
  * Swedish (Peter Krefting).

 -- Guillem Jover <guillem@debian.org>  Sat, 30 Jun 2012 04:28:51 +0200

dpkg (1.16.4.3) unstable; urgency=low

  * On «update-alternatives --install» only warn for now on out of range
    priorities and clamp the values, as there seems to be packages using
    priorities > INT_MAX, which although bogus as they were previously
    overflowing the int used to store them, that would cause installation
    failures when upgrading from squeeze. This will be reverted to an
    error after wheezy. Closes: #676874

 -- Guillem Jover <guillem@debian.org>  Sun, 17 Jun 2012 10:56:15 +0200

dpkg (1.16.4.2) unstable; urgency=low

  * Check correctly for out of range negative field width values in dpkg-query
    --show format strings. Regression introduced in 1.16.4. Closes: #676796

 -- Guillem Jover <guillem@debian.org>  Sat, 09 Jun 2012 16:16:17 +0200

dpkg (1.16.4.1) unstable; urgency=low

  * Fix explicit file trigger activation. Regression introduced in 1.16.4.
    Closes: #676684

 -- Guillem Jover <guillem@debian.org>  Fri, 08 Jun 2012 23:17:11 +0200

dpkg (1.16.4) unstable; urgency=low

  [ Guillem Jover ]
  * Deprecate compressing .deb files with lzma, by making dpkg-deb issue a
    warning, as the format has several deficiencies that have been addressed
    by upstream in xz. Although unpacking will be kept being supported to
    handle existing lzma compressed .deb files.
  * Add alternative changelog formats documentation from the policy manual
    to dpkg-parsechangelog(1). Closes: #584141
  * Add MiNT support to ostable and triplettable.
    Requested by Thorsten Glaser <tg@mirbsd.de>.
  * Add new frontend.txt file to dpkg-dev documenting some public interfaces
    for dpkg frontends. Closes: #670897
  * Clarify in dpkg(1) when --force-conf* options cause action.
    Suggested by Sven Joachim <svenjoac@gmx.de>. Closes: #391818
  * Add “gcc | c-compiler” to libdpkg-perl Suggests, due to Dpkg::Arch usage.
    Closes: #671198
  * Do not mask PIE from dpkg-buildflags on m68k, it appears to work now.
    Requested by Thorsten Glaser <tg@mirbsd.de>.
  * Remove deprecated support for PGP style signing command interface from
    dpkg-buildpackage.
  * Remove obsolete --udeb dpkg-scanpackages option.
  * Add arm64 support to cputable. Closes: #672408
    Thanks Wookey <wookey@wookware.org>.
  * Check parsed integers for invalid or no digit errors in start-stop-daemon
    and update-alternatives.
  * Check all parsed integers for out of range errors; i.e. that no negative
    values are allowed if not appropriate, and that no overflows occur.
    Closes: #580038
  * Switch start-stop-daemon(8) man page examples from /var/run to /run.
  * Do not obscure Dpkg::Source::Package ‘require’ errors with custom
    error message. Thanks to Thomas Adam <thomas.adam@smoothwall.net> and
    Jonathan Nieder <jrnieder@gmail.com>.
  * Add new Dpkg::Substvars::set_as_used() member function.
  * Rename Dpkg::Substvars no_warn() member function to mark_as_used(), keep
    the old name aliased to the new one producing a deprecation warning.
  * Add support for Build-Depends-Arch and Build-Conflicts-Arch fields, and
    a new -A option to dpkg-checkbuilddeps. Closes: #629480
    Thanks to Roger Leigh <rleigh@debian.org>.
  * Add support for “none” as a valid dpkg-deb compression strategy value.
    Closes: #674711
  * Clarify in dpkg(1) that the «dpkg -l» example only lists installed
    packages, and that to list available packages «dpkg-query --load-avail»
    has to be used instead. Closes: #673305
  * Clarify also in the dpkg(1) man page (already present in the dpkg.cfg(5)
    man page) the valid filenames for /etc/dpkg/dpkg.cfg.d/ fragment files.
    Closes: #674674
  * Fix start-stop-daemon to not follow symlinks when creating pidfiles.
    Thanks to Carsten Hey <carsten@debian.org>. Closes: #675918
  * Refactor the file locking logic into a new Dpkg::File module, and move
    the libfile-fcntllock-perl dependency from dpkg-dev to libdpkg-perl.
  * Demote the libfile-fcntllock-perl Depends to a Recommends by falling back
    to use flock based locking, because it being an XS module makes building
    a new perl package bumping the perl ABI impossible, as both packages
    become uninstallable. Thanks to Dominic Hargreaves <dom@earth.li>.
    Closes: #675947
  * Put an & before field_capitalize() calls in Dpkg::Control::Fields to
    fix a usage before declaration warning with perl 5.16. Closes: #676262
  * Do not warn in dpkg-divert on missing files list file for packages never
    installed before. Closes: #673518
  * Add support for liblzma to handle .xz and .lzma compressed files, and
    switch to it instead of using xz-utils. This removes the xz-utils
    Pre-Depends from dpkg. Thanks to Jonathan Nieder <jrnieder@gmail.com>.
  * Always activate all path components for file triggers, this fixes file
    trigger handling for conffiles and dpkg-trigger invocations.
    Closes: #675613, #676061, #676062, #676107, #676118, #676122
  * Do not reset Multi-Arch field in the update log when removing the package.
    Closes: #676496
  * Fix dpkg-split to honour the DPKG_ADMINDIR environment variable.

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).
  * French (Christian Perrier). Fixes a mistranslation and some
    inconsistencies reported by Vincent Danjean( thanks). Closes: #673158

 -- Guillem Jover <guillem@debian.org>  Thu, 07 Jun 2012 23:43:19 +0200

dpkg (1.16.3) unstable; urgency=low

  [ Guillem Jover ]
  * Do not look for newline beyond the read buffer on dpkg-deb extract.
  * Check update-alternative name and link arguments for all commands.
    Closes: #665050
  * Check all dpkg-divert filename arguments to be absolute and to not
    contain newlines. Closes: #21722
  * Print errors while reading the file list files on a new line instead
    of just after the progress percentage. Closes: #552517
  * Document in dpkg-source(1) that patches for source format “3.0 (quilt)”
    are expected to apply without any fuzz. Closes: #666752
    Based on a patch by Luca Capello <luca@pca.it>.
  * Remove redundant -Wformat-security from default dpkg-buildflags, which
    is already implied by -Werror=format-security. Closes: #664964
    Suggested by Peter Eisentraut <petere@debian.org>.
  * Document in dpkg-query(1) that commands producing multiple paragraphs
    will preserve the order of the packages specified on the argument list.
  * Change start-stop-daemon --exec on GNU/Hurd, FreeBSD, NetBSD, OpenBSD
    and Solaris to check for executables matching device and inode numbers
    instead of filenames.
  * Change start-stop-daemon --name on GNU/Hurd to check the process' argv[1]
    in addition to argv[0], to handle both binaries and interpreted scripts.
    Reported by Mats Erik Andersson <mats.andersson@gisladisker.se>.
  * Handle deb format versions as major.minor integers instead of strings or
    floats, the latter being susceptible to parsing errors depending on the
    current locale (although this was only affecting the old deb format).
  * Ignore the minor format version number for deb-split format, unifying
    the behaviour with the deb format.
  * Add support for an abitable containing arch attribute overrides.
  * Add x32 support to abitable, ostable and triplettable. Closes: #667037
  * Fix start-stop-daemon to work with relative --exec arguments and --chdir.
    Closes: #669047
  * Ignore request to rename a file owned by the diverting package on
    «dpkg-divert --add --rename». Closes: #588077
  * Clarify dpkg-gensymbols(1) by way of examples that architecture wildcards
    are supported in symbols files. Closes: #670048
  * Fix memory leak due to Dpkg::Control objects not being garbage-collected.
    Thanks to Ben Harris <bjh21@cam.ac.uk>. Closes: #669012
  * Compute the md5sum hash on unpack for empty files too, so that these
    can be checked correctly for matching content when installing multiple
    package instances.
  * Generate md5sums files automatically at unpack time if missing from the
    binary package. Closes: #155676, #155799
  * Add missing list and md5sums database file checks to «dpkg --audit».

  [ Helge Kreutzmann ]
  * Fix a typo in man/dpkg-buildflags.1.

  [ Updated programs translations ]
  * French (Christian Perrier).
  * German (Sven Joachim).
  * Swedish (Peter Krefting).

  [ Updated dselect translations ]
  * French (Christian Perrier).
  * German (Sven Joachim).
  * Swedish (Peter Krefting).

  [ Updated scripts translations ]
  * French (Christian Perrier).
  * Swedish (Peter Krefting).

  [ Updated man pages translations ]
  * French (Christian Perrier).
  * German (Helge Kreutzmann).
  * Swedish (Peter Krefting).

 -- Guillem Jover <guillem@debian.org>  Fri, 27 Apr 2012 10:10:10 +0200

dpkg (1.16.2) unstable; urgency=low

  [ Guillem Jover ]
  * Move <config.h> and <compat.h> to the top of trigdeferred.l to properly
    use the configured features and compat code.
  * Honour --disable-nls when the system lacks obstack support, by updating
    the obstack compat module from gnulib.
  * Link the libdpkg unit tests with libcompat and libintl, so that systems
    needing them will compile correctly.
  * Check for the presence of the strnlen declaration and correctly provide
    the compat one in case the systems lacks it.
  * Do not assume existence of paths on the build system in the test suite.
  * Do not fail to link dselect on MacOS X when using --disable-nls.
  * Remove versioned coreutils Pre-Depends from dpkg due to the ancient
    md5sum transition. Reported by Bill Allombert <ballombe@debian.org>.
    Closes: #643746
  * Change dpkg-architecture to only compute the requested variables. This:
    - Fixes the bootstrapping problem, as the dpkg build system only needs
      the host architecture, for which dpkg itself is not required.
    - Reduces the amount of work performed, including loading and parsing
      unnecessary table files or calling either of gcc or dpkg programs.
  * Improve error message in dpkg-gencontrol and dpkg-gensymbols when
    debian/control does not have any package stanza. Closes: #642473
    Based on a patch by Kyle Willmon <kylewillmon@gmail.com>.
  * Add Pre-Depends on tar >= 1.23 (satisfied in stable) to dpkg due to it
    using the ‘--warning=no-timestamp’ option. Closes: #642802
  * Do not segfault on GNU/Linux when dpkg cannot retrieve the block size
    for the filesystem containing the info database. LP: #872734
  * Fix two memory leaks per tar entry in the tar extractor used on unpack.
  * Mark dpkg and dselect as Multi-Arch foreign.
    Reported by Steve Langasek <vorlon@debian.org>.
  * Mark dpkg-dev and libdpkg-perl as Multi-Arch foreign. Closes: #648217
    Thanks to Colin Watson <cjwatson@ubuntu.com>.
  * Add new deb-origin.5 man page. Closes: #608884
    Thanks to Matt Kraai <kraai@ftbfs.org>.
  * Return correct status on start-stop-daemon --status when using --pidfile.
  * Treat dpkg-deb compression level independently for each backend. This
    has the effect of changing the current behaviour for level 0 on all
    compressors except gzip.
  * Add new dpkg-deb -S option to specify the compression strategy. The only
    currently supported value is “extreme” for xz. Closes: #647915
  * Stop using brace expansion to install man pages by using dh_installman
    instead of dh_install, the former does not abort on empty glob expansion.
  * Do not use absolute paths for programs in perl and shell code.
  * Add missing ‘*’ in asprintf() and vasprintf() compat declarations.
  * Add support for virtual output binary:Summary and db:Status-Abbrev fields.
    Closes: #192619, #427945
  * Add support for virtual output source:Package and source:Version fields.
    Closes: #653575
  * Use a different temporary file per process on libcompat's vsnprintf()
    function to avoid race conditions from children after fork(3).
    Reported by Daniel Ruoso <daniel@ruoso.com>. Closes: #655411
  * Fix start-stop-daemon --exec and --name options on FreeBSD, NetBSD and
    OpenBSD by swapping the process matching implementations.
  * Fix start-stop-daemon --name option on GNU/Hurd to match the process name.
  * Document in more detail the implications of start-stop-daemon matching
    options. Closes: #367608
  * Improve and clarify dpkg-shlibdeps superfluous linking warning messages.
    Based on a patch by Peter Eisentraut <petere@debian.org>. Closes: #656496
  * Relax --merge-avail Packages file parser, to not fail on bogus versions.
  * When building only arch-indep binaries with «dpkg-buildpackage -A», name
    the .changes file using ‘all’ as architecture. Closes: #661638
  * Handle unknown architectures gracefully in dpkg-buildflags.
    Closes: #663004
  * Add missing --status-logger to dpkg --help output.
  * Do not print bogus errno string for invalid package names in dpkg
    --ignore-depends option.
  * Change dpkg-query to not load the available file by default for --list
    and --show, add a new --load-avail option to expose the old behaviour.
  * Only allow setting selections via «dpkg --set-selections» for known
    packages (i.e. those present in either the status or available files).
  * Always ignore older versions when parsing the available file, not only
    for --update-avail and --merge-avail.
  * Mark not-installed non-arch-qualified selections for removal.
  * Add new «dpkg --assert-multi-arch» command to allow checking for
    multi-arch support availability.
  * Bump Standards-Version to 3.9.3 (no changes needed).
  * Add architecture consistency checks to «dpkg --audit».
  * Add new dpkg --add-architecture and --remove-architecture commands to
    track supported architectures.

  [ Raphaël Hertzog ]
  * Update Dpkg::Shlibs to look into multiarch paths when cross-building
    too. Closes: #595144
  * Rewrite architecture.mk with explicit loops instead of duplicating many
    similar lines. Based on a patch by Thorsten Glaser <tg@mirbsd.de>.
  * Modify dpkg-gencontrol and dpkg-distaddfile to grab a write lock
    on debian/control before updating debian/files to avoid simultaneous
    updates. Closes: #642608
    Add libfile-fcntllock-perl to dpkg-dev's Depends since we use this module
    to handle the locking.
  * Update dpkg-gensymbols(1) to clarify that -e accepts shell patterns
    expansions and not regular expressions. And let dpkg-gensymbols output a
    warning when a pattern doesn't match any file. Closes: #649248
  * Add new option "-a <arch>" to dpkg-checkbuilddeps to check build
    dependencies for another architecture. This is really basic for now since
    it assumes all build dependencies must be satisfied on the listed
    architecture. Closes: #648180 Thanks to Colin Watson for the patch.
  * Error out if a dpkg database .list file is not a regular file. LP: #369898
  * Fix dpkg-mergechangelogs to not error out on invalid versions.
    Closes: #651993
  * Fix dpkg-source --commit on "3.0 (quilt)" when an explicit patch file
    is given with a relative filename. Closes: #652414
  * Further clarify in dpkg-source(1) the conditions under which it's possible
    to pass an explicit patch file to dpkg-source --commit.
  * Add new --query-features command to dpkg-buildflags. Thanks to Kees Cook
    for the patch. Closes: #651481
  * Fix description of Multi-Arch in deb-control(5). Closes: #654453
    Thanks to Jakub Wilk for spotting the mistake.
  * Drop misleading spaces in deb-symbols(5) in the format description.
  * Clean up dpkg-architecture(1) dropping useless information and
    adding a reference to /usr/share/dpkg/architecture.mk.
  * Update dpkg-buildpackage to use the "build-arch" (for -B) and
    "build-indep" (for -A) targets unless "make -qn" says that they do not
    exist. Closes: #229357
  * Improve deb-shlibs(5) to mention that the dependency field must
    use the same syntax as a Depends field. Closes: #658696
  * Update dpkg-maintscript-helper(1) to recommend usage of the version
    removing/renaming a conffile with a "~" suffix as "priorversion"
    parameter. Thanks to Sam Morris <sam@robots.org.uk> for the patch.
    Closes: #658854
  * Fix debug output of dpkg-maintscript-helper. LP: #936340

  [ Jonathan Nieder ]
  * Bump po4a version in Build-Depends to 0.41, since earlier versions do
    not handle --srcdir correctly. Closes: #644370

  [ Guillem Jover, Steve Langasek, Raphaël Hertzog ]
  * Add new dpkg --print-foreign-architectures command.
  * Add support for virtual output binary:Package field.
  * Implement Multi-Arch support.

  [ Helge Kreutzmann ]
  * Fix a typo in man/dpkg-deb.1.

  [ Updated programs translations ]
  * German (Sven Joachim).
  * Italian (Milo Casagrande). Closes: #627832, #657849
  * Swedish (Peter Krefting).
  * French (Christian Perrier)
  * Polish (Michał Kułach). Closes: #658126

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).
  * Spanish (Omar Campagne). Closes: #636238
  * Swedish (Peter Krefting).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann), including typo fix in dpkg-genchanges
    Closes: #646496, sub optimal translation of package states LP: #368783
    and a fix by Chris Leick
  * Japanese (TAKAHASHI Motonobu).
  * Spanish (Omar Campagne). Closes: #643969
  * Swedish (Peter Krefting).
  * Minor errors corrected in French (thanks to David Prévot)
  * Fix translation of -B and -A options of dpkg-buildpackage.
    Thanks to Vincent Danjean. Closes: #654626

  [ Updated dselect translations ]
  * Dutch (Jeroen Schot). Closes: #651813

 -- Guillem Jover <guillem@debian.org>  Mon, 19 Mar 2012 07:27:12 +0100

dpkg (1.16.1.2) unstable; urgency=medium

  [ Raphaël Hertzog ]
  * Fix another typo to correctly set DEB_*_ARCH_BITS in architecture.mk.
  * Set urgency to medium as changes are minor, and it should migrate
    quickly in case 1.16.2 comes soon.

  [ Jonathan Nieder ]
  * Update dpkg-buildflags(1) to note that the processor option
    -D_FORTIFY_SOURCE=2 is set in CPPFLAGS now instead of CFLAGS and
    CXXFLAGS. Closes: #646073

 -- Raphaël Hertzog <hertzog@debian.org>  Fri, 25 Nov 2011 11:18:30 +0100

dpkg (1.16.1.1) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Fix dpkg-source to not ignore the automatic patch when checking
    for unrecorded changes. Closes: #643148
  * Let dpkg-source --commit create debian/patches when required.
    Closes: #643037
  * Fix dpkg-buildflags --dump to return 0 as exit code and not 1.
  * Update dpkg-buildflags(1) to not include quotes in the examples
    setting DEB_BUILD_MAINT_OPTIONS.
  * Stop outputting build flags in dpkg-buildpackage as it confuses
    maintainers who are overriding them in debian/rules and who
    are not seeing the expected value in the build log.
  * Fix trigger setup code to not reset the status of packages
    when they are in a status different from triggers-awaited,
    triggers-pending or installed. Closes: #644492
  * Fix dpkg-source to ignore changes on debian/patches/.dpkg-source-applied
    when building a "2.0" source package. Closes: #642656
  * Fix buildflags.mk to re-export the environment variables that
    the maintainer can use to change the build flags. Closes: #644412

  [ Guillem Jover ]
  * Change dpkg-buildflags to set preprocessor option -D_FORTIFY_SOURCE=2
    in CPPFLAGS, instead of CFLAGS and CXXFLAGS. Closes: #642521, #643632
  * Fix typo to correctly set DEB_*_ARCH_BITS instead of DEB_*_ARCH in
    architecture.mk. Thanks to Thorsten Glaser <tg@mirbsd.org>.
  * Make dpkg-buildflags disable full relro (bindnow) if relro is not enabled.

 -- Guillem Jover <guillem@debian.org>  Fri, 14 Oct 2011 07:08:31 +0200

dpkg (1.16.1) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Dpkg::Deps: Implement new "reset" method and bump module version to 1.01
    due to this.
  * Improved description of --search in dpkg-query(1). Closes: #621066
    Thanks to Lars Buitinck <larsmans@gmail.com> for the patch.
  * Let update-alternatives fsync() its administrative files before
    moving them in place to avoid empty files with some filesystems.
    LP: #344019
  * Tighten the regexp used by dpkg-source to ignore the .pc directory of
    quilt. Thanks to Mike Hommey for noticing the problem.
  * Change behaviour of dpkg-source's --extend-diff-ignore to also
    extend the current diff-ignore if it has already been set.
  * Fix dependency checking code to consider a dependency on a virtual
    package provided by a package in triggers-pending status as satisfied.
  * Do not fail when encountering a pre-dependency in triggers-awaited state,
    instead process the awaited triggers. Closes: #526774
  * "any" no longer hides "all" in the Architecture field of a .dsc.
  * Fix dpkg --remove to really remove the triggers from the various
    internal files in /var/lib/dpkg/info/triggers/. Closes: #525160
  * Avoid a perl warning in dpkg-gensymbols when no symbols file has been
    generated (because it would have been empty). Closes: #626684
  * Re-enable the Package-List field but drop the Architecture column since we
    have no clear use case yet. It can always be added later on.
    Also drop the source line since it duplicates other fields.
    Closes: #619131
  * Add the extraction part of Dpkg::Source::Package to the supported API.
    Useful to extract source packages without having to depend on dpkg-source
    (and hence dpkg-dev).
  * Add the Dpkg::Vendor module to the supported API. Useful for lintian
    when dpkg-dev is absent.
  * Check presence of required parameters in dpkg-vendor. Closes: #628726
    Thanks to Niels Thykier <niels@thykier.net> for the patch.
  * Avoid a Perl warning in dpkg-buildflags when HOME is not set.
    Closes: #635467
  * dpkg-source can now also use debian/source/local-patch-header (that is not
    included in the generated source package) instead of
    debian/source/patch-header. Closes: #629582
  * Changed dpkg-source --after-build to automatically unapply patches that it
    has applied during --before-build.
  * Fix two possible causes for the assertion failure "pigp->trigpend_head".
    LP: #798793, #424358 Closes: #560251
  * Use "special" instead of "particular" to qualify the "3.0 (custom)" format
    in dpkg-source(1). Closes: #631435
  * Add some supplementary checks to ensure debian/control has the required
    fields. Closes: #631439
  * dpkg-gensymbols(1): document syntax of comments. Closes: #630996
  * Allow empty lines in symbols files to better delimit multiple libraries.
    Thanks to Cyril Brulebois <kibi@debian.org> for the patch.
  * dpkg: if "prerm upgrade" fails when downgrading, do not try to run
    "prerm failed-upgrade" with the prerm of the oldest prerm, it can't work
    around a bug of a newer prerm anyway.
  * dpkg: support new "interest-noawait" and "activate-noawait" trigger
    directives.
  * dpkg-buildflags(1): make it clear that DEB_*_(SET|APPEND) environment
    variables are meant for users and should not be used by packages.
  * update-alternatives: do not allow reusing a slave link in another
    slave alternative. Closes: #631547
  * Improve dpkg-source's logic to identify ignored files. Closes: #632168
  * Fix a small typo in dpkg-source(1). Closes: #632937
  * Reword the description of dpkg-source --before-build and --after-build
    to be clearer. Closes: #608260
  * dpkg-buildpackage no longer exports the compiler flags. Closes: #560070
    Packages must directly call dpkg-buildflags to retrieve them.
  * dpkg-buildflags supports a prepend command to modify the build
    flags. Particularly useful for package maintainers who don't want
    their supplementary flags to take precedence over user submitted
    flags.
  * Add new --dump action to dpkg-buildflags and make it the default action.
    Closes: #603435
  * dpkg-mergechangelogs now checks the return value of the close() call.
    Thanks to Niels Thykier <niels@thykier.net> for the patch. Closes: #633539
  * Similar changes to dpkg-shlibdeps and dpkg-gencontrol, also by Niels.
  * Fix update-alternatives to not remove a real file when dropping a
    symlink for a slave that's not provided by the new current choice.
    Closes: #633627
  * Improve dpkg-source's error message complaining about the lack
    of the upstream tarball. Closes: #634510
  * Add some common makefile snippets for use in rules files in
    /usr/share/dpkg/: default.mk, architecture.mk, buildflags.mk, pkg-info.mk,
    vendor.mk Closes: #606839
  * Fix the dpkg-divert test-suite to also skip test that would fail if run
    under root. Closes: #634961
  * Change merge conflict separators created by dpkg-mergechangelogs to match
    the usual norm of being composed of 7 characters. LP: #815700
  * With source format 2.0 and 3.0 (quilt), dpkg-source now fails by default
    when upstream changes have not been recorded in a quilt patch. The new
    --commit operation can be used to properly record the changes before-hand.
    LP: #797839
    And it fails before installing the automatic patch in debian/patches/
    Closes: #615899
  * dpkg-buildflags now supports "--export=configure" to output compilation
    flags on a single line with double quotes as delimiter of the various
    values. It also uses DEB_<flag>_MAINT_<op> to let the maintainer
    extend the build flags to use. Last but not least, it can now also strip
    options from the returned build flags.
  * Fix possible segfault of dpkg in findbreakcycle(). LP: #733414
  * dpkg-source now properly cleans up the temporary tarball generated for
    native formats in case of unexpected interruption. Closes: #631494
  * Fix simplification logic of union dependencies. Closes: #637564
  * Fix dpkg's handling of a hardlink pointing to a conffile. Closes: #638291
  * Add example of extend-diff-ignore's usage in dpkg-source(1).
    Closes: #640198
  * dpkg-buildflags now returns hardening flags by default. Closes: #489771
    They can be individually enabled/disabled via DEB_BUILD_MAINT_OPTIONS,
    see dpkg-buildflags(1). Thanks to Kees Cook for his help.

  [ Guillem Jover ]
  * Install deb-src-control(5) man pages in dpkg-dev. Closes: #620520
  * Add ‘.gitmodules’ to the default dpkg-source ignore lists. Closes: #620490
  * Document in dpkg-query(1) man page that on --listfiles each list of
    files per package name is separated by a blank line. Same goes for
    --status and --print-avail.
  * Use execvp(3) unconditionally in command_exec(). Making the call always
    fallback to use the system shell in case of error, such as with empty
    maintainer scripts. Thanks to Jonathan Nieder <jrnieder@gmail.com>.
    Closes: #622094
  * Improve deb-split(5) format description by splitting debian-split
    member contents into a list.
  * Switch to debhelper compatibility level 7.
    - Use dh_prep instead of deprecated “dh_clean -k”.
  * Bump Standards-Version to 3.9.2 (no changes needed).
  * Generate filenames following current conventions on “dpkg-split --join”,
    by including the architecture in the debian-split member of a split
    package and using underscores to separate filename parts.
  * Support conffiles with spaces when diffing them. Closes: #147583
  * Allow installing packages with bogus versions with new
    --force-bad-version.
  * Do not fail when unpacking a diverted hardlink. Closes: #245322
    Based on a patch by Christopher Baines <cbaines8@gmail.com>.
  * Document in dpkg-deb(1) that --fsys-tarfile will always process the
    input archive sequentially. Closes: #616609
  * Remove long non-functional --new and --old dpkg-deb option handling
    from dpkg which were being treated as dpkg commands.
  * Remove reference to --nocheck dpkg-deb option from dpkg man page as
    the latter does not pass it to the former.
  * Clarify the current dpkg behaviour when running the dpkg-deb and
    dpkg-query back-ends, of not passing through back-end specific options
    when running them from dpkg. Closes: #610940
  * Use “unselected” as an adjective in dpkg output messages instead of
    “deselected”. Closes: #231089
  * Clarify exit status in dpkg-split and start-stop-daemon --help output.
  * Clarify “EXIT STATUS” section in man pages by using a table.
  * Add a --status command to start-stop-daemon returning LSB Init Script
    status action exit codes.
  * Add start-stop-daemon process name kernel limits for Solaris, NetBSD,
    OpenBSD, FreeBSD and Darwin.
  * On package removal, keep only directories actually containing conffiles,
    and not directories just matching the substring in the conffile or the
    directory itself. Thanks to Ondřej Surý <ondrej@debian.org>.
  * On purge correctly remove symlinks acting as directories, when they are
    not being used by any other package's files.
  * Do not lose track of parent directories on removal so that they can
    be properly cleaned up on purge if not used by any other package.
    Based on a patch by Ondřej Surý <ondrej@debian.org>. Closes: #454694
  * Add ‘.hgsigs’ to the default dpkg-source ignore lists.
    Based on a patch by Jakub Wilk <jwilk@debian.org>. Closes: #627462
  * Do not allow blank lines in field values. Closes: #308082
  * Do not warn on missing architecture on packages in config-files state,
    but then make sure the architecture field is usable. Closes: #604241
  * Run du with --apparent-size when generating the Installed-Size field in
    dpkg-gencontrol to get consistent results independent of build system.
    Thanks to Ludovic Brenta <ludovic@ludovic-brenta.org>. Closes: #630533
  * Do not fail to unpack shared directories missing on the file system
    from packages being replaced by other packages. Closes: #631808
  * Do not require programs to define thisname, provide two new functions
    to handle the program name (dpkg_set_progname and dpkg_get_progname).
    Closes: #631757
  * Man pages cleanup:
    - Rename “USAGE” dselect(1) section to “ACTIONS” and clarify they can
      be performed interactively or from command line.
    - Add missing built-in methods to dselect(1).
    - Add missing escaping to field dashes in deb-control(5).
    - Use dashes instead of underscores for variable text.
    - Clarify that several front-end fields are not dselect specific in
      dpkg-query(1).
    - Use [option...] instead of [options] and friends.
    - Use italics or bold instead of surrounding the text with <>.
    - Correctly format text with bold and italics.
    - Use minus signs and hyphens consistently in man pages.
    - Fix reference to /etc/dpkg/dselect.cfg.d instead of dpkg.cfg.d in
      dselect(1).
    - Add missing optional group|gid --chuid argument in start-stop-daemon(8).
  * Refer to Sources and Packages files as part of a repository instead of
    as being of exclusive use or owned by APT, which has never been the case.
  * Unify somewhat dpkg-maintscript-helper --help output with other commands.
  * Add build-indep and build-arch targets as aliases for build in
    debian/rules.
  * Use the perl interpreter found by configure to call dpkg-architecture.pl
    in the m4 DPKG_ARCHITECTURE macro.
  * Add new --verbose option to dpkg-deb and change --extract to honour it.
    Closes: #293280
  * Add new --raw-extract option to dpkg-deb combining --control and
    --extract. Closes: #552123
  * Defer hardlink renames so that there's never a point were the new
    file contents are accessible from the final path before they have
    been fsync()ed and cannot be executed causing ETXTBSY when trying
    to open the to be installed paths for writing.
    Thanks to Jonathan Nieder <jrnieder@gmail.com>. Closes: #635683
  * Clarify the default dpkg-deb compression-levels on the man page.
  * Clarify dpkg --update-avail usage error message. Closes: #628055
  * Change Dpkg::Compression default values depending on the compressor
    used, and as such dpkg-source inherits this functionality.
    Prompted by Timo Juhani Lindfors <timo.lindfors@iki.fi>.
  * Print an actual error or warning message instead of assert()ing on
    readlink()/stat() size discrepancies. Closes: #639229
  * Update alternative links only if they change. This allows for a
    read-only file system and a writable database. Closes: #636700
    Based on a patch by Salvatore Bonaccorso <carnil@debian.org>.
  * Fix double “error:” string in dpkg missing PATH error output.
    Closes: #639997
  * Do not warn on strange timestamps when unpacking with dpkg-deb.
    Closes: #640298
  * Reduce dpkg-trigger binary size by refactoring libdpkg modules so that
    it does not end up pulling triglib.
  * Reduce dpkg-deb binary size by refactoring libdpkg modules so that it
    does not end up pulling triglib.
  * Do not fail on --compare-version when generating parse warnings.
    Existing packages with invalid versions should not fail on their
    maintainer scripts due to that.
  * Use the user name (instead of the user id) when setting the supplementary
    groups in start-stop-daemon. Closes: #641834
  * Use --srcdir and --destdir po4a options, and bump Build-Depends version
    to 0.36.4.

  [ Updated programs translations ]
  * German (Sven Joachim). Closes: #620312
  * Swedish (Peter Krefting).
  * French (Christian Perrier).

  [ Updated man pages translations ]
  * French (Christian Perrier).
  * German (Helge Kreutzmann) including improvement by "Flo".
  * Swedish (Peter Krefting).

  [ Updated scripts translations ]
  * French (Christian Perrier, Sylvestre Ledru). Closes: #637096
  * German (Helge Kreutzmann).
  * Swedish (Peter Krefting).

 -- Guillem Jover <guillem@debian.org>  Fri, 23 Sep 2011 06:00:11 +0200

dpkg (1.16.0.3) unstable; urgency=medium

  * Allow again Priority field values not known to dpkg. Regression
    introduced in 1.16.0.

 -- Guillem Jover <guillem@debian.org>  Wed, 04 May 2011 10:01:30 +0200

dpkg (1.16.0.2) unstable; urgency=high

  * Fix dpkg-split --auto to not fail when opening the new depot file.
  * Fix dpkg-split to correctly set the last part split size.
  * Fix build failure on DEB_BUILD_OPTIONS=noopt due to a missing <locale.h>
    include in gettext.h needed by the gettext context functions.

 -- Guillem Jover <guillem@debian.org>  Sat, 16 Apr 2011 00:14:15 +0200

dpkg (1.16.0.1) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Fix regression affecting dpkg -R. Closes: #620636
  * Don't fail during unpack if the system doesn't support changing timestamps
    of symlinks. Closes: #620679

 -- Guillem Jover <guillem@debian.org>  Tue, 05 Apr 2011 07:28:20 +0200

dpkg (1.16.0) unstable; urgency=low

  [ Guillem Jover ]
  * Use DPKG_MAINTSCRIPT_PACKAGE environment variable as package name on
    dpkg-divert when no --package or --local options have been specified.
  * Do not allow versions starting with non-digit when doing strict parsing,
    warn otherwise.
  * Update dpkg(1) to note that --status-fd output does not contain newlines
    in error messages anymore (this was fixed in 1.15.0).
  * Add a new --status-logger option to dpkg, similar to --status-fd but
    instead invoke the command ourselves and feed the status information
    to its standard input. Suggested by Raphaël Hertzog.
  * Add missing space in update-alternative --set-selections output.
  * Add missing options to update-alternative --help output.
  * Count “conffile name is duplicated” for dpkg-deb warning count summary.
  * Improve and clarify strings for translation. Closes: #604914
  * Prefix all fatal error messages with “error: ”.
  * Do not check presence of update-rc.d in the PATH in dpkg, as it's not
    a program needed for dpkg correct operation.
  * Fix dpkg -GEO options on multiple versions of the same packages.
    Closes: #31141
  * Propagate --admindir to programs run from maintainer scripts.
    Closes: #97076
  * Do not fail when trying to remove the root directory. This will only
    happen either on distributions where dpkg is a foreign package manager,
    or on artificial dpkg databases.
  * Always warn when parsing any package control data which does not have
    an Architecture field except for status and status log files when
    packages are not-installed or half-installed.
  * By default reject installing packages w/o an Architecture field. They
    now need --force-architecture, dpkg will still warn about them though.
  * Fix build failure when passing --disable-nls to configure.
  * Do not segfault on “dpkg -i --no-act”.
  * Add missing semicolon to the vsnprintf() compat declaration.
    Thanks to Robert Millan. Closes: #612203
  * On install for Ubuntu adjust the i386 GNU cpu name in cputable.
    Thanks to Colin Watson <cjwatson@ubuntu.com>. Closes: #611741
  * Sync the info database directory on unpack instead of the temporary
    control information directory, and print the correct pathname on error
    instead of the last file acted on that directory.
  * Document in dpkg-query --help output and man page that --list and --show
    arguments are optional.
  * Do not read and write the available file unnecessarily.
    Thanks to Michel Lespinasse <walken@zoy.org>. Closes: #397121
  * Fix typo in «dpkg-name --overwrite» argument parsing so that it actually
    works at all. Thanks to Ivan Gagis <igagis@gmail.com>. LP: #728708
  * Add armhf support to ostable and triplettable. Closes: #594179
  * Set the modification time for unpacked symlinks on supported systems.
  * Fix undefined value usage in dpkg-genchanges when adding files w/o a
    matching architecture, because they are not present in debian/control,
    this is most commonly the case due to dpkg-distaddfile.
  * Terminate immediately on dpkg-divert rename errors instead of propagating
    up the error codes, this improves error reporting and avoids triggering
    leak detectors. Closes: #620380
  * When moving a diverted file across filesystems in dpkg-divert, remove
    the source file.
  * Fix large file support for .deb and split .deb in dpkg-deb, dpkg-split
    and dpkg on 32-bit architectures.

  [ Raphaël Hertzog ]
  * Fail properly when debian/source/format is empty. Closes: #600854
  * Add new deb-src-control(5) manual page documenting the debian/control
    file contained in source packages.
    - it documents the X[SBC]- prefix. Closes: #476335
    - it documents the VCS-* fields too. Closes: #483119
    Thanks to Oxan van Leeuwen <oxan@oxanvanleeuwen.nl> who wrote it
    as part of the Google Code In program.
  * Enhance dpkg-shlibdeps to not fail immediately when a library is not found.
    Instead continue and fail after all problems have been reported. Thanks
    to Chris Baines <cbaines8@gmail.com> for the patch. Closes: #596841
  * Fix dpkg-source to not list Debian packaging files as modified
    upstream files in Format "1.0" when unpacking to a non-standard
    directory.
  * Apply patch from Colin Watson to let dpkg-buildflags return -O3
    instead of -O2 when building ppc64 packages on Ubuntu. Closes: #612472
  * Add new function get_control_path() to Dpkg::Path, it wraps dpkg-query
    --control-path.
  * Update dpkg-shlibdeps to be multiarch-ready:
    - use get_control_path() to find symbols/shlibs files
    - parse correctly the output of dpkg --search
  * Small fix to support files >2GB in .deb on 64-bit systems. Closes: #616502
    Thanks to Martin Dorey <mdorey@bluearc.com> for the patch.
  * dpkg-source now keeps the file ordering in the autogenerated patch when
    regenerating it. Closes: #606080
    Thanks to Colin Watson for the patch.
  * dpkg-source now uses a timestamp retrieved from the filesystem when
    resetting the timestamp of patched files so that a time skew when using
    NFS doesn't introduce any inconsistency. Closes: #613023
    Thanks to Jonathan Nieder <jrnieder@gmail.com> for the patch and the
    diagnosis.
  * dpkg-source will now remove quilt's .pc directory when --unapply-patches
    is in use. Closes: #591858
  * dpkg-source is now a bit less strict when parsing patches:
    - it accepts seeing the same file twice; Closes: #608829
    - it doesn't match on the English text "No newline at end of file" as it
      might be translated in some cases. Closes: #612465
  * Improve parser in Dpkg::Control::Hash to not require an empty line
    before the PGP signature. Closes: #617923
    Thanks to Roger Leigh for the initial patch.
  * Fix a regression in dpkg-divert where using --rename led to a failure when
    the rename implies crossing file systems. Thanks to Durk Strooisma for
    spotting it.
  * Use the correct mtime when installing a file with statoverrides.
    Regression introduced in 1.16.0. LP: #739179
  * Remove duplicate word in german translation of dpkg(1). Closes: #616096
  * Strip repeated non-significant spaces before and after newlines
    in Uploaders. Closes: #598922
  * Ignore whitespaces after options in headers of changelog entries.
    Closes: #605719
  * Fix dpkg-source's regression with empty patches (introduced while fixing
    #613023). Closes: #619541

  [ Jonathan Nieder ]
  * Remove support for use of synchronous sync(2), due to its pernicious
    side-effects and to ease maintenance.
  * Clarify that an up-to-date dpkg only needs to be unpacked for
    dpkg-maintscript-helper to work.

  [ Steve Langasek ]
  * Add new variables to dpkg-architecture, DEB_HOST_MULTIARCH and
    DEB_BUILD_MULTIARCH, that return the "ideal" GNU triplet for each
    architecture which should be used as the path component for library
    installation.

  [ Mark Hymers ]
  * Add support for Built-Using field. Closes: #619311

  [ Updated programs translations ]
  * German (Sven Joachim).
  * Portuguese (Miguel Figueiredo).
  * Spanish (Javier Fernandez-Sanguino).
  * Swedish (Peter Krefting).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).
  * Swedish (Peter Krefting).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).
  * Swedish (Peter Krefting).

  [ Updated dselect translations ]
  * Spanish (Javier Fernandez-Sanguino).

 -- Guillem Jover <guillem@debian.org>  Fri, 01 Apr 2011 23:56:54 +0200

dpkg (1.15.8.10) unstable; urgency=low

  * Do not segfault on “update-alternatives --auto” when the link group only
    has alternatives which are dangling symlinks. Closes: #611545

 -- Guillem Jover <guillem@debian.org>  Sun, 30 Jan 2011 20:28:27 +0100

dpkg (1.15.8.9) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Drop Breaks on konqueror to avoid some lenny -> squeeze upgrade
    problems. It was only needed to ensure install-info is installed
    even for partial upgrades. Closes: #610991
  * Do the same for all emacs/jed packages. For jed, the breaks has been
    rendered useless as the maintainers dropped the install-info dependencies
    anyway.

  [ Updated programs translations ]
  * Remove space before "…" in several Catalan strings (Jordi Mallach).
  * Romanian (Stan Ioan-Eugen).

 -- Raphaël Hertzog <hertzog@debian.org>  Mon, 24 Jan 2011 20:24:53 +0100

dpkg (1.15.8.8) unstable; urgency=low

  [ Guillem Jover ]
  * Truncate the output part file on “dpkg-split -s”. Regression introduced
    with the C rewrite.

  [ Updated man pages translations ]
  * Two typos fixed in French (Christian Perrier, thanks to Julien
    Valroff).

  [ Raphaël Hertzog ]
  * Fix multiple security issues with dpkg-source (CVE-2010-1679):
    - Enhance checks to catch maliciously crafted patches which could modify
      files outside of the unpacked source package.
    - Do not consider a top-level symlink like a directory when
      extracting a tarball.
    - Exclude .pc while extracting the upstream tarball in 3.0 (quilt)
      as patch blindly writes in that directory during unpack (and would
      follow any existing symlink).

 -- Raphaël Hertzog <hertzog@debian.org>  Thu, 06 Jan 2011 21:04:33 +0100

dpkg (1.15.8.7) unstable; urgency=low

  [ Guillem Jover ]
  * Defer symlink renames so that there's never a point were a symlink
    is broken, this is particularly important for shared libraries.
    Closes: #605536
  * On Linux use sync_file_range() to initiate asynchronous writeback
    of just unpacked files. Suggested by Ted Ts'o <tytso@mit.edu>.
    Thanks to Jonathan Nieder <jrnieder@gmail.com>. Closes: #605009
  * On non-Linux use posix_fadvise(POSIX_FADV_DONTNEED) to notify the kernel
    dpkg does not need the unpacked files any longer, and that it can start
    writeback to be able to evict them from the cache at a later point.
  * Fix stanza delimiting on -L, -s and -p output. This was making the output
    for multiple packages unrealiable to parse. Closes: #606315

  [ Updated programs translations ]
  * Basque (Iñaki Larrañaga Murgoitio). Closes: #607253
  * Catalan (Guillem Jover).
  * Czech (Miroslav Kure). Closes: #605099
  * Esperanto (Felipe E. F. de Castro). Closes: #607437
  * French (Christian Perrier).
  * German (Sven Joachim).
  * Indonesian (Arief S Fitrianto). Closes: #605248
  * Italian (Milo Casagrande). Closes: #607306
  * Japanese (Kenshi Muto). Closes: #607259
  * Norwegian Bokmål (Hans Fredrik Nordhaug).
  * Portuguese (Miguel Figueiredo). Closes: #605506
  * Russian (Yuri Kozlov). Closes: #607292
  * Simplified Chinese (Aron Xu).
  * Slovak (Ivan Masár). Closes: #607302
  * Spanish (Javier Fernandez-Sanguino).
  * Thai (Theppitak Karoonboonyanan). Closes: #607501

  [ Updated man pages translations ]
  * French (Christian Perrier).
  * German (Helge Kreutzmann).
  * Spanish (Omar Campagne).

  [ Updated dselect translations ]
  * Spanish (Javier Fernandez-Sanguino).

  [ Updated scripts translations ]
  * German (fix by Sven Joachim).
  * Spanish (Javier Fernandez-Sanguino).

 -- Guillem Jover <guillem@debian.org>  Mon, 20 Dec 2010 02:26:26 +0100

dpkg (1.15.8.6) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Ensure debian/source/local-options is always excluded from the source
    package even if the user provides customized -i or -I options.
    Closes: #597023
  * Fix Dpkg::Version's handling of version with a debian revision but an
    empty version (e.g. "-0.1"). Thanks to James Vega <jamessan@debian.org>
    for the patch. Closes: #597651
  * With "3.0 (quilt)" source package, create .pc/.quilt_series with the
    correct series file if the source package provides vendor specific patch
    sets.

  [ Guillem Jover ]
  * Disable by default usage of synchronous sync(2), as it causes undesired
    I/O on unrelated file systems. Closes: #588339, #595927, #600075
  * Add new --force-unsafe-io to disable safe I/O operations on unpack.
    Closes: #584254

  [ Updated man pages translations ]
  * French (Christian Perrier). Including a typo fix and a typographical
    change reported by Vincent Danjean. Closes: #601852
  * Spanish (Omar Campagne). Closes: #596519

  [ Updated programs translations ]
  * Basque (Iñaki Larrañaga Murgoitio). Closes: #599923
  * Catalan (Jordi Mallach).
  * Danish (Ask Hjorth Larsen). Closes: #600240
  * German (Sven Joachim). Improved by Holger Wansing.
  * Italian (Pietro Battiston). Fix translation of "however". Closes: #602518
  * Portuguese (Miguel Figueiredo). Closes: #596168
  * Romanian (Andrei Popescu). Closes: #604769
  * Russian (Yuri Kozlov). Closes: #595455
  * Vietnamese (Clytie Siddall). Closes: #598473

  [ Updated scripts translations ]
  * Catalan (Jordi Mallach).
  * German (Sven Joachim).

  [ Updated dselect translations ]
  * Catalan (Jordi Mallach).
  * German (Sven Joachim).

 -- Guillem Jover <guillem@debian.org>  Thu, 25 Nov 2010 07:10:48 +0100

dpkg (1.15.8.5) unstable; urgency=low

  [ Guillem Jover ]
  * Do not print a warning when parsing status or status log files on
    half-installed packages w/o a Description or Maintainer field, as
    this happens normally when the package was never installed before.
    Closes: #594167
  * Improve git format documentation in dpkg-source(1).
    Thanks to Joey Hess, based on a patch by Tanguy Ortolo.
  * Clarify effect of “dpkg --purge” on homedir files in dpkg(1).
    Thanks to The Fungi <fungi@yuggoth.org>. Closes: #593628
  * Add gettext plurals infrastructure support.
  * Add gettext messages for plural forms. Closes: #594218
  * Fix possible but improbable segfault in update-alternatives in case
    the master file name contains a format string specifier. Reported by
    Sandro Cazzaniga.
  * Fix realloc usage on compat scandir() implementation.

  [ Raphaël Hertzog ]
  * Fix dpkg-genchanges to not split the short description in the middle of a
    UTF8 character. Closes: #593442
  * Drop -k parameter from the tar call used by dpkg-source to extract
    tarballs. Upstream binary files modified by the packager were not properly
    installed due to this. Thanks to James Westby for the report.
    Closes: #594440
  * Make dpkg Breaks: dpkg-dev (<< 1.15.8) so that older versions of dpkg-dev
    that did not depend on libdpkg-perl must be upgraded together with dpkg.
    Closes: #596417

  [ Helge Kreutzmann ]
  * Fix encoding of German addendum. Closes: #595643

  [ Updated programs translations ]
  * Esperanto (Felipe Castro). Closes: #596173
  * French (Christian Perrier).
  * German (Sven Joachim).
  * Indonesian (Arief S Fitrianto). Closes: #596657
  * Italian (Milo Casagrande). Closes: #592953, #595615
  * Japanese (Kenshi Muto). Closes: #595468
  * Korean (Changwoo Ryu). Closes: #595556
  * Norwegian Bokmål (Hans Nordhaug). Closes: #595208
  * Simplified Chinese (Aron Xu). Closes: #594513
  * Slovak (Ivan Masár). Closes: #595968
  * Swedish (Peter Krefting).
  * Thai (Theppitak Karoonboonyanan). Closes: #594011

  [ Updated man pages translations ]
  * French (Christian Perrier).
  * German (Helge Kreutzmann).
  * Swedish (Peter Krefting).

  [ Updated scripts translations ]
  * French (Christian Perrier). Includes a fix to a specific
    message translation that was imprecise. Closes: #596333
  * German (Helge Kreutzmann). Improved by Holger Wansing.
  * Norwegian Bokmål (Hans Fredrik Nordhaug). Closes: #595299
  * Spanish (Omar Campagne).  Closes: #596518
  * Swedish (Peter Krefting).
  * Russian (Yuri Kozlov). Closes: #595175

 -- Guillem Jover <guillem@debian.org>  Tue, 14 Sep 2010 01:26:21 +0200

dpkg (1.15.8.4) unstable; urgency=low

  [ Guillem Jover ]
  * Fix use after free segfault on update-alternatives --remove-all.
    Closes: #591653, #591654
  * Always print a message on warning when parsing control files.
  * On database parsing only warn on bogus versions previously accepted,
    the other instances will keep producing errors, to avoid newly
    introduced bogosity. Closes: #590885, #590896, #591692, #591885
  * Fix compilation on Solaris and Darwin:
    - Link update-alternatives against libintl if libc does not have i18n
      support.
    - Include <limits.h> for _POSIX_MAX_PATH in update-alternatives.
    Thanks to Fabian Groffen <grobian@gentoo.org>.

  [ Raphaël Hertzog ]
  * Fix make -C man install so that it actually finds the manual pages
    to install. Closes: #591588
  * When analyzing the ELF format of a binary in dpkg-shlibdeps, fallback on
    usual objdump when the cross objdump failed. Closes: #591522

  [ Sven Joachim ]
  * Ensure removal of leftover backup .dpkg-tmp files after unpacking
    failures, when the backup is still a hard link to the original file.
    Closes: #591993

 -- Guillem Jover <guillem@debian.org>  Fri, 13 Aug 2010 06:02:10 +0200

dpkg (1.15.8.3) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Fix dpkg-divert test suite to cope with + and other special characters for
    regexps in the build directory name. Thanks to Jonathan Nieder for the
    patch and to Phil Kern for the report. Closes: #591182

  [ Guillem Jover ]
  * Fix buffer overflow in dpkg_ar_member_put_header causing it to write the
    header to fd 0 (instead of ar_fd) depending on the stack layout, affecting
    armel. Thanks to Phil Kern for the analysis and Reinhard Tartler for the
    initial patch. Closes: #591312

 -- Guillem Jover <guillem@debian.org>  Mon, 02 Aug 2010 10:38:07 +0200

dpkg (1.15.8.2) unstable; urgency=low

  * Bump libdpkg-perl Depends on dpkg to 1.15.8, as it will break dpkg
    versions before that when installing and removing libdpkg-perl,
    because older update-alternatives and dpkg-divert require Dpkg.pm and
    Dpkg/Gettext.pm which will disappear due to the Replaces. Closes: #590867
    Thanks to Sven Joachim <svenjoac@gmx.de> for the analysis.
  * Allow specifying again absolute and relative paths for dpkg-buildpackage
    -r option. Closes: #591010

 -- Guillem Jover <guillem@debian.org>  Sat, 31 Jul 2010 04:20:01 +0200

dpkg (1.15.8.1) unstable; urgency=low

  * Fix off-by-one error in update-alternatives that lead to an infinite loop
    while writing the administrative file. Closes: #590854

 -- Raphaël Hertzog <hertzog@debian.org>  Thu, 29 Jul 2010 21:18:16 +0200

dpkg (1.15.8) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Add new commands --before-build and --after-build to dpkg-source
    and modify dpkg-buildpackage to call them automatically at the
    start and at the end of the process. With "3.0 (quilt)" source packages
    this ensures patches are applied even in case of binary-only builds.
    Closes: #572526
  * Merge non-regression test for Ubuntu's specificities concerning
    changelog handling. Closes: #582389
  * Fix some copy-paste mistakes in dpkg-architecture(1). Thanks to Ian Fleming
    <iflema@yahoo.com.au> for the patch and Colin Watson for forwarding out of
    Launchpad. Closes: #582404 LP: #564308
  * Clarify description of dpkg --configure in dpkg(1). Thanks to Colin Watson
    for the patch and to Robert Persson for the report.
    Closes: #582406 LP: #77287
  * Fix the non-regression test lib/dpkg/test/t-ar.c by not overflowing the
    size of ar_name. Thanks to Colin Watson for the report, analysis and patch.
    Closes: #582401
  * Modify Dpkg::Shlibs::Objdump to use the cross objdump binary when cross
    compiling. Thanks to Loïc Minier for the initial patch. Closes: #578365
  * Make dpkg-maintscript-helper more robust when required parameters are
    missing. Closes: #582814
  * Clarify that dpkg-maintscript-helper rm_conffile needs the last version of
    the package that did not remove the obsolete conffile if this was not
    implemented at the time the file became obsolete. Closes: #582893
  * Enhance dpkg-maintscript-helper rm_conffile and mv_conffile to work
    properly when <lastversion> is not given (or is empty). Closes: #582819
  * Small fix in dpkg-gensymbols' handling of tags. Closes: #583656
    Thanks to Michael Tautschnig <mt@debian.org> for the report and the fix.
  * update-alternatives has been rewritten in C, the only feature change
    should be that it uses its own logfile /var/log/alternatives.log (rotated
    like dpkg.log).
  * Implement new --unapply-patches option for dpkg-source with source formats
    2.0 and 3.0 (quilt) that unapplies the patches after a successful build.
    This option can be put in debian/source/local-options in the package VCS
    repository for instance.
  * Implement new --abort-on-upstream-changes option for dpkg-source with
    source formats 1.0, 2.0 and 3.0 (quilt). It aborts every time that you try
    to build a source package which contains (unmanaged) changes to the
    upstream source code. Closes: #579012
  * dpkg-source now captures the output of patch and prints it on error so
    that the user can better diagnose what went wrong. Closes: #575304
  * Fix Dpkg::Changelog to cope properly with an entry of version "0".
    Add non-regression test for this. Closes: #587382
  * Add --export command to dpkg-buildflags to be used in shell with eval.
  * Modify source format "3.0 (git)" to use git bundles. Thanks to Joey Hess
    for the patch.
    The usage of git bundle avoids distributing cruft. Closes: #477954
    It's no longer needed to tell which branch contains the debian packaging,
    it uses automatically the one that was used at build-time. Closes: #534637
  * Pass --no-name option to gzip to avoid encoding the timestamp in the file
    so that the result is more predictable. Closes: #587724
    Also pass --rsyncable to make source packages more rsync friendly.
  * Replace dpkg-source's tar ignore pattern "*~" with "*/*~" to avoid
    matching on the top level directory. Closes: #588265
  * In source formats "2.0" and "3.0 (quilt)", make sure to remove the
    upstream-provided debian directory before copying the debian-provided
    version of that directory in place. Closes: #590297

  [ Guillem Jover ]
  * Require gettext 0.18:
    - Remove embedded gettext files from the repository, now properly
      installed by autopoint for all po/ directories.
    - Add versioned Build-Depends.
  * Fix variable usage after delete in dselect.
  * Change default configure admindir to LOCALSTATEDIR/lib/dpkg from
    LOCALSTATEDIR/dpkg, so that we can use a correct --localstatedir=/var.
  * Add two new dpkg options --path-exclude and --path-include for filtering
    files on package installation. This allows embedded systems to skip
    /usr/share/doc, manpages, etc. Based on work from Tollef Fog Heen and
    Martin Pitt, thanks! Closes: #68788, #68861, #497304, #525567, #583902
  * Remove obsolete internal status aliases “postinst-failed” for
    stat_halfconfigured and “removal-failed” for stat_halfinstalled.
  * Check version syntax when parsing it from libdpkg based programs.
    Closes: #574704
  * Rewrite mksplit in C, and merge it into dpkg-split.
  * Rewrite dpkg-divert in C.
  * Use linux-any wildcard for libselinux1-dev Build-Depends instead of
    using a list of negated architectures.
  * Use Breaks instead of Conflicts in dpkg, dpkg-dev and libdpkg-perl binary
    packages.
  * Move Dpkg.pm and Dpkg/Gettext.pm from dpkg to libdpkg-perl.
  * Bump Standards-Version to 3.9.1.
  * Detect when another process has locked the database, and mention that
    problematic dpkg --audit results might be due to ongoing operations.
    Closes: #80252
  * Add new dpkg --force-confask option that forces a conffile prompt when
    the conffile from the new package does not differ from the previous one.
    Thanks to Henning Makholm <henning@makholm.net>. Closes: #102609
  * On dpkg-divert --rename, check if the source file exists, and disable
    renaming if it does not. Closes: #550252
    As a side effect, this avoids useless errors when the destination
    directory is not existent or writable. Closes: #581544
  * Properly compute the longest package description from all to be displayed
    on “dpkg-query --list”, so that it does not get incorrectly trimmed.
  * Consistently use earlier/later instead of smaller/bigger when describing
    comparison relationships. Closes: #587641
  * Stop exporting DPKG_LIBDIR to maintainer scripts, no need for it anymore.
  * Assign correct SELinux label on non-regular files. Based on a patch by
    Russell Coker <russell@coker.com.au>. Closes: #587949
  * Add -F option to dpkg-buildpackage to be able to explicitly specify a
    normal full build and combine it with -nc. Closes: #547993
  * Add missing mentions of the Breaks field alongside the other fields
    sharing the same syntax in deb-control(5).
    Thanks to Osamu Aoki <osamu@debian.org>. Closes: #590472

  [ Updated programs translations ]
  * Catalan (Guillem Jover).
  * German (Sven Joachim).
  * Russian (Yuri Kozlov). Closes: #579149
  * Swedish (Peter Krefting).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).
  * Russian (Yuri Kozlov). Closes: #579149
  * Spanish (Omar Campagne).
  * Swedish (Peter Krefting).

  [ New scripts translation ]
  * Spanish (Omar Campagne).

  [ Updated scripts translations ]
  * French (Christian Perrier).
  * German (Helge Kreutzmann). Improved by Holger Wansing.
  * Russian (Yuri Kozlov). Closes: #579149
  * Swedish (Peter Krefting).

 -- Guillem Jover <guillem@debian.org>  Thu, 29 Jul 2010 09:37:35 +0200

dpkg (1.15.7.2) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Update dpkg-buildflags to respect $XDG_CONFIG_HOME and to use
    $XDG_CONFIG_HOME/dpkg/buildflags.conf by default.
  * Update deb-substvars(5) to codify how variables containing multiple
    lines must be managed.
  * Fix boolean evaluation of Dpkg::Version so that version 0 evaluates to
    false and dpkg-shlibdeps can strip the minimal version specification.
    Closes: #579724
    Document this behaviour in the API and add non-regression test to ensure
    it's kept.
  * Let dpkg-buildflags error out when a required parameter is missing.
    Closes: #579722
  * Add Bug-Ubuntu field in DEP-3 template provided in the automatic header
    of patches in 3.0 (quilt) source packages. Thanks to Benjamin Drung
    <bdrung@ubuntu.com> for the patch. Closes: #578002
  * Update deb-override(5) by removing references to usage of sections
    to place the packages on the mirrors and by indicating that the Debian
    policy offers a list of allowed values for section and priority.
    Closes: #575410
  * Update reference to triggers.txt.gz in dpkg-trigger(1) and deb-triggers(5)
    to match the new location. Closes: #580774
  * Drop mention of PKG_CONFIG_LIBDIR in dpkg-buildpackage(1), the feature has
    been removed in 1.15.6.
  * Rename /usr/lib/dpkg/maintscript-helper into
    /usr/bin/dpkg-maintscript-helper, it is a public interface even if working
    around known limitations.
  * Add "supports" command to dpkg-maintscript-helper to ensure the wanted
    command is supported before calling it.

  [ Guillem Jover ]
  * Add powerpcspe support to ostable and triplettable.
    Thanks to Sebastian Andrzej Siewior <sebastian@breakpoint.cc> and
    Kyle Moffett <Kyle.D.Moffett@boeing.com>. Closes: #568123, #575158
  * Fix dpkg --root by properly stripping again the root directory from the
    path of the maintainer script to execute. Closes: #580984
  * On Linux use sync() instead of an fsync() per file on deferred extraction,
    to workaround performance degradation on ext4. Closes: #578635

  [ Gerfried Fuchs ]
  * Fix syntax error in dpkg-name. Closes: #581315

 -- Guillem Jover <guillem@debian.org>  Wed, 19 May 2010 07:57:14 +0200

dpkg (1.15.7.1) unstable; urgency=low

  * Fix dpkg-source -b (without -i) for source packages 1.0. Closes: #578693
    It was erroneously ignoring all changes because the ignore regex was
    wrong (due to the change to ignore debian/source/local-options).
  * Add missing call to textdomain() in dpkg-mergechangelogs to make
    translations work.

 -- Raphaël Hertzog <hertzog@debian.org>  Thu, 22 Apr 2010 08:05:20 +0200

dpkg (1.15.7) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Clarify the plan concerning dpkg-source, debian/source/format and
    the default source format in dpkg-source(1). Add a warning
    in dpkg-source to invite people to always create debian/source/format.
    We deprecate the fallback to "1.0" (it's there for backwards compatibility
    only) and debian/source/format is going to be mandatory at some point in
    the future. Closes: #553928
  * Add .gitattributes to list of files ignored by dpkg-source.
  * Document most common warnings and errors of dpkg-source in its manual
    page.
  * Let dpkg-source read options from debian/source/local-options as well but
    do not include that file in the generated source package.
  * Improve explanation of --all option in dpkg-parsechangelog(1). Thanks to
    Jari Aalto. Closes: #575706
  * Fix dpkg to not lose package metadata on filesystems where readdir()
    returns new files added after the opendir() call, btrfs in particular
    triggered the problematic behaviour. Closes: #575891
  * Tighten the regex used by dpkg-source to match the component name of
    supplementary tarballs so that underscore (_) are not allowed as it was
    supposed to be.
  * Introduce a new script called dpkg-buildflags: its purpose is to retrieve
    compilation flags and it should be used within debian/rules to pass
    the right compilation flags to the build process. dpkg-buildpackage still
    exports them to not break packages currently relying on them but packages
    should now start using dpkg-buildflags instead. Closes: #560070
  * For Ubuntu set default value of LDFLAGS to -Wl,-Bsymbolic-functions.
  * Cleanup some old Conflicts/Replaces, thanks to Helge Kreutzmann.
  * Modify dselect to treat all unknown package as known and marked for purge.
    This is a temporary work-around so that dselect doesn't try to reinstall
    packages of priority > standard that were removed or not installed. Thanks
    to Robert Luberda for the patch. Closes: #559519, #556889
  * dpkg now exports DPKG_MAINTSCRIPT_NAME to maintainer scripts with the
    type of maintainer script currently running (preinst, postinst, prerm,
    postrm). Closes: #546577
  * dpkg now exports DPKG_LIBDIR to maintainer scripts pointing to the
    private directory containing internal programs like the upcoming
    maintscript-helper.
  * Add $DPKG_LIBDIR/maintscript-helper program that can be used in
    maintainer scripts to perform common operations working around
    current dpkg limitations: first version supports removing obsolete
    conffiles and renaming conffiles. Closes: #514316
  * Fix "dpkg-scansources -e", it was calling a non-existing function.
    Closes: #578162
  * Add new script dpkg-mergechangelogs to do 3-way merges of Debian
    changelogs. Add libalgorithm-merge-perl to Recommends for the
    benefit of this script.

  [ Colin Watson ]
  * Modern tar files typically use NormalFile1 rather than NormalFile0 for
    file objects. A typo meant that the former never triggered rename
    deferral. Closes: #577756
  * Use the new list of files on rename deferral instead of old one, so that
    newly added files get installed.

  [ Guillem Jover ]
  * Report deferred trigger errors on status-fd. Closes: #574599
    Thanks to Michael Vogt <michael.vogt@ubuntu.com>.
  * When creating hard links to normal files on extraction use the .dpkg-new
    filename for source as the file is not yet in place due to the rename
    deferral. Thanks to Colin Watson for the initial patch.
  * Do not output the Package-Type field on udeb.
  * Fix versioned Replaces to not produce file overwrite errors on downgrades.
    Closes: #568566
  * Fix installation of replaced and replacing packages in reverse order
    (first the replacing then the replaced) for which the replaced package
    is supposed to get disappeared, to disappear the correct package and not
    lose track of the ownership of the replaced files.

  [ Updated programs translations ]
  * German (Sven Joachim).

  [ Updated dselect translations ]
  * German (Sven Joachim).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Wed, 21 Apr 2010 04:05:55 +0200

dpkg (1.15.6.1) experimental; urgency=low

  [ Guillem Jover ]
  * Fix two memory leaks introduced in 1.15.6.
  * Always use C99 variadic macros, as the build requires them anyway, we
    avoid exposing the configure variable HAVE_C99 on installed headers.
  * Use __attribute__ keyword depending on compiler support, we avoid
    exposing the configure variable HAVE_C_ATTRIBUTE on installed headers.
  * Do not allow a --retry schedule in start-stop-daemon where forever is
    the last item, as it needs something to repeat over. Closes: #570938
  * Show dselect dependency/conflicts resolution screen again, by switching
    the code to use STL's min() and max() instead of preprocessor macros, to
    avoid multiple evaluation of arguments. Regression introduced in 1.15.6.
    Based on a patch by Robert Luberda <robert@debian.org>. Closes: #574816
  * Defer the fsync and rename for normal files in tar extraction so that
    it's done in one pass afterwards, to avoid massive I/O degradation due to
    the serialization from each write + fsync. This restores extraction times
    to numbers closer to the ones before the fsync patch introduced in 1.15.6.

  [ Raphaël Hertzog ]
  * Accept source packages without "Format" field for compatibility with very
    old source packages. Thanks to Colin Watson for the report and the patch.
    Closes: #574097

  [ Updated programs translations ]
  * French (Christian Perrier).
  * Swedish (Peter Krefting).

  [ Updated scripts translations ]
  * Swedish (Peter Krefting).

 -- Guillem Jover <guillem@debian.org>  Wed, 24 Mar 2010 13:56:28 +0100

dpkg (1.15.6) experimental; urgency=low

  [ Raphaël Hertzog ]
  * debian/control: Add the accent on my first name.
  * Perl API cleanup:
    - rename Dpkg::Deps dump() methods into output([$fh]), overload string
      representation ("$dep") to provide the result of $dep->output()
    - prefix public functions in Dpkg::Deps with deps_ and export them
      by default
    - rename Dpkg::Source::Compressor in Dpkg::Compression::Process
    - rename Dpkg::Source::CompressedFile in Dpkg::Compression::FileHandle
      and completely redesign its API
    - update Dpkg::Compression's API to use compression_* functions
      instead of granting direct access to variables, integrate
      there management of default compression
    - introduce Dpkg::Interface::Storable and update many modules
      to make use of it
    - update Dpkg::BuildOptions to provide an object-oriented interface
    - update Dpkg::Checksums to provide an object-oriented interface
  * Drop debian-maintainers from Suggests since it's obsolete, the
    corresponding keyring is in debian-keyring.
  * Merge support of symbol patterns in dpkg-gensymbols. Thanks to
    Modestas Vainius for his work (see further for more details).
  * Accept filename with spaces and colon in the output of objdump.
    Required so that dpkg-shlibdeps support such files properly.
    Thanks to Raphaël Geissert for the patch. Closes: #565712
  * When unpacking a "3.0 (quilt)" source package, tell quilt where
    patches are (to be) stored. Requires quilt >= 0.48-5 to work.
    Closes: #557619
  * Fix update-alternatives to not try to reinstall an unknown alternative
    when the link group is broken, instead switch to the best choice in
    automatic mode. Closes: #566406
  * Don't return duplicate bug numbers in Launchpad-Bugs-Fixed:.
    Thanks to Brian Murray <brian@ubuntu.com> for the report
    and the patch. Closes: #569618
  * Add $VERSION numbers to all perl modules. Closes: #465256
    1.00 and higher means that the API should be stable
  * While parsing diff's output, accept any sentence that contains the word
    differ (as specified by POSIX) to identify that binary files could not be
    compared. Closes: #570008
  * dpkg-gencontrol does no longer accept arch-specific dependencies in
    arch: all packages. Closes: #560071
  * dpkg-gencontrol no longer warns if a substitution variable provided by -V
    is not used (the warning is meant to catch unused substitutions coming
    from the file, those are package specific with debhelper). Closes: #557133
  * dpkg-gencontrol now indicates which package is concerned by the substvars
    warning that it displays. Closes: #566837
  * dpkg-buildpackage now supports options --source-option=<opt> and
    --changes-option=<opt> to forward arbitrary options to dpkg-source and
    dpkg-genchanges respectively. Closes: #566230
  * The -T option of dpkg-{source,gencontrol,genchanges} can now be used
    multiple times to read substitution variables from multiple files.
    Closes: #363323
  * dpkg-source now supports an option --create-empty-orig in formats
    "2.0" and "3.0 (quilt)" to auto-create the main original tarball when
    there are supplementary tarballs. This makes it easier to bundle
    multiple software together. Closes: #554488
  * dpkg-source supports long option names --diff-ignore and --tar-ignore for
    -i and -I. A new option --extend-diff-ignore is introduced. Those options
    can thus now be used in debian/source/options.
  * Generate manual pages for perl modules.
  * Introduce the libdpkg-perl package and clarify its status in README.api.
  * Update Standards-Version to 3.8.4 (no changes needed).
  * Drop unused lintian override for arch-dep-package-has-big-usr-share on
    dselect.
  * The rewritten Dpkg::Checksums deals properly with filenames with
    spaces. Closes: #572030
  * dpkg-source does no longer fallback to other source formats if the
    requested one is not usable. Closes: #557459
  * Modify dpkg-source to error out when it would apply patches containing
    insecure paths (with "/../") and also error out when it would apply a
    patch through a symlink. Those checks are required as patch will happily
    modify files outside of the target directory and unpacking a source package
    should not be able to have any side-effect outside of the target
    directory. Fixes CVE-2010-0396.
  * Also error out when the quilt series contains a path with "/../" as this
    can cause patch to create files outside of the source package due
    to the -B .pc/$path option that it gets.

  [ Guillem Jover ]
  * Handle argument parsing in dpkg-checkbuilddeps and dpkg-scanpackages
    in a way consistent with the rest of the tools.
  * Recognize --help in addition to -h in dpkg-checkbuilddeps.
  * Add a --version option to dpkg-checkbuilddeps.
  * Improve and mark more messages in writedb() to make translators lives
    easier. Closes: #408525
  * Improve update-alternatives --display output to use two leading spaces
    for current link and slave information. Use single quotes for both “best”
    and the alternative it's pointing to. Closes: #549167
  * Refer to “half configured” instead of “failed config” in «dpkg-query -l»
    header and dselect package status printing for consistency.
  * Make “dpkg-statoverride --quiet” actually do something, and quiesce
    most of the innocuous warning messages. Closes: #403211
  * Make “dpkg-statoverride --update --add” fail if it cannot update the
    mode and owner of the file. This would fail later on when dpkg itself
    applies the overrides, so better to signal this earlier.
  * Add sparc64 to cputable. Thanks to Aurelien Jarno <aurel32@debian.org>.
    Closes: #560010
  * Do not allow diverting a file to itself, which makes the file to get
    removed. Closes: #312206
  * Make the check for duplicate fields in a stanza in libdpkg actually work,
    which now makes it fatal, as was intended originally. This should not
    cause problems for anything using dpkg-dev to build packages as those
    are already fatal on that case.
  * Add new deb-split(5) man page.
  * Fix misspellings of “explicitly” all over the place.
  * Normalize ar member names when reading (removing trailing spaces and
    slash), this allows deb-split packages be created with GNU ar.
  * Validate compression level on dpkg-deb argument parsing.
  * Fix error handling, clean up and refactor compression code.
    Thanks to Jonathan Nieder for several of the patches.
  * Do not print unambiguous epoch on dpkg file overwrite error.
  * Rename Dpkg::IPC::fork_and_exec() to Dpkg::IPC::spawn().
  * Change dpkg-dev to Depend on perl instead of perl5 and perl-modules.
  * Fix small memory leaks related to scandir() in dpkg-deb and libdpkg.
  * Fix dpkg-query and dpkg-trigger to actually print a version on --version.
  * Always spawn a new shell on conffile prompt, instead of supporting
    self backgrounding, remove DPKG_NO_TSTP environment variable support.
    Closes: #38334
  * Set DPKG_SHELL_REASON, DPKG_CONFFILE_OLD and DPKG_CONFFILE_NEW environment
    variables when spawning a shell for conffile examination. Closes: #60329
    Thanks to Daniel Martin <Daniel.Martin@jhu.edu> for the idea.
  * Add support for disabling update-alternatives at configure time using
    --without-update-alternatives.
  * Add support for disabling install-info at configure time using
    --without-install-info.
  * Update debian/copyright.
  * Use Debian instead of ‘Debian GNU/Linux’ when referring to the
    distribution.
  * On dpkg --no-act with --install, --unpack or --record-avail, and
    dpkg-deb --info or --field use mkdtemp() to create a temporary directory
    instead of insecure tempnam() or tmpnam() functions.
  * Remove --license and --licence options from tools.
  * Securely remove newly installed files when rolling-back a failed unpack.
  * Change default lzma compression level from 9 to 6.
    Thanks to Jonathan Nieder for the initial patch.
  * Add support for xz compressed data.tar member of binary packages. Add
    xz-utils to dpkg's Pre-Depends. Closes: #542160
    Thanks to Jonathan Nieder for the initial patch.
  * Use xz command to handle lzma compressed files in dpkg and dpkg-dev.
    This removes the lzma package from both dpkg and dpkg-dev dependencies.
  * Do not set PKG_CONFIG_LIBDIR in dpkg-buildpackage when cross-building.
    The proper solution to this is to let the build system choose the
    appropriate pkg-config binary for the build or host system in the same
    way pkg.m4 is handling it now. Closes: #551118
  * Dynamically link against all external libraries. This includes libbz2
    and zlib for dpkg-deb and libselinux for dpkg on GNU/Linux.
  * Mark the libdpkg.a API as volatile and require any possible users to set
    LIBDPKG_VOLATILE_API to acknowledge that fact.
  * Add a new libdpkg-dev package with the headers and the static library,
    although its API should be considered volatile.
  * Reorganize the doc contents that goes into each package:
    - README.multicd only in dselect.
    - README.api only in development packages, dpkg-dev and libdpkg-dev.
    - triggers.txt only in dpkg-dev.
  * Move source.lintian-overrides to debian/source/lintian-overrides.
  * Switch SELinux support to explicitly set path context. This fixes the
    mislabeling of files under <admindir> on conffile extraction or on unpack
    errors, due to improper default context restoration. Closes: #498438
  * Use FIEMAP when available (on Linux based systems) to sort the .list
    files loading order. With a cold cache it improves up to a 70%.
    Thanks to Morten Hustveit <morten@debian.org>.
  * When FIEMAP is not available use posix_fadvise() to start preloading the
    .list files before loading them. With a cold cache it improves up to 40%.
    Thanks to Stefan Fritsch <sf@sfritsch.de>. Closes: #557560
  * Call fsync(2) after writing files on disk, to get the atomicity
    guarantees when doing rename(2). Based on a patch by
    Jean-Baptiste Lallement <jeanbaptiste.lallement@gmail.com>.
    Closes: #430958
  * Call fsync(2) on database directories after creating, renaming or
    unlinking files, to guarantee the new file entry is correctly listed
    in the directory. Base on a patch by
    Jean-Baptiste Lallement <jeanbaptiste.lallement@gmail.com>.
  * Document in the man page the effects of setting TMPDIR for dpkg and
    dpkg-deb, HOME for dselect and dpkg and PAGER for dpkg. Closes: #572836
  * Document the exit codes for dpkg-query. Closes: #571798
  * Document “dpkg-query -l” abbreviated state information in the man page.
    Based on a patch by Marc-Jano Knopp <pub_br_debian.org@marc-jano.de>.
    Closes: #383869
  * Honour LINGUAS environment variable when installing translated man pages.
  * Allow disabling at configure time Unicode ncurses support for dselect.
    Based on a patch by Yuri Vasilevski <yvasilev@gentoo.org>.

  [ Modestas Vainius ]
  * Implement symbol patterns (Closes: #563752). From now on, it is possible to
    match multiple symbols with a single entry in the symbol file template.
    While the concept is not new (wildcards also match multiple symbols),
    patterns cover much more ground and are a lot more flexible. Together with
    the framework, 3 basic pattern types are supported:
    - c++ - matching C++ symbols by their demangled name (as emitted by
      c++filt);
    - symver - matching by symbol version. It replaces the wildcards feature
      which is still supported for backwards compatibility but is reimplemented
      on top of the new framework;
    - regex - matching symbol names with perl regular expression.
    Basic patterns may be combined where it makes sense.
  * As a positive side effect of the new symbol patterns implementation,
    patterns are now treated like normal symbols whenever possible, e.g. a
    pattern is MISSING if it does not match anything. As a result,
    dpkg-gensymbols is now able to detect NEW/MISSING symbols when patterns are
    present in the symbol file (Closes: #541464). Please note, however, that
    there is no way to detect symbol changes in the pattern match sets.
  * Add source version to the dpkg-gensymbols diff label, reformat it according
    to the rules of dpkg-name.
  * Add -a<arch> option to dpkg-gensymbols.
  * Add -q option to dpkg-gensymbols. -c0 will never fail but still generate a
    diff. Use -c0 -q to keep dpkg-gensymbols completely quiet as before
    (Closes: #568228).

  [ Jonathan Nieder ]
  * Fix a file handle leak in “dpkg-deb --info”. Thanks to Raphael Geissert
    for the report and patch.

  [ Helge Kreutzmann ]
  * Add dpkg-gensymbols.1 to the translatable man page set.

  [ Updated programs translations ]
  * Catalan (Guillem Jover).
  * French (Christian PERRIER).
  * German (Sven Joachim).
  * Italian 'Milo Casagrande). Closes: #567531
  * Simplified Chinese (Aron Xua). Closes: #558794
  * Slovak (Ivan Masár). Closes: #559269
  * Swedish (Peter Krefting).

  [ Updated dselect translations ]
  * Catalan (Guillem Jover).
  * French (Christian Perrier).
  * German (Sven Joachim).
  * Spanish (Javier Fernández-Sanguino). Closes: #572861
  * Swedish (Peter Krefting).

  [ Updated man pages translations ]
  * French (Christian Perrier): correcting inconsistencies for the translation
    of "original" here and there. Thanks to Julien Valroff for pointing this.
  * German (Helge Kreutzmann).
  * Swedish (Peter Krefting).

  [ Updated scripts translations ]
  * Catalan (Guillem Jover).
  * French (Christian PERRIER).
  * German (Helge Kreutzmann).
  * Swedish (Peter Krefting).

 -- Guillem Jover <guillem@debian.org>  Fri, 12 Mar 2010 00:15:31 +0100

dpkg (1.15.5.6) unstable; urgency=low

  * dpkg-source: with format "3.0 (quilt)" ensure quilt's .pc directory is
    created before trying to register a new patch in .pc/applied-patches.
    Thanks to Tommi Vainikainen <thv+debian@iki.fi> for the report and the
    patch. Closes: #561237
  * Fix dpkg-buildpackage to set "parallel=" in DEB_BUILD_OPTIONS instead of
    the invalid "parallel=-1" when option "-j" is given. Closes: #562038
  * Clarify how dpkg-source --print-format works and display messages on
    STDERR when the requested format is discarded. Closes: #560391
  * Add ${misc:Depends} in all Depends fields.

 -- Raphaël Hertzog <hertzog@debian.org>  Fri, 08 Jan 2010 17:57:43 +0100

dpkg (1.15.5.5) unstable; urgency=low

  * Allow again new lines in dpkg-source and dpkg-genchanges on substvar and
    maintainer arguments.

 -- Guillem Jover <guillem@debian.org>  Tue, 22 Dec 2009 09:49:49 +0100

dpkg (1.15.5.4) unstable; urgency=low

  * Fix Dpkg::Index::get() and remove(). Thanks to Roderich Schupp
    <roderich.schupp@googlemail.com> for the patch. Closes: #558595
  * Modify implementation of "3.0 (quilt)" source format to not be
    behave differently depending on whether quilt is installed or not.
    The option --without-quilt is thus gone and dpkg-source creates
    and relies on the .pc directory to know whether patches are applied
    or not. Closes: #557667
  * Add new dpkg-source option --single-debian-patch supported by the source
    format "3.0 (quilt)" so that it behaves more like 1.0 and its single diff
    that is constantly updated with all upstream changes. Useful if the
    workflow is VCS based and can't generate a full patch set.
  * dpkg-source now uses debian/source/patch-header as header of the automatic
    Debian patch in format "3.0 (quilt)".
  * Fix Debian changelog parser so that the trailer line is again checked.

 -- Raphaël Hertzog <hertzog@debian.org>  Mon, 07 Dec 2009 09:24:31 +0100

dpkg (1.15.5.3) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Avoid usage of IO::String in dpkg-scanpackages, rely on Dpkg::IPC
    instead to directly get a pipe file descriptor. Closes: #557013
  * Put "3.0 (quilt)" in the default list of formats tried by dpkg-source
    after "1.0" and before "3.0 (native)".
  * Let dpkg-source fail if several upstream orig.tar files are available
    (using different compression scheme) since we don't know which one
    to use.
  * Add missing "use Dpkg::Gettext" in Dpkg::Changelog::Entry::Debian.
    Closes: #557668
  * When building "3.0 (quilt)" source packages, use QUILT_PATCH_OPTS="-t -F 0
    -N -u -V never -g0" so that quilt is as strict as dpkg-source's internal
    implementation of quilt. Closes: #557664, #558233
  * Before accepting to build a 3.0 (quilt) source packages, ensure that
    debian/patches is a directory (or non-existing) and that
    debian/patches/series is a file (or non-existing). Closes: #557618
  * Dpkg::IPC::fork_and_exec() now includes the changed environment
    variables in the default error message displayed when the sub-process
    fails.

  [ Guillem Jover ]
  * Verify that the alternative used in update-alternatives --set has been
    registered instead of failing with an undefined value in the slave
    method. Closes: #554136
  * Strip leading spaces in the first line of a field's value in
    Dpkg::Control::Hash. Closes: #557547

 -- Guillem Jover <guillem@debian.org>  Fri, 27 Nov 2009 19:23:36 +0100

dpkg (1.15.5.2) unstable; urgency=low

  * Change Dpkg::Version API to accept invalid versions by default and add
    is_valid() method. The boolean evaluation of a version object returns
    true if the version is valid, false otherwise.
  * Update dpkg-shlibdeps to always use Dpkg::Version now that it can
    contain the empty version string. Closes: #556786
  * Keep compatibility with perl 5.8 by avoiding the _ prototype.

 -- Raphaël Hertzog <hertzog@debian.org>  Wed, 18 Nov 2009 11:54:50 +0100

dpkg (1.15.5.1) unstable; urgency=low

  * Fix build failures due to off_t type mismatch caused by not including
    <config.h> first on the unit tests. Suggested by Pierre Habouzit and
    Julien Cristau, thanks!

 -- Guillem Jover <guillem@debian.org>  Tue, 17 Nov 2009 16:42:00 +0100

dpkg (1.15.5) unstable; urgency=low

  [ Guillem Jover ]
  * Remove obsolete conffiles on purge. Closes: #421367, #453005, #454628
  * Update list of binaries dpkg checks on the PATH.
    - Remove install-info, now a wrapper that will disappear soonish.
    - Add programs used by dpkg itself: sh, rm, find, tar and dpkg-deb.
  * Check and warn on duplicate conffiles in dpkg-deb. Closes: #131633
  * Make the upstream build system silent by default with automake 1.11 or
    newer, and always verbose when building the Debian packages.
  * Fix small leak when parsing ‘--ignore-depends’ option values.
  * Define compatibility WCOREDUMP only if the system does not have it.
  * When start-stop-daemon fails to set the io scheduling warn instead of
    finishing fatally. Closes: #553580
  * Update md5 file paths in debian/copyright.
    Thanks to Jonathan Nieder <jrnieder@gmail.com>.
  * On ‘dpkg-trigger --help’ print the default admindir instead of the one
    passed on the command line.
  * Abort on configure if the required C99 extensions are not supported.
  * Add C coding style document.
  * Make dpkg as strict as dpkg-statoverride on input when validating the
    parsed data from the statdb.
  * Rewrite dpkg-statoverride in C.
  * Use C99 snprintf function family semantics to avoid having to call them
    in a loop to grow the varbuf buffer. This should reduce memory usage and
    be slightly faster on varbufprintf calls.
  * Use the size from stat to allocate the buffers for readlink, instead of
    indefinitely calling readlink and growing the buffer. This should reduce
    memory usage when handling lots of symlinks, and be slightly faster.
  * Rework varbuf API to avoid increasing buffers indefinitely when adding
    content to them, regardless of space being already available.
  * Fix build macros to allow start-stop-daemon to use TIOCNOTTY.
  * Generate the autoconf version from git to make it easier to see when a
    snapshot version is being used.
  * Add infrastructure for doxygen, for now not installed anywhere.
  * Allow overriding the pkg-config path to ease cross-compilation.
    Suggested by Tollef Fog Heen <tfheen@err.no>.
  * Fix spelling errors in the Catalan translation. Closes: #553328
    Thanks to Robert Millan.
  * Update the FSF postal address in the source code license headers by
    replacing it with a URL to the gnu.org page.
  * Fix a file descriptor leak in dpkg-deb.
    Reported by Raphael Geissert <atomo64@gmail.com>.
  * Fix resource leaks on error conditions in compat scandir.
  * Add a new status-fd action when disappearing a package. Closes: #537338

  [ Raphaël Hertzog ]
  * Add versioned dependency on base-files (>= 5.0.0) to dpkg-dev to ensure
    that /etc/dpkg/origins/default exists. Closes: #545274
  * Update Standards-Version to 3.8.3 (no changes needed).
  * Major changes to the perl API:
    - Dpkg::Control is now Dpkg::Control::Info
    - Dpkg::Cdata is gone and is replaced by a new Dpkg::Control
    - Dpkg::Control::Fields contains authoritative information
      about fields allowed in various types of control information
      (and can be customized by each vendor). It also integrates
      information that was previously available through Dpkg::Deps.
    - Dpkg::Changelog has been split in multiple modules and largely
      modified to offer an interface that is now more in line with the
      other modules.
  * All dpkg-* perl programs that work with control information have been
    updated to use the new Dpkg::Control interface.
    In this process, dpkg-scanpackages has been fixed to not skip non-standard
    fields. Closes: #494136
  * Create Launchpad-Bugs-Fixed directly in the changelog parsing code thanks
    to a new vendor hook post-process-changelog-entry. Closes: #536066
  * Integrate dpkg-ftp into dselect. Add the required Replaces and Conflicts.
  * dpkg-scanpackages/dpkg-scansources now supports compressed override files.
  * dpkg-scanpackages now supports a new --medium option as needed to
    generate Packages.cd file for consumption by the multicd dselect access
    method. Closes: #402527
  * Integrate dpkg-multicd into dselect. Add the required Replaces and
    Conflicts. The dpkg-scanpackages fork is dropped. Closes: #516631
  * Fix bashisms in dselect multicd access method. Closes: #530070
  * Add support of "xz" compression method for source packages. Add dependency
    dpkg-dev → xz-utils to ensure xz and unxz are available.
  * Fix dpkg-source --include-binaries to correctly compute the path name of
    the discovered binary files. Closes: #554612
  * Remove extra quoting that should not be there while passing an exclude
    file to git ls-files during build of 3.0 (git) source package.
    Thanks to Courtney Bane for the patch. Closes: #551829
  * Optimize dpkg-source -b by avoiding many diff calls when not required.
    Thanks to Mike Hommey for the idea. Closes: #554689
  * Add new option --print-format to dpkg-source to be able to know by advance
    the source format that would be used during a build.
  * Modify dpkg-source -b to use default build options from
    debian/source/options. Thus it's now possible to have sticky options, for
    example for the choice of a compression method (--compression=<comp>).
  * dpkg-source outputs the list of upstream files modified by the diff.gz
    (applies only to source packages using format 1.0). Closes: #482166
    It also recommends usage of 3.0 (quilt) format during dpkg-source -b if it
    detects changes to upstream files that are stored in the .diff.gz.
  * Add DEP-3 compliant headers to automatic patches created by dpkg-source
    in 3.0 (quilt) source format. Closes: #543581
  * Switch dpkg to source format "3.0 (native)" with bzip2 compression.

  [ Updated programs translations ]
  * Czech (Miroslav Kure).
  * French (Christian Perrier).
  * German (Sven Joachim).
  * Italian (Milo Casagrande). Closes: #548615, #555806
  * Polish (Wiktor Wandachowicz). Closes: #548541
  * Swedish (Peter Krefting).

  [ Updated dselect translations ]
  * Czech (Miroslav Kure).
  * French (Christian Perrier).
  * German (Sven Joachim).
  * Polish (Wiktor Wandachowicz). Closes: #548541
  * Swedish (Peter Krefting).

  [ Updated man pages translations ]
  * French (Christian Perrier).
  * French translation error fixed (Christian Perrier)
    Thanks to Pietro Battiston for spotting it. Closes: #545446
  * German (Helge Kreutzmann).
  * Polish (Wiktor Wandachowicz). Closes: #548541
  * Swedish (Peter Krefting).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).
  * Polish (Wiktor Wandachowicz). Closes: #548541
  * Swedish (Peter Krefting).

 -- Guillem Jover <guillem@debian.org>  Tue, 17 Nov 2009 10:17:57 +0100

dpkg (1.15.4.1) unstable; urgency=medium

  * Do not mark any package as unseen in dselect. This is a workaround
    until it learns how to store such information again. Closes: #545366

 -- Guillem Jover <guillem@debian.org>  Mon, 19 Oct 2009 15:15:17 +0200

dpkg (1.15.4) unstable; urgency=low

  [ Guillem Jover ]
  * Call _g instead of g_ in dpkg-name.
  * Fix inverted logic when deciding to assume the architecture in dpkg-name
    when the package didn't have such field.
  * Do not take into account Revision and Package_Revision fields in dpkg-name
    and dpkg-scanpackages as they have been handled already by “dpkg-deb -I”.
  * Switch dpkg-scansources to use Dpkg::Cdata instead of duplicating the
    .dsc parsing code. As a side effect it now handles properly bogus files.
  * Do not remap obsolete fields in dpkg-scanpackages as they have been
    handled already by “dpkg-deb -I”.
  * Properly mark packages being purged for disappearance from the database.
    This will make the status database not be left behind with traces of old
    not-installed packages. Closes: #472208
  * On parse mark not-installed leftover packages for automatic removal from
    the database on next dump. This obsoletes the --forget-old-unavail option,
    thus making it now a no-op. Closes: #33394, #429262
  * Document “hold” under package selection states instead of flags in dpkg(1).
  * Remove trailing ‘/’ and ‘/.’ from the directory name to be used as the
    package name on “dpkg-deb -b”. Closes: #218018, #373602
  * Remove obsolete ‘hold’ and ‘hold-reinstreq’ internal status flags.
  * Add fakeroot to dpkg-dev Recommends. Closes: #536821
  * Fix an always false test when trying to decide which package to deselect
    to resolve a dependency problem in dselect.
  * Add uClibc Linux support to ostable and triplettable. Closes: #455501
  * Add uClinux support to ostable and triplettable.
    Thanks to Simon Richter <sjr@debian.org>.
  * When aborting due to file conflicts print the version of the conflicted
    package. Closes: #540019
  * Remove double slash in database path visible to the user in some error
    conditions.
  * Stop matching sparc64-*-* GNU triplets with sparc Debian architecture.
  * Add support for config.d style directories in dpkg and dselect,
    (/etc/dpkg/dpkg.cfg.d and /etc/dpkg/dselect.cfg.d respectively).
  * Define DPKG_MAINTSCRIPT_ARCH on the maintainer script environment to the
    architecture the package got built for.
  * Document DPKG_MAINTSCRIPT_PACKAGE maintainer script environment variable
    in dpkg man page.
  * Document DPKG_RUNNING_VERSION maintainer script environment variable
    in dpkg man page.
  * Change po4a usage to not create unwanted changes depending if doing out or
    in-tree builds.
  * Use po4a “--previous” support when updating the man pages.
    Suggested by Christian Perrier <bubulle@debian.org>.
  * On configuration error print file name and line number.
  * Allow quoting values in configuration file options.
  * Add new --pre-invoke and --post-invoke hooks in dpkg.
  * Add new --control-path command to dpkg-query.
  * Use ohshit on bad version syntax in --compare-versions.
  * Add Multi-Arch to the list of known binary package fields for dpkg-dev.
    Thanks to Steve Langasek <vorlon@debian.org>.

  [ Raphaël Hertzog ]
  * Replace install-info by a wrapper around GNU's install-info. The wrapper
    will be dropped in squeeze+1. dpkg now Breaks: old versions of
    info-browsers that do not depend on the new install-info package
    that provides the real functionality. Closes: #9771, #523980
    See https://wiki.debian.org/Transitions/DpkgToGnuInstallInfo for details.
  * Fix dpkg's preinst in case /var/lib/dpkg/alternatives contains unexpected
    sub-directories. Closes: #535138
    And also when one of the file doesn't contain correct alternatives
    information (improper number of lines). Closes: #537558
  * Upgrade Standards-Version to 3.8.2 (no changes).
  * Update deb-substvars(5) to list fields that do not support substvars.
    Closes: #535353
  * Fix dpkg-parsechangelog to include all entries with -v0 parameter.
    Closes: #537800
  * Fix update-alternatives to mention the correct slave link that can't
    be installed due to a conflicting file instead of quoting the master link.
  * Add support for extra override file in dpkg-scanpackages. Thanks to Robert
    Millan for the patch. Closes: #537559
  * Add support for extra override file in dpkg-scansources.
  * Document format of extra override file in a new manual page
    deb-extra-override(5).
  * Update sample in dpkg-gensymbols(1) to give an accurate listing of
    64 bit arches. Thanks to Julien Cristau for the patch. Closes: #540382
  * Create /etc/cron.daily/dpkg to handle the backup of
    /var/lib/dpkg/status in /var/backups. This is taken out of the cron
    package and need no conflicts/breaks as the code does nothing if
    the current status file is already backuped. Thanks to Leo 'costela'
    Antunes <costela@debian.org> for the patch. Closes: #541412
  * Change behaviour of dpkg --merge-avail to not update a package's
    information if the version provided is older than the one already listed
    in the available file. Thanks to Ian Jackson
    <ian@davenant.greenend.org.uk> for the patch. Closes: #496114
  * dpkg-architecture can now export DEB_{HOST,BUILD}_ARCH_{BITS,ENDIAN}
    (pointer size and endianness):
    - cputable (in dpkg) modified to contain those information
    - dpkg-dev depends on dpkg (>= 1.15.4) to ensure that we have an updated
      cputable (and so that a versioned build-dependency on dpkg-dev is enough
      to use this new feature)
    Closes: #531307
  * Split overly long Binary: field values over multiple lines. This is
    allowed since policy 3.8.3. Closes: #494714
  * Improve performance of dpkg-shlibdeps by caching minimal version
    associated to each library in Dpkg::Shlib::SymbolFile. Thanks to
    Jiří Paleček <jpalecek@web.de> for the patch.
  * Slightly improve dpkg-source(1) by giving the section name that we're
    referring to. Closes: #544037
  * Fix translation error in German manpage of dpkg-buildpackage. Thanks
    to Joachim Breitner <nomeata@debian.org>. Closes: #541829

  [ Modestas Vainius ]
  * Provide a meaningful label for dpkg-gensymbols diff.

  [ Updated programs translations ]
  * Asturian (Marcos Alvarez Costales). Closes: #535327
  * French (Christian Perrier).
  * German (Sven Joachim).
  * Italian (Milo Casagrande). Closes: #536538
  * Russian (Yuri Kozlov). Closes: #542254
  * Slovak (Ivan Masár). Closes: #537742
  * Swedish (Peter Krefting).

  [ Updated dselect translations ]
  * Russian (Yuri Kozlov). Closes: #542254
  * Slovak (Ivan Masár). Closes: #537741

  [ Updated man pages translations ]
  * French (Christian Perrier).
  * German (Helge Kreutzmann), proofread by Jens Seidel.
  * Swedish (Peter Krefting).

  [ Updated scripts translations ]
  * French completed (Christian Perrier).
  * German (Helge Kreutzmann).
  * Russian (Yuri Kozlov). Closes: #542254
  * Swedish (Peter Krefting).

 -- Guillem Jover <guillem@debian.org>  Sun, 06 Sep 2009 09:37:45 +0200

dpkg (1.15.3.1) unstable; urgency=low

  [ Modestas Vainius ]
  * Fix wildcard support in symbol files. Closes: #536034

 -- Guillem Jover <guillem@debian.org>  Wed, 08 Jul 2009 11:26:36 +0200

dpkg (1.15.3) unstable; urgency=low

  [ Guillem Jover ]
  * Unset TAR_OPTIONS when extracting .deb archives.
  * Use default compressor values in dpkg-source from Dpkg::Source::Compressor.
  * Fix dpkg-scanpackages to properly detect spurious overrides.
  * Rewrite dpkg-name in perl.
  * Do not close already closed files in some error conditions in libdpkg.
  * Use the correct units (KiB) in dpkg-split when referring to partsize.
  * Document in dpkg-statoverride(8) that mode needs to be specified in
    octal. Closes: #534551
  * Mark argument names in dpkg-statoverride.1 in italic.
  * Explicitly pass field argument to Dpkg::ErrorHandling::unknown().
  * Move unknown() from Dpkg::ErrorHandling to Dpkg::Fields.

  [ Raphaël Hertzog ]
  * Unset TAR_OPTIONS when creating/extracting tar archives for source
    packages. Closes: #530860
  * Add cleanup of all invalid (master) alternatives in preinst script.
    Closes: #530633, #531611, #532739, #521760
  * Let update-alternatives fix a manual alternative with a dangling symlink
    by switching it to automatic mode. Closes: #529999
  * Add missing paragraph separator in dpkg-buildpackage(1). Thanks to Per
    Andersson <avtobiff@gmail.com>. Closes: #532769
  * Fix English mistake (“as you request” → “as you requested”) in several
    places. Thanks to David Stansby for the patch. Closes: #533171
  * Support tags before symbols in symbols file contained in source packages.
    The first two tags are "optional" (use it to not fail if the symbol might
    disappear from the library without breaking the ABI) and "arch" to
    restrict the set of architectures where the symbol is supposed to exist.
    Thanks to Modestas Vainius <modestas@vainius.eu> for the patch.
    See dpkg-gensymbols(1) for more information. Closes: #521551
  * Do not include #MISSING lines in symbols files integrated in binary
    packages. Closes: #526251
  * Assume an implicit version of "Base" for all unversioned symbols
    that are merged into a SymbolFile. Closes: #533181
  * Add new tag "ignore-blacklist" to force-include symbols which are
    normally blacklisted. This can be useful for libgcc to include symbols
    that the toolchain allows being shared but that are often static (and
    hence are blacklisted for this reason). Closes: #533642
  * In dpkg-source, explicitly pass --keyring ~/.gnupg/trustedkeys.gpg to
    gpgv as it does not use it if other --keyring parameters are given.
    Closes: #530769
  * In dpkg-vendor, allow using dashes instead of spaces in vendor
    filenames. Closes: #532222
  * Skip dpkg-genchanges' warning about lower version numbers for backports
    (recognized by ~bpo or ~vola in their version number). Closes: #525115
  * Support all checksum algorithms in dpkg-scanpackages/dpkg-scansources.
    Closes: #533828
  * Fix dependency parsing code in Dpkg::Deps to not accept "foo\nbar"
    even if foo is valid. Closes: #534464
    Thanks to Andrew Sayers for spotting the problem.

  [ Joachim Breitner ]
  * Warn about unused substvars in dpkg-gencontrol. Closes: #532760

  [ Updated programs translations ]
  * Catalan (Jordi Mallach). Closes: #532109
  * Czech (Miroslav Kure).
  * German (Sven Joachim). Closes: #534831
  * Simplified Chinese (Deng Xiyue). Closes: #531387
  * Swedish (Peter Krefting).

  [ Updated dselect translations ]
  * Czech (Miroslav Kure).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).
  * Swedish (Peter Krefting).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).
  * Swedish (Peter Krefting).

 -- Guillem Jover <guillem@debian.org>  Sat, 27 Jun 2009 19:06:43 +0200

dpkg (1.15.2) unstable; urgency=low

  [ Guillem Jover ]
  * Fix FTBFS on GNU/Hurd due to a mismatched define usage in
    start-stop-daemon. Closes: #530446
  * Remove obsolete priorities support from dselect.
    Thanks to Sven Joachim <svenjoac@gmx.de>.
  * Fix bashism (“echo -e”) in dselect disk setup method. Closes: #530071
  * Properly parse fdisk output in dselect disk setup method.
  * Fix memory leaks due to not destroying some pkg iterators.

  [ Updated programs translations ]
  * Asturian (Marcos Alvarez Costales). Closes: #529889
  * Basque (Piarres Beobide). Closes: #529857
  * French (Christian Perrier).
  * German (Sven Joachim).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

  [ Updated dselect translations ]
  * French (Christian Perrier).

  [ Updated scripts translations ]
  * French (Christian Perrier).
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Tue, 26 May 2009 01:00:36 +0200

dpkg (1.15.1) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Fix dpkg-genchanges to not include the additional upstream tarballs
    when they are not desired (specific to source packages using format 3.0
    quilt).
  * Call quilt only once to apply all patches instead of once per patch
    when building 3.0 (quilt) source packages. Closes: #518453
  * Fix dpkg-shlibdeps so that it works again when analyzing binaries
    outside of package's directory. Closes: #518687
  * Modify dpkg-shlibdeps to let shlibs.local override symbols files too.
  * Drop support of debian/control's “Format” field used by dpkg-source while
    it's not too late. Instead debian/source/format should be used to indicate
    the desired source package format.
  * Update deb-triggers(5) and dpkg-trigger(1) to add a reference to
    /usr/share/doc/dpkg/triggers.txt.gz. Closes: #519717
  * Avoid perl warnings in dpkg-gencontrol and dpkg-genchanges when the
    Architecture field is missing in a binary package. Closes: #510282
  * Modify Dpkg::Version::check_version() to not die by default.
    Closes: #510615
  * dpkg-source now ignores all possible vi swap file extensions (and not
    only .swp). The corresponding exclude pattern for -I also got tightened to
    only catch filenames starting with a dot. Closes: #515540
  * dpkg-gencontrol displays a better error message when an ORed dependency
    is used in a union field like Conflicts, Replaces or Breaks.
    Closes: #489238
  * dpkg-source's signature check is now done with gpgv if possible and
    timeouts if not completed within 10 seconds. Closes: #490929
    When using gpg, use --no-default-keyring to be consistent with gpgv's
    behaviour to not use the user's keyring. Closes: #440841
  * Update dpkg-dev dependencies: Closes: #472942
    - Move gnupg to Recommends. It's needed to sign .dsc and .changes.
    - Add gpgv to Recommends. Useful to check signatures of extracted packages.
    - Add debian-maintainers to Suggests. Together with debian-keyring they
    contain all the GPG keys required to verify official Debian packages.
  * Drop /etc/dpkg/origins as it's taken over by base-files (see #487437).
  * Fix dpkg-shlibdeps to properly initialize a symbol-based dependency
    even when some symbols are associated with a (fake) version "0". Such a
    version means that the symbol has always existed in all versions of the
    package.
  * When dpkg delegates to dpkg-query or dpkg-deb to do the actual work, add
    the "--" marker to explicitly document the end of options so that
    arguments starting with a dash are not interpreted as options.
    Closes: #293163
    Thanks to Bill Allombert for the patch.
  * dpkg now correctly refuses empty parameters when an integer value is
    wanted. Closes: #386197 Based on a patch by Bill Allombert.
  * Fix a mistake in the french translation of dpkg's manual page.
    Thanks to Jonathan Gibert. Closes: #522032
  * Fix dpkg-source to not die when uncompressor processes are killed by
    SIGPIPE due to tar closing the pipe without exhausting all the data
    available. Closes: #523329
  * dpkg-gencontrol now handles properly (empty) dependencies which contain
    only spaces. Closes: #522787
  * dpkg-source now accepts additional tarballs (in format "3.0 (quilt)")
    with a "component" name containing dashes. Closes: #524376
  * Fix dpkg-source to not complain on binary files that are ignored and are
    not going to be included in the debian tarball of a "3.0 (quilt)" source
    package. Closes: #524375
  * Bump Standards-Version to 3.8.1 (no change required).
  * Do not store usernames and group names in tarballs created by dpkg-source,
    they are anyway ignored at unpack time. Closes: #523184
  * Fix update-alternatives to not remove real files installed in place of
    an alternative link when the corresponding alternative is fully removed.
    Closes: #526538
  * Add a new dpkg-vendor tool to query vendor information stored in
    /etc/dpkg/origins. It can be used in debian/rules to enable different
    behaviour depending on the current vendor at the time of the build.
    Closes: #498380
    Modify dpkg-buildpackage to not set the DEB_VENDOR environment variable,
    packages should use the dpkg-vendor program instead.
  * Ensure that the automatic patch created in format "3.0 (quilt)" is always
    well registered with quilt even when it's updated by a new call to
    dpkg-source. Thanks to Goswin von Brederlow for the initial patch.
    Closes: #525858
  * Do not update/create debian/patches/.dpkg-source-applied during build,
    it's only meant to document what patches have been applied at extraction
    time. Closes: #525835
  * Let dpkg-buildpackage add the missing execute right on debian/rules if
    needed. Display a warning when it happens. Closes: #499088
  * Allow combining -nc and -S in dpkg-buildpackage but display a warning
    saying that it's not advised. Closes: #304404
  * Let dpkg-buildpackage error out with subprocerr() when dpkg-checkbuilddeps
    is interrupted/killed by a signal. Closes: #498734
  * Fix dpkg-buildpackage/dpkg-genchanges to properly interpret option -v0.
    Closes: #475916
  * Improves how dpkg-parsechangelog handles non-existing versions
    in its --since, --until, --to, --from options. Approximate the intent
    by selecting the nearest version instead. Closes: #477638
  * Update dpkg-parsechangelog's documentation to make it clearer that spaces
    are not allowed between single characters options and their values.
    Closes: #494883
  * Don't let dpkg-scanpackages complain about missing overrides when
    no overrides file has been given. Closes: #468106
    Thanks to Piotr Engelking for the patch.

  [ Guillem Jover ]
  * Fix typo in dpkg output (for ‘unexpected’). Closes: #519082
    Thanks to Ivan Masár.
  * Sync archtable with architectures currently present in Debian sid.
    - Remove m68k.
    - Add kfreebsd-i386 and kfreebsd-amd64.
  * Add avr32 to cputable. Closes: #523456
  * Detect the curses headers to use instead of hardcoding them.
  * Make dpkg-source do not set arch:any in .dsc on arch-restricted packages.
    Thanks to Philipp Kern <pkern@debian.org>. Closes: #526617
  * Add '.hgtags' to the default dpkg-source -i regex and -I pattern.
    Closes: #525854
  * Use backticks instead of non-portable make $(shell) function in automake.
  * Do not install dselect and start-stop-daemon man pages when the programs
    have been disabled from configure.
  * Move Debian specific keyrings to the Debian vendor class and change the
    Ubuntu vendor class to inherit from it.
  * Do not set the Arch substvar in dpkg-source, avoiding generating warnings
    when there's no compiler present. Closes: #526132
  * Preserve faulting errno when printing reason in start-stop-daemon fatal
    function.
  * Only print fatal errno string in start-stop-daemon if it was non-zero.
  * Print the valid values for the IO scheduler class in start-stop-daemon
    --help output.
  * Print a warning when using obsolete '--print-installation-architecture'.
    Closes: #528171
  * Remove obsolete --largemem and --smallmem dpkg options.
  * Remove obsolete --force-auto-select dpkg option.
  * Remove obsolete priorities support from dpkg.
  * Remove obsolete 822-date program.
  * Do not right justify the database reading progress percent counter.
  * Remove deprecated status on substvars for dpkg-source dpkg-genchanges,
    and stop producing warnings.
  * Make deprecated dpkg-scanpackages --udeb option produce a warning.
  * Change dpkg-source --help output to state there's no default substvar
    file to match reality.
  * Warn in start-stop-daemon if the argument to --name is longer than the
    supported kernel process name size. Closes: #353015, #519128
  * Do not warn in dpkg-deb when parsing unknown fields with the “Private-”
    prefix. Based on a patch by Nils Rennebarth. Closes: #353040

  [ Frank Lichtenheld ]
  * Dpkg::Version: Remove unnecessary function next_elem which just
    replicates the standard shift behaviour.

  [ Colin Watson ]
  * Add "keyrings" vendor hook, used by dpkg-source to allow vendors to
    supply additional keyrings against which source package signatures will
    be verified. Implement this for Ubuntu. Closes: #525834

  [ Updated dselect translations ]
  * German (Sven Joachim).
  * Swedish (Peter Krefting).

  [ Updated scripts translations ]
  * French (Christian Perrier).
  * German (Helge Kreutzmann).
  * Swedish (Peter Krefting).

  [ Added programs translations ]
  * Asturian (Marcos Alvarez Costales). Closes: #519478, #519813, #519998
  * Esperanto (Felipe Castro). Closes: #523023

  [ Updated programs translations ]
  * French (Christian Perrier).
  * German (Sven Joachim).
  * Slovak (Ivan Masár). Closes: #519084
  * Swedish (Peter Krefting).
  * Russian (Yuri Kozlov). Closes: #526659

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).
  * Swedish (Peter Krefting).

 -- Guillem Jover <guillem@debian.org>  Thu, 21 May 2009 06:45:45 +0200

dpkg (1.15.0) experimental; urgency=low

  [ Guillem Jover ]
  * Do not suggest manually changing the alternative symlinks on
    update-alternative's verbose mode. Closes: #412487
  * Refactor subprocess signal setup.
  * Mark and coalesce similar strings for translation.
  * Add '.be' to the default dpkg-source -i regex. Closes: #481716
    Based on a patch by Ben Finney.
  * Fix link order when using libcompat.a and libintl.a by placing them after
    libdpkg.a. Based on a patch by Martin Koeppe. Closes: #481805
  * Remove duplicate program name from dpkg-trigger badusage output.
  * Trim trailing slash and slash dot from 'dpkg -S' arguments when those
    are path names, but not on patterns. Closes: #129577
  * Fix the support for passing more than one --status-fd option to dpkg.
    Until now only the last one was being used.
  * Replace realloc plus error checking usage with m_realloc.
  * Add '.hgignore' to the default dpkg-source -i regex and -I pattern.
    Closes: #485365
  * Support diverting files when origin and destination are on different file
    systems. Based on a patch by Juergen Kreileder. Closes: #102144, #149961
  * Do not silently enable --rename on dpkg-divert --remove. Closes: #160848
  * Do not allocate memory when lstat fails during package upgrade.
  * Properly lstat the correct file when using --root on package upgrade.
    Thanks to Egmont Koblinger. Closes: #281057
  * Print a longer string when a disallowed field value is found when parsing.
  * Use $(filter ...) instead of $(findstring ...) to extract space separated
    options from DEB_BUILD_OPTIONS in debian/rules.
  * Do not leave new conffile as .dpkg-new when it has been diverted, also
    properly activate the file trigger for the diverted conffile.
    Based on a patch by Timothy G Abbott. Closes: #58735, #476899
  * Improve comment on BUGS section in dpkg-deb.1 about lack of authentication
    and checksum support in .deb files. Closes: #492052
  * Use a troff special character for the copyright symbol on man pages.
  * Mark program names in dpkg-trigger.1 in bold.
  * Unmark dselect debug messages for translation.
  * Use a the warning function to uniformly print all warning messages.
  * Properly use internerr to report about programming bugs.
  * Do not log repeated strings when the write call wrote partial data.
  * Change dir to / after chroot when using --instdir.
    Thanks to Colin Watson <cjwatson@ubuntu.com>. Closes: #509578
  * Make dpkg log files user readable. Closes: #480556
  * Clarify in the start-stop-daemon man page that the signal sent by default
    is TERM not KILL. Closes: #507568
  * Warn in dpkg-deb man page that -x will modify the extraction directory
    permissions. Closes: #502496
  * Make start-stop-daemon behave the same way whether --chuid gets a user
    name or a uid. Closes: #368000
  * Add new option --procsched to start-stop-daemon to be able to set the
    process scheduling policy and priority. Closes: #175740
  * Add initial C unit test suite for libdpkg.
  * Sanitize --status-fd output by replacing newlines with spaces.
    Closes: #505172
  * Remove unneeded cpio dependency from dpkg-dev.
  * Add kopensolaris support to ostable and triplettable. Closes: #509312
  * Document in deb.5 in detail the currently supported format, ar member
    names, types of tar archives and data.tar members.
  * Print correct feature name on «dpkg --assert-*» failures.
  * Add progress reporting to dpkg while reading the file list database.
    Based on a patch by Romain Francoise.
  * Add new option --iosched to start-stop-daemon to be able to set the
    IO scheduling class and priority. Closes: #443535
    Thanks to Chris Coulson <chrisccoulson@googlemail.com>.
  * Add tar format detection support to the internal extractor.
  * Add support for ustar long names using the prefix field. Closes: #474092
  * Code refactoring and cleanup, some of the major changes include:
    - Use standard interfaces instead of ad-hoc ones.
    - Fix memory leaks.
    - Fix compilation warnings.
    - Constify string members in structures and arguments in functions.
    - Make local functions static.
    - Remove unused functions, macros and variables.
    - Fix and cleanup libcompat broken replacement implementations.
    - Reduction of module interdependencies.
    - Rename function and variable names to make them more clear.
    - Cleanup and split of header files.

  [ Raphaël Hertzog ]
  * Enhance dpkg-shlibdeps' error message when a library can't be found to
    include the ELF format of the desired library. Closes: #474671
  * dpkg-gensymbols now refuses empty values for the -v -P and -e
    parameters.
  * Update dpkg(1) to refer to conffile whenever we speak of configuration
    file handled by dpkg. Thus harmonize vocabulary with the policy. Thanks
    to Helge Kreutzmann <debian@helgefjell.de>. Closes: #381219
  * Improve error message stating that dpkg is unable to create a file so that
    it also refers to the real filename instead of the non-diverted name only.
    Thanks to Daniel Hahler for the patch. Closes: #457135
  * dpkg-gencontrol can now again read the control file from its standard
    input with "-c-". Closes: #465340
  * Add DEB_VENDOR environment variable in the build environment to be able
    to change behaviour dynamically depending on the vendor of the current
    system (or target system when the user overrides DEB_VENDOR by setting
    it himself). Closes: #457371
  * dpkg-shlibdeps give less strong warnings for symbols not found in NEEDED
    libraries when the shared library is a non-public directory and is likely
    to be a plugin. Closes: #481165
  * Clarify list of packages displayed by dpkg --get-selections and
    dpkg-query -l. Thanks to Jidanni. Closes: #487455
  * Document -A option in dpkg-buildpackage(1). Closes: #482834
  * Add some warning concerning the available file and the related commands.
    They are mostly obsolete for APT users. Closes: #481185
  * Add new option --listpackage to dpkg-divert. Thanks to Timothy G Abbott
    <tabbott@MIT.EDU> for the patch. Closes: #485012
  * Add new option --require-valid-signature to dpkg-source. Closes: #390282
  * In dpkg-query(1) document the origin of the various fields and warn that
    they are not always available. Closes: #488293
  * Improve error message in install-info when the file doesn't exist.
    Thanks to Thomas Hood <jdthood@yahoo.co.uk>. Closes: #107098
  * Use description of installed package as fallback in dselect.
    Based on a patch from Bruce Sass <bmsass@shaw.ca>. Closes: #21659
  * Reduce memory usage of dselect by avoiding usage of a big infopad.
    Thanks to Michel Lespinasse <walken@zoy.org> for the patch.
    Closes: #395140
  * Largely improve and update dpkg-buildpackage's manual page.
  * Clarify two points in dpkg-source(1). Closes: #490693
  * Support RUNPATH exactly like RPATH in dpkg-shlibdeps. Closes: #502258
    Thanks to Javier Serrano Polo <jasp00@terra.es>.
  * Set Standards-Version to 3.8.0 (no changes needed).
  * Drop some unneeded lintian overrides.
  * Fix a chmod call in dpkg-source to not fail when POSIXLY_CORRECT is set.
    Closes: #506028
  * Optimize dpkg-shlibdeps by caching parsed symbols files and
    objdump objects. Thanks to Modestas Vainius <modestas@vainius.eu> for the
    patch. Closes: #503954
  * Add new framework to hook vendor-specific logic (see
    module Dpkg::Vendor::Default).
  * Add Ubuntu vendor object implementing lookup of launchpad bugs in
    changelogs and a safety-check for Maintainer fields of forked packages
    (launched during source build). Closes: #426752, #499924
  * Improve behaviour of update-alternatives --config. Thanks to
    Osamu Aoki <osamu@debian.org> for the initial patch. We can know
    select between manual and auto in --config and --all. Closes: #392430
  * Fix update-alternatives to not switch to manual mode an alternative
    with a broken symlink (instead let the current action fix it).
    Also ensure that a message is displayed by default when such a switch is
    made. Closes: #141325, #87677
  * Fix update-alternatives' logic to rename files. It failed to ignore errors
    in some cases where it wanted to when the source file didn't exist.
    Closes: #99870
    This also makes update-alternatives less noisy when this happens since we
    don't call mv when we know that it's going to fail.
    Closes: #98822
  * Properly remove inappropriate slave links in update-alternatives even when
    we switch to manual mode with --set or --config. Closes: #388313
  * Modify update-alternatives to always remove the alternative group when the
    last alternative is removed (even in manual mode).
  * Ensure that update-alternative --install fix the links if the alternative
    installed is the one currently selected. Closes: #100135
  * Let update-alternatives deal with empty files in its administrative
    directory by ignoring them. Closes: #457863
  * Add new --target and --as-root options to dpkg-buildpackage to call
    any debian/rules target with the proper build environment.
    Closes: #477916
  * Move update-alternatives, dpkg-divert and dpkg-statoverride to /usr/bin
    but keep compatibility symlinks in /usr/sbin for the squeeze release
    until all maintainer scripts are fixed (see
    https://lintian.debian.org/tags/command-with-path-in-maintainer-script.html).
    Closes: #216606
  * Use dh_lintian to install lintian overrides. Build-Depends on debhelper
    (>= 6.0.7) for this. Update debhelper compatibility level to 6 at the same
    time.
  * Drop cleanup-info script.
  * Reset umask to 0022 in dpkg-gencontrol and dpkg-gensymbols to ensure that
    files created in the DEBIAN directory have sane permissions.
    Closes: #516481
  * Rewrite update-alternatives (so that we can understand it again) and
    implement new features on top of it:
    - the --config output is now sorted. Closes: #437060
    - it now logs information to /var/log/dpkg.log. Closes: #445270
    - it forbids reusing master alternative as slave and vice-versa.
      Closes: #342566
    - it forbids reusing alternative links managed by other alternatives
    - new sanity checks on --install parameters. Closes: #423176
    - install slave link only if the corresponding slave file is available.
      Closes: #143701
    - new option --get-selections to export the configuration of all
      alternatives. It's a simple way to discover the name of all available
      alternatives. Closes: #273406, #392429
    - new option --set-selections to reconfigure a set of alternatives in
      a single command.
  * Document in update-alternatives(8) how one can repair all broken
    alternatives with a single command. Closes: #250258, #395556
  * Modify dpkg-gensymbols to replace #PACKAGE# on the fly while installing
    symbols files so that package having libraries whose name varies between
    architectures do not need to hardcode the package name. Closes: #517264

  [ Pierre Habouzit ]
  * Add a --query option to update-alternatives. Closes: #336091, #441904

  [ Updated scripts translations ]
  * Polish (Wiktor Wandachowicz). Closes: #514106

  [ Updated man pages translations ]
  * Polish (Wiktor Wandachowicz). Closes: #514106

  [ Updated programs translations ]
  * Portuguese (Miguel Figueiredo).
  * Korean (Changwoo Ryu).
  * Romanian (Eddy Petri?or)
  * Slovak (Ivan Masár). Closes: #514490

 -- Guillem Jover <guillem@debian.org>  Mon, 02 Mar 2009 06:13:53 +0200

dpkg (1.14.25) unstable; urgency=low

  [ Guillem Jover ]
  * Fix typo in package description (for 'provides').
    Thanks to Pascal De Vuyst <pascal.devuyst@gmail.com>. Closes: #510755
  * Do not lose conffiles while replacing them from another package on the
    same install run. Closes: #513857
    As a side effect this fixes the following symptoms:
    - Do not do unneeded conffile prompts when it wasn't locally changed.
    - Do not ensure (and thus do not output debug information) that the
     .dpkg-new and .dpkg-tmp directories for an existing directory do not
      exist. Closes: #80416

  [ Raphaël Hertzog ]
  * dpkg-deb now always produces GNU tarballs inside .deb and ignores
    TAR_OPTIONS. Closes: #513863

  [ Updated programs translations ]
  * Basque (Piarres Beobide). Closes: #506092, #509851
  * Simplified Chinese (Deng Xiyue). Closes: #506177
  * Traditional Chinese (Tetralet). Closes: #513312

  [ Updated dselect translations ]
  * Basque (Piarres Beobide). Closes: #509852
  * Norwegian Bokmål (Hans F. Nordhaug).
  * Portuguese (Miguel Figueiredo). Closes: #509904

  [ Updated scripts translations ]
  * Add missing space in French translation.
    Thanks to Cyril "Oeil de lynx" Brulebois.

 -- Guillem Jover <guillem@debian.org>  Tue, 03 Feb 2009 00:00:41 +0200

dpkg (1.14.24) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Fix parsing of objdump output (by dpkg-shlibdeps) in a special case where
    the symbol name is separated only with a single space. Closes: #506139
  * Fix dpkg-shlibdeps behaviour when Build-Depends-Package is used in the
    symbols file. It was merging all dependency templates into the generated
    dependency instead of simply modifying the minimal version. Thanks to
    Modestas Vainius <modestas@vainius.eu>. Closes: #507346
  * Fix dpkg-source to correctly extract a source package even when called
    from a non-writable directory when a target directory has been specified
    on the command line. Closes: #507217, #507219

  [ Guillem Jover ]
  * Do not allow installing packages with non-obsolete conffiles owned by
    other packages without a proper Replaces field. Closes: #508392

  [ Updated dselect translations ]
  * Galician (Marce Villarino). Closes: #509887

  [ Updated programs translations ]
  * Galician (Marce Villarino). Closes: #509150
  * Vietnamese (Clytie Siddall). Closes: #509424

  [ Updated scripts translations ]
  * Improve German translation.

 -- Guillem Jover <guillem@debian.org>  Mon, 29 Dec 2008 05:38:31 +0100

dpkg (1.14.23) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Blacklist "__gnu_local_gp" symbol for dpkg-gensymbols. Closes: #500188
    Thanks to Thiemo Seufer <ths@debian.org>.
  * Important bugfix in dpkg-gensymbols for people using includes in symbol
    files: the current object didn't flow back from the included file to
    the including file.
  * Fix Dpkg::Version comparison code. Closes: #504135

  [ Guillem Jover ]
  * Untangle fatal abort condition from the “too many errors” one in the
    archives and packages processing loop. Closes: #367226
  * Abort on unrecoverable fatal errors instead of continuing execution, as
    the recovery code assumed the execution would not be reaching it again
    and some times bogus update files were created either with incompletely
    written content or with '#padding' lines. Closes: #497041, #499070

  [ Updated programs translations ]
  * Brazilian Portuguese (Felipe Augusto van de Wiel).
  * Catalan (Jordi Mallach).
  * Czech (Miroslav Kure). Closes: #505910
  * French (Christian Perrier)
  * German (Sven Joachim).
  * Greek (Emmanuel Galatoulas). Closes: #498585
  * Japanese (Kenshi Muto).
  * Korean (Changwoo Ryu). Closes: #505777
  * Norwegian Bokmål (Hans F. Nordhaug).
  * Polish (Wiktor Wandachowicz).
  * Portuguese (Miguel Figueiredo). Closes: #505869
  * Russian (Yuri Kozlov). Closes: #499028, #505735
  * Romanian (Eddy Petri?or).
  * Slovak (Ivan Masár). Closes: #506024
  * Spanish (Javier Fernandez-Sanguino). Closes: #505836
  * Swedish (Peter Krefting).

  [ Updated scripts translations ]
  * Fix typo in Russian. Closes: #499736
  * Fix wrong translation in French. Closes: #504123
  * French (Christian Perrier).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Tue, 18 Nov 2008 11:50:56 +0200

dpkg (1.14.22) unstable; urgency=low

  [ Raphaël Hertzog ]
  * The last "small fix" actually broke conversion of source packages to
    "3.0 (quilt)" format when they have local changes and no pre-existing
    quilt series file. Now always provide a valid name in QUILT_SERIES.
    Closes: #496920
  * Fix permissions of the automatically generated patch in "2.0" and "3.0
    (quilt)" format. They were improperly set to 0600 due to tempfile()
    and were not reset to a sane value. Closes: #496925
  * Fix dpkg-gensymbols to not scan (real) directories accessed through a
    symlink contained in the build tree as they may well not be part of
    the package (with absolute symlinks). It was already skipping symlinks
    (since 1.14.16.6) for similar reasons.

  [ Updated programs translations ]
  * Basque (Piarres Beobide). Closes: #496753
  * Brazilian Portuguese (Felipe Augusto van de Wiel).
  * Galician (Jacobo Tarrio).
  * Norwegian Bokmal (Hans Fredrik Nordhaug). Closes: #497309
  * Swedish (Daniel Nylander and Peter Krefting).
  * Vietnamese (Clytie Siddall). Closes: #497893

  [ Updated man pages translations ]
  * Swedish (Peter Krefting).

  [ Updated scripts translations ]
  * Swedish (Peter Krefting).

 -- Raphaël Hertzog <hertzog@debian.org>  Fri, 05 Sep 2008 16:54:45 +0200

dpkg (1.14.21) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Small fix in "3.0 (quilt)" source format when using non-standard name
    of the quilt series.
  * Handle debian.tar.gz files like diff.gz in dpkg-buildpackage and
    dpkg-genchanges to detect the kind of upload.
  * Add "armel" to /usr/share/dpkg/archtable. Closes: #487768
  * Modified Dpkg::BuildOptions to recognize and use spaces as separator
    in DEB_BUILD_OPTIONS (in order to conform with the Debian policy
    ruling established in #430649). Closes: #486937
  * Fix dpkg-source to not use -i and -I by default with "1.0" source
    packages. Closes: #495138

  [ Guillem Jover ]
  * When loading the status file fix up any inconsistent package in state
    triggers-awaited w/o the corresponding package with pending triggers.
    Closes: #487637, #486843, #489068
  * Fix --no-act in triggers related code. Closes: #495097
  * Do not assert when dpkg stops processing packages due to too many
    errors occurred while configuring or removing packages.
    Thanks to Ian Jackson <ian@davenant.greenend.org.uk>. Closes: #483655
  * Move lzma from dpkg Suggests to Pre-Depends. Closes: #456332
  * Match description of -si option in dpkg-buildpackage to the one in
    dpkg-genchanges. Closes: #493743
  * Close --status-fd file descriptors on exec, so that they are not
    inherited by the children. Closes: #471488, #487684
  * State that the preferred front-end is aptitude and replace one instance
    of dselect usage with apt-get. Closes: #483785

  [ Updated man pages translations ]
  * French (Florent Usseil).
  * German (Helge Kreutzmann).

  [ Updated scripts translations ]
  * Russian (Yuri Kozlov). Closes: #490076
  * German (Helge Kreutzmann).

  [ Updated programs translations ]
  * Basque (Piarres Beobide). Closes: #490905
  * Czech (Miroslav Kure).
  * French (Christian Perrier).
  * German (Sven Joachim).
  * Korean (Changwoo Ryu).
  * Romanian (Eddy Petri?or).
  * Russian (Yuri Kozlov). Closes: #488689
  * Simplified Chinese (Deng Xiyue). Closes: #496176
  * Slovak (Ivan Masár). Closes: #488903, #495505
  * Thai (Theppitak Karoonboonyanan). Closes: #488090

  [ Added programs translations ]
  * Lithuanian (Gintautas Miliauskas). Closes: #493326

  [ Updated dselect translations ]
  * Romanian (Eddy Petri?or).

 -- Guillem Jover <guillem@debian.org>  Tue, 26 Aug 2008 05:32:39 +0300

dpkg (1.14.20) unstable; urgency=low

  [ Guillem Jover ]
  * Change UTF-8 '©' to '(C)' in deb-version.5 (unfuzzy translations).
  * Document --force-breaks in 'dpkg --force-help' output.
  * Document triggers --debug values in dpkg.1. Thanks to Sven Joachim.
  * Improve package descriptions for dpkg, dpkg-dev and dselect.
    Thanks to Justin B Rye for the review and corrections. Closes: #484002
  * When dpkg-divert does renames do no check the target file if the source
    does not exist and the rename is thus being disabled. This also allows
    removing bogus diversions. Closes: #476973, #469033
  * Properly close triggers 'File' file, so it does not get leaked to children.

  [ Raphaël Hertzog ]
  * Add missing 'use File::Path' in Dpkg::Source::Package::V3::quilt.
  * Use debian/patches/debian-changes-<version> (without the trailing ".diff")
    as default name for the automatic patch created by the format "3.0
    (quilt)". This ensures a saner cohabitation with patch systems that
    apply all of debian/patches/*.{diff,patch}.
  * Improve patch parser to accept more patches that are accepted by patch
    itself.
  * Correctly skip comments in quilt series files (concerns "3.0 (quilt)" source
    packages). Closes: #486323
  * The automatically created patches (in source package formats "2.0" and
    "3.0 (quilt)") will now contain "/dev/null" as previous filename when the
    patch creates a new file (instead of putting the same name).
  * Set PERL_DL_NONLZY to 1 in perl scripts that are likely to be called in
    package's configuration scripts to work around the perl bug #479711.

  [ Helge Kreutzmann ]
  * Fix a typo in dselect.1.

  [ Updated programs translations ]
  * Basque (Piarres Beobide). Closes: #481043
  * Brazilian Portuguese (Felipe Augusto van de Wiel).
  * Catalan (Jordi Mallach). Closes: #383448
  * Czech (Miroslav Kure).
  * French (Christian Perrier).
  * Galician (Jacobo Tarrio). Closes: #483441
  * German (Sven Joachim).
  * Norwegian Bokmal (Hans Fredrik Nordhaug). Closes: #480626
  * Polish (Wiktor Wandachowicz).
  * Simplified Chinese (Deng Xiyue). Closes: #483143
  * Swedish (Peter Karlsson).
  * Vietnamese (Clytie Siddall). Closes: #481199

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).
  * Polish (Wiktor Wandachowicz).
  * Swedish (Peter Karlsson).

  [ Updated scripts translations ]
  * French (Christian Perrier).
  * German (Helge Kreutzmann).
  * Polish (Wiktor Wandachowicz).
  * Russian (Yuri Kozlov).
  * Swedish (Peter Karlsson).

  [ Updated dselect translations ]
  * Brazilian Portuguese (Felipe Augusto van de Wiel).
  * Polish (Wiktor Wandachowicz).

 -- Raphaël Hertzog <hertzog@debian.org>  Wed, 18 Jun 2008 09:33:54 +0200

dpkg (1.14.19) unstable; urgency=low

  [ Guillem Jover ]
  * Fix a double-free by setting scontext to NULL after calling freecon.
    Based on a patch by Russell Coker. Closes: #474339
  * Add missing import of internerr in Dpkg::Source::Patch.pm.
    Thanks to Marco d'Itri. Closes: #479205
  * Consider also custom Package-Type fields when printing warnings in
    dpkg-gencontrol. Closes: #452273

  [ Raphaël Hertzog ]
  * Add missing import of subprocerr in Dpkg::Source::Package. Thanks to Sven
    Joachim for the patch.
  * Handle symlinks better when deciding if dpkg-source has to copy the
    original tarball in the current extraction directory. Closes: #475668
  * Fix the dpkg-source error message about unrepresentable changes to
    source because the type of a file changed (new and old were inverted).
  * Fix dpkg-genchanges to detect udeb based on Package-Type control
    header instead of file extension analysis on uploaded files.
    Closes: #476113
  * Fix dpkg-source to grant correct permissions to tarballs of native
    source packages. Closes: #477784
  * Add Conflicts: devscripts (<< 2.10.26) to ensure that people are
    using versions of debsign/mergechanges that support the Checksums fields
    in *.dsc and *.changes.
  * Cleanup the various Conflicts/Replaces fields to remove references
    to package that have disappeared before sarge (this includes dpkg-doc-ja,
    dpkgname, and dpkg-static which has never officially been built).
    dpkg-iasearch has been kept as popcon still reports a few installations.
  * Collapsed multiple conflicts of dpkg with old versions of dpkg-dev
    in a single Conflicts: dpkg-dev (<< 1.14.16).
  * The "3.0 (quilt)" source package format now parses correctly series files
    with patch options and warn if something else than -p1 is used.
  * Change the way dpkg-source finds the perl object to use to unpack/build
    a source package to ignore the minor part of the Format: version.
    For example "1.0" and "1.1" would both map to Dpkg::Source::Package::V1
    instead of ::V1_0 and ::V1_1 before. Similarly "3.0 (quilt)" now maps to
    ::V3::quilt instead of ::V3_0::quilt.
  * Fix changelog parser to not fail when an unexpected changelog entry
    appears without the preceding heading line. Closes: #478925
  * Change the "2.0" and "3.0 (quilt)" source packages to refuse by default
    binary files in the debian sub-directory. They have to be whitelisted
    through debian/source/include-binaries. Closes: #473041
  * Make sure triggers are activated when a file is removed in a directory
    shared by multiple packages. Closes: #479850

  [ Helge Kreutzmann ]
  * Minor fixes and clarifications to man pages.

  [ Updated programs translations ]
  * Brazilian Portuguese (Felipe Augusto van de Wiel). Closes: #480579
  * Czech (Miroslav Kure).
  * French (Florent Ussel).
  * Galician (Jacobo Tarrio).
  * German (Sven Joachim).
  * Polish (Wiktor Wandachowicz).
  * Portuguese (Miguel Figueiredo).
  * Russian (Yuri Kozlov). Closes: #478827
  * Slovak (Ivan Masár). Closes: #478897
  * Swedish (Peter Karlsson).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).
  * Polish (Wiktor Wandachowicz).
  * Swedish (Peter Karlsson).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).
  * Polish (Wiktor Wandachowicz).
  * Russian (Yuri Kozlov). Closes: #479142
  * Swedish (Peter Karlsson).

  [ Updated dselect translations ]
  * Brazilian Portuguese (Felipe Augusto van de Wiel).
  * Czech (Miroslav Kure).
  * French (Christian Perrier).
  * German (Sven Joachim).
  * Russian (Yuri Kozlov). Closes: #478802
  * Slovak (Ivan Masár). Closes: #479007

 -- Guillem Jover <guillem@debian.org>  Mon, 12 May 2008 08:33:07 +0300

dpkg (1.14.18) unstable; urgency=low

  [ Guillem Jover ]
  * Bump po4a version in Build-Depends to 0.33.1-1, as usage of UTF-8
    in original man pages was causing build failures. Closes: #473498
  * Add triggers documentation to dpkg-dev. Closes: #473449
  * Add deb-triggers.5 and dpkg-trigger.1 man pages, and document new
    statuses and options in dpkg.1.

  [ Raphaël Hertzog ]
  * When dpkg-source builds a source package of Format: 2.0 or 3.0 (quilt) it
    applies the patches before the build if
    debian/patches/.dpkg-source-applied doesn't exist. This file is created
    during extraction if patches are applied, and is auto-excluded from the
    debian tarball. This enables on-the-fly conversion of source packages from
    Format: 1.0 to Format: 3.0 (quilt) without manual intervention of the
    user. This feature can be disabled with the option --no-preparation.
  * The dpkg-source option --skip-patches disables application of patches
    during extraction of source packages using Format: 2.0 or Format: 3.0
    (quilt).
  * Ensure the Files field is last in *.dsc and *.changes. This is a
    work-around for some braindead dsc parsers (dupload and sbuild for
    instance, see #473518 and #470440).
  * Initialize dependencies for libraries having symbols files with the
    smallest minimal version listed in the symbols file instead of using
    an unversioned dependency. It's the only way to ensure the library
    presence if it wasn't available in all versions of the package that ever
    existed. Closes: #474079
  * Don't use the -p option of diff for Format: 1.0 source packages.
    dpkg-source of sarge doesn't accept data after @@. Closes: #474417

  [ Updated dselect translations ]
  * German. (Sven Joachim).
  * Swedish (Peter Karlsson).

  [ Updated programs translations ]
  * Portuguese (Miguel Figueiredo).
  * Simplified Chinese (Deng Xiyue). Closes: #473523
  * Swedish (Peter Karlsson).
  * Vietnamese (Clytie Siddall). Closes: #473726

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).
  * Swedish (Peter Karlsson).

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).
  * Swedish (Peter Karlsson).

 -- Guillem Jover <guillem@debian.org>  Tue, 08 Apr 2008 07:00:10 +0300

dpkg (1.14.17) experimental; urgency=low

  [ Guillem Jover ]
  * Replace strdup plus error checking usage with a new m_strdup function.
    Closes: #379028
  * Add new keybinding in dselect to restore all selections back to
    whatever's currently installed. Closes: #151540
    Thanks to Colin Watson.
  * Use system timersub and fix timeval normalization in multiplication in
    start-stop-daemon. Thanks to Andreas Påhlsson. Closes: #462225
  * Cosmetic fixes to start-stop-daemon output and man page. Document that
    --chuid will change the group even if it has not been specified. Add
    EXIT STATUS and EXAMPLE sections to man page. Thanks to Justin Pryzby.
  * Add Raphaël Hertzog to Uploaders, and remove Brendan O'Dea and
    Christian Perrier with their permission.
  * Use functions from libcompat when those are not provided by the system.
    - Add strnlen to libcompat.
    - Link programs against libcompat which provides obstack. Closes: #142042
  * Change dpkg-gencontrol to not output the Homepage field on udeb.
  * Reintroduce 'no-debsig' back in dpkg.cfg to avoid failing to install any
    package when debsig-verify is installed. Closes: #311843
  * Fix some small memory leaks. Closes: #469520
    Thanks to Sean Finney.
  * Correct broken dselect logic for self-conflicting packages.
    Thanks to Ian Jackson.
  * Implement 'Breaks' properly in dselect. Closes: #448946
    Thanks to Ian Jackson.
  * Fix erroneous description of Breaks in dselect output.
    Thanks to Ian Jackson.
  * Allow compilation with --disable-nls on systems without libintl.h where
    a non glibc claims to be glibc. Closes: #465420
  * Fix crash when a .deb file becomes unreadable while dpkg is starting.
    Thanks to Ian Jackson. Closes: #255882
  * Few file descriptor cleanup and error handling fixes.
    Thanks to Ian Jackson. Closes: #443338
  * Move test suite invocation to a new check target in debian/rules.
  * Add support for nocheck DEB_BUILD_OPTIONS in debian/rules, so that the
    dpkg test suite can be skipped if desired.
  * Improve log and status-fd output by printing more status change updates
    and actions. Thanks to Ian Jackson.
  * Implement triggers support. Thanks to Ian Jackson.
    Closes: #17243, #68981, #215374, #217622, #248693, #308285

  [ Raphaël Hertzog ]
  * Add a warning displayed by dpkg-genchanges if the current version is
    smaller than the previous one. Closes: #4655
  * Add -d and -c options in dpkg-checkbuilddeps to override
    build-depends/conflicts. Closes: #114774
  * Include list of libraries in dpkg-gensymbols' warning about new/lost
    libraries.
  * Add -R option to dpkg-buildpackage so that one can replace the usual
    "debian/rules" by something else. Closes: #355654
  * Always list all binary packages in the Description: field of .changes
    files. It's nice for reviewers and mentors.debian.net was using this field
    on source only uploads to display short description of what the package is
    about.
  * Handle the case when the library has a different SONAME than the one used
    to find it. Closes: #462413
  * Fix Dpkg::Version and Dpkg::Fields::Object to import _g() from
    Dpkg::Gettext. Thanks to Adam Heath and Olivier Berger for spotting
    this. Closes: #465651
  * Change PATH during make check to look into build directories containing
    dpkg and the related scripts. Thanks to Mike Frysinger. Closes: #466957
  * Some lintian cleanup:
    - add overrides for some useless I: tags
    - drop unused overrides
    - updated several manual pages to fix hyphen-used-as-minus-sign
    - fixed manpage-has-errors-from-man in several manual pages
    - removed empty debian/dpkg.prerm
  * Removed old upgrade code from dpkg's preinst and postinst which only
    concerns upgrading from dpkg version older than the one in oldstable
    already. And thus we get rid of old the last usage of read in those
    scripts (fixes lintian's warning read-in-maintainer-script).
  * Removed sorting of dependencies in dpkg-gencontrol and dpkg-source. But
    kept it for all other fields (Enhances, Conflicts, Replaces, Breaks,
    Build-Conflicts and Build-Conflicts-Indep).
  * Instead changed dpkg-shlibdeps to sort the dependencies generated in
    ${shlibs:*} variables.
  * Changed the logic of simplification of dependencies: if any dependency
    must be discarded due to another dependency appearing further
    in the field, the superseding dependency will take the place of the
    discarded one. Added a test case for this.
  * dpkg-shlibdeps properly accounts usage of symbols provided by private
    libraries without SONAME. Closes: #469838
  * Add a new warning to dpkg-shlibdeps when a library NEEDED is in fact
    not used by any of the binaries analyzed. Closes: #472332
  * Add a new --warnings=<value> option to select the set of warnings to
    activate. By default, do not activate the warning about useless
    libraries at the binary level (instead the new warning above is activated
    by default: it's less strict and more useful).
  * dpkg-source has been heavily refactored to make it easier to support
    multiple source package formats. Several new source package formats have
    been added:
    - the format "2.0" is the original wig&pen
    - the format "3.0 (quilt)" is based on 2.0. It uses a tarball for the
      debian directory and can thus include binary files. Binaries
      outside of the debian directory can be also included if they
      are listed in debian/source/include-binaries (and option
      --include-binaries will generate this file automatically).
      Closes: #4588, #4628
    - thus it will also preserve timestamps on Debian-provided
      documentation like README.Debian. Closes: #366555
    - it handles an explicit series of patches and the patch can thus be
      named without constraints. Patches can contain arbitrary
      headers/comments between file chunks. Closes: #363018
    - it ignores changes on a number of temporary and VCS-specific files
      by default. Closes: #203792, #323909
    - the patches in debian/patches can remove files. Closes: #12564
    - the patches are applied at unpack time. Closes: #463048
    - the formats "3.0 (quilt/native)" don't include VCS directories by
      default. Closes: #435126
    - the format "3.0 (custom)" can be used to create a source package
      containing arbitrary files. It's useful for helper tools that can
      generate the files by themselves in a more efficient way
      (like all the *-buildpackage tools). Closes: #246918
    - the formats "3.0 (git/bzr)" are experimental formats based
      on corresponding VCS repositories. Thanks to Joey Hess and Colin Watson
      respectively.
  * dpkg-source has a new --no-check option. It disables GPG check and
    checksums checks. Closes: #220758
  * dpkg-shlibdeps is now able to look into directories containing libraries
    used by cross-built binaries provided that the right environment variable
    are set. Closes: #453267
  * Change default value of LDFLAGS (set by dpkg-buildpackage) to ''
    instead of '-Wl,-Bsymbolic-functions'. It's safer at this point of the
    release cycle.
  * dpkg-buildpackage will set PKG_CONFIG_LIBDIR (but not override an existing
    value) in case of cross-compilation so that pkgconfig finds .pc files
    in the directory specific to the target architecture. Closes: #439979

  [ Frank Lichtenheld ]
  * Add a warning in dpkg-buildpackage if the build-dependencies are not
    satisfied during -S. Closes: #445552
  * Add a missing space in the German scripts translation. Closes: #463398
  * Add improved deb-shlibs.5 manual page by Zack Weinberg. Closes: #466135
  * dpkg-buildpackage exports some build related environment variables
    now. Based on a patch by Matthias Klose. Closes: #465282
    (See dpkg-buildpackage(1) and https://wiki.ubuntu.com/DistCompilerFlags
     for details)
  * Add support for use of SHA1 and SHA256 checksums in .dsc and
    .changes files. Information will be available in Checksums-Sha{1,256}
    fields. .changes format version increased to 1.8.
  * Link dselect against libncursesw. Closes: #466321
  * Forward port a patch from the old changelog parser to the new
    one that got lost during the transition. '+' and '.' can now
    be used in distribution names yet again. Reported by dann frazier.
    Closes: #467470

  [ Updated programs translations ]
  * Korean (Changwoo Ryu).
  * Polish (Robert Luberda).
  * Romanian (Eddy Petrişor).
  * Slovak (Ivan Masár). Closes: #471342
  * Swedish (Peter Karlsson).
  * Thai (Theppitak Karoonboonyanan). Closes: #468916

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).
  * Polish (Robert Luberda).
  * Swedish (Peter Karlsson).

  [ Updated dselect translations ]
  * Basque (Piarres Beobide). Closes: #462403

  [ Updated scripts translations ]
  * German (Helge Kreutzmann).
  * Polish (Robert Luberda).
  * Swedish (Peter Karlsson).

  [ Updated dselect translations ]
  * Polish (Robert Luberda).
  * Romanian (Eddy Petrişor).

 -- Guillem Jover <guillem@debian.org>  Sun, 30 Mar 2008 12:48:22 +0300

dpkg (1.14.16.6) unstable; urgency=medium

  * Let dpkg-gensymbols skip directories which are just symlinks when scanning
    the package build dir.
  * Bump urgency to medium to compensate lost days in testing migration due to
    the two last uploads.

 -- Raphaël Hertzog <hertzog@debian.org>  Sat, 26 Jan 2008 19:20:40 +0100

dpkg (1.14.16.5) unstable; urgency=low

  * Fix dpkg-gensymbols handling of #include so that one can include multiple
    times the same file and have it properly taken into account.
  * Add many armel-specific symbols to dpkg-gensymbols' blacklist.
    Closes: #462318

 -- Raphaël Hertzog <hertzog@debian.org>  Thu, 24 Jan 2008 14:20:10 +0100

dpkg (1.14.16.4) unstable; urgency=low

  * Import capit in Dpkg::Cdata from Dpkg::Fields. Closes: #462172

 -- Guillem Jover <guillem@debian.org>  Wed, 23 Jan 2008 08:44:32 +0200

dpkg (1.14.16.3) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Remove the ":utf8" layer that utf8-encodes already valid utf8.
    Closes: #462098
  * Disable variable substitution in dpkg-genchanges. Closes: #462079, #462089

  [ Guillem Jover ]
  * Make start-stop-daemon set the supplementary groups if the real user or
    group are different than the ones we should switch to. Closes: #462075
  * Fix segfault in start-stop-daemon when using --group w/o --chuid (as
    a side effect, using --group alone works for the first time in years).
    Closes: #462072
  * Fix timeout computations for start-stop-daemon --retry option. This has
    not worked properly for a long time (maybe never), but came to light
    due to #460903's fix. Closes: #462104

 -- Guillem Jover <guillem@debian.org>  Tue, 22 Jan 2008 23:39:59 +0200

dpkg (1.14.16.2) unstable; urgency=low

  * Change uid after changing gid and initializing supplementary groups in
    start-stop-daemon. Closes: #462018
  * Change temporary dpkg Breaks on dpkg-dev (= 1.14.13) and (= 1.14.14)
    to Conflicts, so that users from etch can upgrade to sid (or lenny
    once dpkg has migrated).

 -- Guillem Jover <guillem@debian.org>  Tue, 22 Jan 2008 13:05:22 +0200

dpkg (1.14.16.1) unstable; urgency=low

  * Add libtimedate-perl to dpkg-dev's Depends and to Build-Depends.
    Reported by Aurelien Jarno. Closes: #461875

 -- Frank Lichtenheld <djpig@debian.org>  Mon, 21 Jan 2008 12:48:51 +0100

dpkg (1.14.16) unstable; urgency=low

  [ Guillem Jover ]
  * Add build-essential as an implicit Build-Depends in dpkg-checkbuilddeps.
    Closes: #402901
  * Add build-essential to dpkg-dev Recommends.
  * Do not warn about unrecognized Homepage field in binary package stanzas
    in dpkg-genchanges and dpkg-source. Closes: #460309
  * Do not use the enoent helper binary, and use perl POSIX module instead.
  * Keep checking for the process when start-stop-daemon is called with
    --retry even if the daemon removed the pidfile. Closes: #460903
    Thanks to Justin Pryzby for the analysis.
  * Make --quiet silence --test in start-stop-daemon. Closes: #367998
  * Check current uid and gid in start-stop-daemon before calling setuid,
    setgid and initgroups. Closes: #222524
    Based on a patch by Samuel Thibault.
  * Remove unimplemented --test option from update-alternatives.
    Closes: #392432, #461247
  * Additionally check if errno is EEXIST after rmdir(2), as SUSv3 specifies
    that on non-empty directories it can either return that or ENOTEMPTY.
    This fixes run time problems on Solaris.
  * Fix start-stop-daemon --help output to state that --name is one of the
    possible required options to use. Closes: #354999
  * Demote dselect from priority important to optional. Closes: #461327
  * Fix portability issues on HP-UX, by not using backticks inside double
    quotes in m4 files. Closes: #24514
  * Switch Maintainer address to <debian-dpkg@lists.debian.org> from
    <team@dpkg.org>.
  * Add README.feature-removal-schedule describing the features to be removed
    and README.api describing the provided APIs.

  [ Frank Lichtenheld ]
  * Make the -L option of dpkg-parsechangelog actually work (it's
    only been eleven years...)
  * Import the code from my external Parse::DebianChangelog as
    Dpkg::Changelog and Dpkg::Changelog::Debian. Using this
    from parsechangelog/debian adds the following requested
    features:
     - Option to use a non-lossy format. Closes: #95579
     - Various options to better control how many entries
       should be displayed. Closes: #226932

  [ Raphaël Hertzog ]
  * Replaced all the remaining code in controllib.pl by new modules. All
    scripts have been adjusted to use the new modules and controllib.pl has
    been removed.
  * The code to parse debian/control is available in a perl module
    Dpkg::Control. Closes: #26554
  * Temporarily add a Breaks: dpkg-dev (= 1.14.13), dpkg-dev (= 1.14.14) on
    dpkg for the convenience of sid users. Closes: #459815
  * Update dpkg-source(1) to explain better what the directory after -b is.
    Closes: #323606
  * Also force version in ${binary:Version} if dpkg-gencontrol -v<version>
    is used. That way we're consistent with the definition of that variable
    in deb-substvars(5). Closes: #433477
  * Add support of Dm-Upload-Allowed field. Closes: #453400
  * Fix dpkg-shlibdeps' filtering of duplicated dependencies in fields of
    lesser priority (when -d is used).
  * Fix behaviour of dpkg-shlibdeps when the same binary was passed multiple
    times for use in different dependency fields (-d option).
  * Change logic of -si option of dpkg-genchanges to include the original
    tarball only if the current upstream version differs from the upstream
    version of the previous changelog entry. Replaces the heuristic based
    on revision number (-0, -0.1 or -1). Closes: #28701
  * Some code refactoring on dpkg-genchanges and bug fixes in the generation
    of the Description: field. As a result, source only uploads will no more
    have Description fields.
  * Add support of wildcard entries in symbols files. This makes it much
    simpler to write symbols files for well managed libraries but in that case
    dpkg-gensymbols can't check any more if symbols have disappeared.
    Closes: #459359

  [ Updated man pages translations ]
  * Fix typo in French. Closes: #460021
  * German (Helge Kreutzmann).

  [ Updated programs translations ]
  * Basque (Piarres Beobide). Closes: #459565
  * French (Christian Perrier).
  * German, Basque, Norwegian Bokmål, Swedish, Vietnamese, Simplified Chinese,
    Galician unfuzzied.
  * Russian (Yuri Kozlov). Closes: #460708

  [ Updated scripts translations ]
  * Russian (Yuri Kozlov). Closes: #460709
  * Swedish (Peter Karlsson).

 -- Guillem Jover <guillem@debian.org>  Mon, 21 Jan 2008 10:00:45 +0200

dpkg (1.14.15) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Make sure {dpkg-dev,dselect}.preinst are included in the source tarball.
    Closes: #452730
  * Blacklist armel-specific symbols in dpkg-gensymbols. Reported by Riku
    Voipio. Closes: #457964
  * Fix typos in various manpages. Patch from A. Costa. Closes: #458276
  * Make dpkg-shlibdeps choose the right symbols files when we have several
    debian/*/DEBIAN/symbols for a given soname. Closes: #458860
  * Add a -S<pkgbuilddir> option to dpkg-shlibdeps to indicate a package build
    tree to scan first when trying to find a needed library.
  * Change dpkg-gensymbols to mark symbols that disappeared with #MISSING
    instead of #DEPRECATED, it's clearer for people.
  * Fix Dpkg::Shlibs::Objdump to properly take into account R_*_COPY
    relocations. Closes: #454036
  * Explain better the order in which postinst/prerm scripts are called
    between a package and its dependencies. Thanks to Nicolas François and
    Helge Kreutzmann for their suggestions. Closes: #379641
  * Fix Dpkg::BuildOptions so that dpkg-buildpackage doesn't double all
    options in DEB_BUILD_OPTIONS when called with the -j parameter.
    Closes: #453656

  [ Guillem Jover ]
  * Move compression related variables to a new Dpkg::Compression module.
  * Remove disabled, obsolete and quite incomplete Hebrew translations.
  * Revert dpkg-dev versioned dependency bump on dpkg >= 1.14.13 back to
    >= 1.14.6, as the compression variables are now in a module in dpkg-dev.
  * Do not display garbage in dselect on monochrome terminals, by setting
    a missing ncurses character attribute. Closes: #155741, #157093
    Thanks to Sven Rudolph.
  * Do not loop endlessly in dselect with very long package descriptions.
    Closes: #179320, #342495
    Thanks to John Zaitseff.
  * Ignore wrapped lines in install-info when matching section titles.
    Closes: #214684
    Thanks to Andreas Metzler and Ian Zimmerman.
  * Do not use strdup for execvp arguments. Closes: #379027
  * Do not print 'failed to kill' warning in start-stop-daemon when polling
    the pid. Closes: #157305, #352554
    Thanks to Samuel Thibault.
  * Properly print build message in dpkg-buildpackage for lzma and bzip2
    compressed sources. Closes: #458519
  * Promote bzip2 Recommends to Depends for dpkg-dev. Closes: #458521
  * Add lzma to dpkg-dev Depends.
  * Do not automatically enable -j if DEB_BUILD_OPTIONS contains parallel=n,
    and allow overriding its value from the environment. Closes: #458589
  * Fix Dpkg::BuildOptions to parse all options in DEB_BUILD_OPTIONS, so
    that dpkg-buildpackage called with -j preserves unrecognized options.
  * Fix several signed vs unsigned value comparisons that were making some
    code to never be executed.

  [ Updated programs translations ]
  * French (Christian Perrier).
  * German (Sven Joachim). Closes: #459223
  * Norwegian Bokmål (Hans Fredrik Nordhaug). Closes: #457918, #458732
  * Simplified Chinese (Deng Xiyue). Closes: #459018
  * Swedish (Peter Karlsson).
  * Vietnamese (Clytie Siddall). Closes: #459016

  [ Updated scripts translations ]
  * French (Christian Perrier).
  * Swedish (Peter Karlsson).

  [ Updated man pages translations ]
  * Swedish (Peter Karlsson).

 -- Guillem Jover <guillem@debian.org>  Mon, 07 Jan 2008 12:12:16 +0200

dpkg (1.14.14) unstable; urgency=low

  * Fix override disparity: set priority of dselect to important.
  * Add libio-string-perl to Build-Depends as it's needed by a non-regression
    test (fix FTBFS, thus a quick upload).
  * Make dpkg-dev depend on dpkg (>= 1.14.13) as the latest Dpkg.pm is needed
    for dpkg-source.

 -- Raphaël Hertzog <hertzog@debian.org>  Thu, 27 Dec 2007 11:20:38 +0100

dpkg (1.14.13) unstable; urgency=low

  [ Frank Lichtenheld ]
  * Add an own manpage for Dpkg's version format. Mostly stolen
    from policy. Closes: #373003
  * Fix control file parsing for field values starting with a colon.
    Apparently nobody ever needed this until Vcs-Cvs came along.
    Closes: #453364
  * Copy the usr/share/doc directory to dpkg-dev and dselect (Instead
    of using symlinks). The space requirements are minimal and adding
    the needed dependencies to comply with policy would be way more
    inconvenient. Pointed out by Rene Engelhard. Closes: #452730
  * Allow more than one arch and more than one type of a package
    in debian/files. Parts of the patch by Goswin von Brederlow
    and Bastian Blank. Closes: #356299, #377400, #229143
  * Allow building only architecture independent packages (-A).
    Closes: #109794, #200454
  * Bump Standards-Version to 3.7.3 (no changes)

  [ Raphaël Hertzog ]
  * When dpkg-shlibdeps finds a lib in a directory which is just a symlink to
    another directory that is also considered, remember the other directory
    name as the canonical one. Closes: #453885
  * dpkg-shlibdeps doesn't warn any more about libm.so.6 being unused if the
    binary is also linked against libstdc++ since g++ always add an implicit
    -lm. Closes: #454616
  * Included files in symbols files (via #include) do no more need to repeat
    the header line. Closes: #455260
  * Tweak the sort algorithm between dependencies so that intervals
    are displayed as "a (>= 1), a (<< 2)" instead of the opposite.
    Closes: #455520
  * Extend format of symbols files to support arbitrary fields of
    meta-information. First field is Build-Depends-Package used to extract the
    version requirement possibly encoded in the Build-Depends field and make
    sure that the generated dependency is at least as strict as this one.
  * Fix dpkg-gensymbols to not update version info of a deprecated symbol.
    Closes: #457739
  * Fix dpkg-source's behaviour with options -sk -sK -sp -sP. Closes: #457784

  [ Guillem Jover ]
  * Ignore the man pages when building without NLS support. Closes: #457673
  * Fix perl warnings:
    - Check for undefined values when reading from the alternative db.
  * Properly handle symlinks for alternatives with nonexistent slave links.
    Closes: #76295, #246906, #433567, #451872, #220044, #392440, #441021
    Closes: #443241
    Based on a patch by Daniel Leidert <daniel.leidert@wgdd.de>.
  * Fail when diverting to a non existent directory. Closes: #245562
    Thanks to Flavio Stanchina <flavio@stanchina.net>.
  * Refactor update-alternatives.

  [ Updated programs translations ]
  * French (Christian Perrier, as this was trivial).
  * Spanish (Javier Fernández-Sanguino Peña). Closes: #456984
  * Swedish (Peter Karlsson).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).
  * Swedish (Peter Karlsson).

  [ Updated scripts translations ]
  * French (Frédéric Bothamy).
  * German (Helge Kreutzmann).
  * Japanese (Kenshi Muto). Closes: #455841
  * Swedish (Peter Karlsson).

 -- Guillem Jover <guillem@debian.org>  Thu, 27 Dec 2007 09:16:45 +0200

dpkg (1.14.12) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Add -I<file> option to dpkg-gensymbols to force the usage of a specific
    symbols file.
  * Dpkg::Shlibs::find_library() now returns canonicalized paths.
  * dpkg-shlibdeps always tries the realpath() of a lib as fallback when
    trying to identify the package of a lib (and not only for symlinks).
  * dpkg-shlibdeps doesn't fail any more if it can't find unversioned
    libraries on the presumption that they are just private libraries. Outputs
    a warning instead.
  * Expand the dpkg-shlibdeps manual page with explanations concerning
    failures.
  * The environment variable DPKG_GENSYMBOLS_CHECK_LEVEL can be used to force
    dpkg-gensymbols to use a precise level of checks. Closes: #452022

  [ Guillem Jover ]
  * Define several private functions and variables as static.
  * Move extern declarations to header files and stop defining them as extern.
  * Unify parsing of Section and Priority in dpkg-gencontrol with Homepage.
  * Switch dpkg-scanpackages to use the new Dpkg::ErrorHandling and
    Dpkg::Versions modules.

 -- Guillem Jover <guillem@debian.org>  Thu, 29 Nov 2007 06:14:09 +0200

dpkg (1.14.11) unstable; urgency=low

  [ Raphaël Hertzog ]
  * dpkg-shlibdeps now ignores the lack of dependency information in some
    specific cases (instead of failing):
    - when the library is in the same package than the binary analyzed
    - when the library is not versioned and can't have a shlibs file
  * dpkg-shlibdeps now only displays 10 warnings about symbols not found for
    each binary and a count of skipped warnings. Closes: #452318
  * dpkg-shlibdeps: optimize "dpkg -S" lookups by caching results, patch
    from Aaron M. Ucko <ucko@debian.org>. Closes: #452577

  [ Guillem Jover ]
  * Fix dpkg-scanpackages to properly support an optional override file.
    Closes: #452621

 -- Guillem Jover <guillem@debian.org>  Sat, 24 Nov 2007 07:19:02 +0200

dpkg (1.14.10) unstable; urgency=low

  [ Raphaël Hertzog ]
  * dpkg-shlibdeps now correctly identify private libraries (avoid many
    warnings with perl/python modules). Closes: #452338
  * Move capit() to a Dpkg::Fields module and use it in dpkg-shlibdeps.
    Closes: #452262
  * Add more debug messages to dpkg-shlibdeps to ease collecting information
    in case of problems.
  * dpkg-shlibdeps now accepts again empty dependencies in shlibs files.
  * dpkg-shlibdeps will try harder to identify packages providing a library
    by looking up dpkg -S on the realpath of any symlink to a library.
    Closes: #452339
  * dpkg-source now correctly identifies the extension of the
    orig.tar.{gz,bz2,lzma} file and won't unexpectedly create "Format: 2.0"
    .dsc files.

  [ Guillem Jover ]
  * Add support for Package-Type in dpkg-name.
  * Restore cross compilation support by honouring the environment host and
    arch variables to override the default values on the dpkg-dev scripts.

  [ Updated man pages translations ]
  * Swedish (Peter Karlsson)

  [ Added scripts translations ]
  * Swedish (Peter Karlsson)

 -- Guillem Jover <guillem@debian.org>  Fri, 23 Nov 2007 06:32:27 +0200

dpkg (1.14.9) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Fix bad behaviour of Dpkg::Path::get_pkg_root_dir() and adjust
    dpkg-shlibdeps accordingly. Closes: #452012
  * Fix Dpkg::Deps to accept empty fields. Closes: #452013

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Guillem Jover <guillem@debian.org>  Tue, 20 Nov 2007 07:15:41 +0200

dpkg (1.14.8) unstable; urgency=low

  [ Raphaël Hertzog ]
  * Heavy rework of dpkg-shlibdeps:
    - Support "symbols" files to generate finer-grained dependencies.
      Those files can be created by the new dpkg-gensymbols command.
      Closes: #430367
    - Uses now all paths in RPATH (instead of only the first).
      Closes: #395942
    - Support parsing include directives in /etc/ld.so.conf. Closes: #431597
    - Libraries are also searched in the public directories of packages
      being built and thus debian/shlibs.local can effectively define
      dependencies for libraries that are being built. Closes: #80340
    - "symbols" files use the full SONAME as key instead of splitting it in
      (name, version) like in the "shlibs" format. This allows binaries to
      be linked with unversioned libraries and not fail. Note that
      unversioned libraries are still a very bad idea.  Closes: #48208
    - dpkg-shlibdeps now supports '-x<package>' options that can be used to
      exclude packages from generated dependencies (use with care though).
      Closes: #41907, #109954
    - If dpkg-shlibdeps doesn't find any dependency information for a
      shared library that is actively used, then it will fail. This can be
      disabled with the option '--ignore-missing-info'. Closes: #10807
  * Switch perl programs to use the new Dpkg::Deps module. This changes the
    behaviour of dpkg-gencontrol and dpkg-source which will rewrite and
    simplify dependencies and build dependencies as possible. Multiple
    dependencies on the same package are replaced by their intersection.
    Closes: #178203, #186809, #222652

  [ Frank Lichtenheld ]
  * Add $(MAKE) check to build target
  * Allow using other compressions than gzip on dpkg-source -b
    (NOTE: this will result in a Format: 2.0 source package!).
    Closes: #382673
  * Various small fixes to the manpages suggested by Helge Kreutzmann.
    Closes: #445858
  * Fix Dpkg::BuildOptions (and thereby dpkg-buildpackage) to really
    set DEB_BUILD_OPTIONS. Found by Daniel Shepler. Closes: #446119
  * Change some ' in shell code in dpkg-source.1 and dpkg-query.1 to
    proper \(aq. Reported by Daniel van Eeden. Closes: #447476

  [ Guillem Jover ]
  * Use shipped perl modules when calling perl programs at build time.
  * Switch perl programs to use the new Dpkg::ErrorHandling and Dpkg::Arch
    perl modules.
  * Add support for format strings in Dpkg::ErrorHandling functions.
  * Move build and host arch detection code from dpkg-architecture to
    Dpkg::Arch.
  * Add initial udeb support:
    - Support new fields Package-Type, Subarchitecture, Kernel-Version
      and Installer-Menu-Item. Closes: #383916
    - New '--type' option for dpkg-scanpackages.
  * Make dpkg-dev Conflict on dpkg-cross << 2.0.0 which was sourcing
    dpkg-buildpackage expecting it to be a shell script. Closes: #445852
  * Get rid of undefined macros from man pages. Thanks to Colin Watson
    for the analysis.

  [ Updated dselect translations ]
  * Czech (Miroslav Kure).

  [ Added programs translations ]
  * Thai (Theppitak Karoonboonyanan). Closes: #446501

  [ Updated programs translations ]
  * Czech (Miroslav Kure).
  * Galician (Jacobo Tarrio). Closes: #446624
  * Polish (Robert Luberda).
  * Russian (Yuri Kozlov). Closes: #446278

  [ Updated man pages translations ]
  * German (Helge Kreutzmann). Closes: #448354
  * Polish (Robert Luberda).
  * Swedish (Peter Karlsson).

  [ Added scripts translations ]
  * German (Helge Kreutzmann). Closes: #448353

  [ Updated scripts translations ]
  * Polish (Robert Luberda).
  * Swedish (Peter Karlsson).

 -- Guillem Jover <guillem@debian.org>  Mon, 19 Nov 2007 10:36:30 +0200

dpkg (1.14.7) unstable; urgency=low

  [ Guillem Jover ]
  * Add back $dpkglib into @INC, needed by the controllib.pl require in
    822-date. Closes: #440962
  * Document in dpkg-scanpackages that apt now requires Packages.bz2 in
    preference to Packages.gz. Closes: #440973
  * Stop recognizing the obsolete Optional field when building packages.
  * Use fakeroot, if present, by default to gain root privileges in
    dpkg-buildpackage.
  * Fix typos in dpkg-deb.1 and start-stop-daemon.8. Closes: #441051
    Thanks to A. Costa.
  * After '<prerm> remove' fails and while doing the error unwinding, if
    the '<postinst> abort-remove' call succeeds, preserve the old status
    instead of unconditionally setting it to 'Installed'. Closes: #432893
    Thanks to Brian M. Carlson.
  * Add Vcs-Browser and Vcs-Git fields to debian/control.
  * Add a Homepage field to debian/control (to be changed later when
    there's a more formal site).
  * Allow comparing unsupported architectures for equality and identity.
    Based on a patch by Frank Lichtenheld. Closes: #427210
  * Document Origin and Bugs fields in deb-control.5. Closes: #173463
  * Do not replace substvars for build dependencies (it was not supported
    anyway).

  [ Frank Lichtenheld ]
  * Add _MTN to dpkg-source -i default regex. Suggested by Jari Aalto.
  * Convert dpkg-buildpackage to a Perl script.
    Fix some bugs in the new script detected in experimental:
    Closes: #444362
  * dpkg-buildpackage accepts a -j<n> option now which will set
    MAKEFLAGS(-j<n>) and DEB_BUILD_OPTIONS(parallel=<n>) accordingly.
    parallel=<n> in DEB_BUILD_OPTIONS will be passed to MAKEFLAGS as
    well. Based on an idea by Robert Millan. Closes: #440636
  * Allow dpkg-source -I without a pattern which will load a default
    list of pattern similar to -i without regexp. Patch by
    Jari Aalto. Closes: #440972
  * Rework documentation of dpkg-source's -i and -I options.
    Closes: #323911, #440956
  * Add --utf8-strings to gpg call in dpkg-buildpackage since
    that seems to be the better default. Suggested by Székelyi Szabolcs.
    Closes: #379418
  * Let dpkg-buildpackage error out early if the version number from
    the changelog is not a valid Debian version. Closes: #216075
  * Fix dpkg-source to create correct diffs for files with spaces in
    their name (apparently we don't have many of those ;).
    Based on a patch by Marcel Toele. Closes: #445380

  [ Updated programs translations ]
  * Basque (Piarres Beobide). Closes: #440859
  * Danish (Claus Hindsgaul). Closes: #441106
  * French (Frédéric Bothamy).
  * German (Sven Joachim). Closes: #440537
  * Nepali (Shiva Prasad Pokharel). Closes: #437825
  * Portuguese (Miguel Figueiredo). Closes: #441113
  * Romanian (Eddy Petrişor).
  * Vietnamese (Clytie Siddall). Closes: #440502
  * Korean (Sunjae Park). Closes: #443190

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).
  * Swedish (Peter Karlsson).
  * Korean (Sunjae Park). Closes: #443191

  [ Updated scripts translations ]
  * Correct a typo in the French translation. Closes: #443276
  * Swedish (Peter Karlsson).

 -- Guillem Jover <guillem@debian.org>  Mon, 08 Oct 2007 07:31:34 +0300

dpkg (1.14.6) unstable; urgency=low

  [ Frank Lichtenheld ]
  * Synchronise usage information of dpkg, dpkg-deb, and
    dpkg-query man pages. This fixes some small mistakes
    and also Closes: #321520

  [ Guillem Jover ]
  * Man pages cleanup:
    - Some italics and bold fixes.
    - Unify ellipsis, argument separator, and remove redundant program name
      preceding the options.
    - Substitute 'FILES' header with 'SEE ALSO' in dpkg-buildpackage(1),
      and remove leftover string from man page split. Closes: #439306
    - Split option descriptions so that it gets easier to distinguish.
    - Unify author and copyright information formatting.
  * Move variables automatically modified at build time for the perl scripts
    to a new style perl module (Dpkg) and make all programs use it.
  * Switch 'dpkg-gettext.pl' to a new style perl module (Dpkg::Gettext).
  * Implement support for Breaks field. Closes: #379140
    Thanks to Ian Jackson.
  * Run the deconfiguration of each package to be deconfigured once, instead
    of once per each conflicting package being removed. Closes: #378003
    Thanks to Ian Jackson.
  * Do not segfault when the result from a 'dpkg-query -l' is bigger than
    the total number of current packages, and do not produce repeated
    results with overlapping patterns on 'dpkg-query -W'. Closes: #428427
  * Tightening dpkg-dev versioned Depends to dpkg 1.14.6, and dpkg Conflicts
    against << dpkg-dev 1.14.6, where the perl modularization started.
  * Do not print empty lines after 'Setting up ...' output. Closes: #392317
  * When a slave alternative is inapplicable do not attempt to create the
    slave link before removing it again. Closes: #411699
    Thanks to Ian Jackson.
  * Do not consider it a file conflict if the package contains a symlink
    to a directory where the existing symlink on-disk points to the
    same place. Closes: #377682
    Thanks to Ian Jackson.
  * Fix perl warnings:
    - When removing a non diverted file with dpkg-divert. Closes: #438416
  * Implement support for Homepage field. Closes: #142324
  * Ignore XB- fields instead of XC- fields from control file binary package
    stanzas in dpkg-genchanges.
  * Explicitly ignore all known fields from the control file source package
    stanza in dpkg-genchanges, instead of leaving unknown fields unwarned.
  * Implement support for Vcs-Browser, Vcs-Arch, Vcs-Bzr, Vcs-Cvs, Vcs-Darcs,
    Vcs-Git, Vcs-Hg, Vcs-Mtn and Vcs-Svn fields in control file source
    package stanza.
  * Implement support for Tag field.

  [ Updated scripts translations ]
  * French (Frédéric Bothamy, Christian Perrier).
  * Swedish (Peter Karlsson).

  [ Updated programs translations ]
  * Dzongkha (Tshewang Norbu). Closes: #430931
  * Nepali (Shiva Prasad Pokharel). Closes: #435353
  * Polish (Robert Luberda).
  * Russian (Yuri Kozlov). Closes: #436147
  * Swedish (Peter Karlsson).

  [ Updated dselect translations ]
  * Russian (Yuri Kozlov). Closes: #436149
  * Swedish (Peter Karlsson).

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).
  * Polish (Robert Luberda).
  * Swedish (Peter Karlsson).

 -- Guillem Jover <guillem@debian.org>  Wed, 05 Sep 2007 07:36:02 +0300

dpkg (1.14.5) unstable; urgency=low

  [ Guillem Jover ]
  * Add lpia support to ostable and triplettable.
  * Fix dpkg-source to not emit duplicated entries for the Architecture field
    in the .dsc file.
  * Fix dpkg-scanpackages to load the override file after having filled the
    packages information. Closes: #428169, #428470
  * Add '.shelf' to the default dpkg-source -i regex. Closes: #427827
    Thanks to Adeodato Simó.
  * Support a colon separated list of paths from the ELF RPATH field in
    dpkg-shlibdeps. Thanks to Jiří Paleček. Closes: #427988
  * Man pages cleanup:
    - Reference deb-substvars(5) instead of dpkg-substvars(5). Closes: #429182
    - Mark dpkg-* commands in bold.
    - Unify title header.
    - Remove an additional space in install-info(8) and mark gzip in bold
      and remove redundant reference to GNU.
    - Fix explanation of dpkg-source '-b' option, remove a reference to
      checking for a missing empty string argument, and add a reference
      to '-sX' arguments affecting the behaviour. Closes: #428167
    - Remove documented dpkg-gencontrol options in dpkg-source left over
      from the man pages split.

  [ Frank Lichtenheld ]
  * Fix typo in German translation of start-stop-daemon(8).
    Noted by Joachim Breitner. Closes: #430008
  * Correct permission and owner/group handling when extracting
    tar balls to match more the user's preferences instead of
    ours or the ones from the originator of the tar ball. Patch
    by Ian Jackson. Closes: #390915, #207289
  * dpkg-source warns now about new empty files since those will
    not be represented in the diff. Closes: #383394

  [ Updated dselect translations ]
  * French (Christian Perrier).
  * Romanian (Eddy Petrişor).

  [ Updated programs translations ]
  * Estonian (Ivar Smolin). Closes: #427589
  * Portuguese (Miguel Figueiredo).
  * Romanian (Eddy Petrişor).
  * Spanish (Javier Fernandez-Sanguino). Closes: #429958

  [ Updated man pages translations ]
  * German (Helge Kreutzmann).

 -- Frank Lichtenheld <djpig@debian.org>  Tue, 03 Jul 2007 00:27:07 +0200

dpkg (1.14.4) unstable; urgency=low

  [ Guillem Jover ]
  * Fix perl warnings:
    - When unpacking a source package with -sp from a different directory
      than the one containing the tarball. Closes: #424998
  * Remove an unused variable in dpkg-statoverride by renaming it to the
    initially intended name. Closes: #425041
  * Fix loose regex in dpkg-source (/\.debian.tar/ -> /\.debian\.tar/).
    Thanks to Kylan Robinson. Closes: #425629
  * Revert change on 1.14.0 from Aaron M. Ucko. Trim down duped entries only
    when passing them to dpkg-query instead. Closes: #425641
  * Recognize again architecture wildcards. Closes: #424670

  [ Updated programs translations ]
  * Basque (Piarres Beobide). Closes: #425776
  * French (Frédéric Bothamy).
  * Galician (Jacobo Tarrío).

 -- Guillem Jover <guillem@debian.org>  Thu, 24 May 2007 19:30:26 +0300

dpkg (1.14.3) unstable; urgency=low

  [ Guillem Jover ]
  * Fix perl warnings:
    - In dpkg-genchanges when called with -S. Closes: #423193
    - In architecture comparison operations. Closes: #423452
    - Fill slavepaths undefined entries with an empty string to guarantee
      they are always defined. Closes: #423140, #423451, #423544, #423555
  * Include the new split man pages deb-substvars.5, deb-override.5 and
    deb-shlibs.5 in dpkg-dev.
  * Fix deb-substvars.5 section to match reality.
  * Refactor update-alternatives.
  * Fix dpkg-divert to work again w/o specifying the '--divert' and
    '--package' or '--local' options. Closes: #423864
  * Document in install-info.8 that when no '--section' option is specified,
    install-info will try to use the INFO-DIR-SECTION entry from the info
    file. Add missing commas. Thanks to Kurt B. Kaiser. Closes: #397737
  * Disambiguate in install-info.8 the use of 'Info directory' with
    'Info dir file'. Closes: #420766
  * Document in deb-control.5 that the control file can have '#'-style
    comments. Closes: #406481
  * Make start-stop-daemon fork twice while daemonizing.

  [ Updated scripts translations ]
  * French (Frédéric Bothamy). Closes: #423392

  [ Updated programs translations ]
  * French (Christian Perrier).
  * German (Sven Joachim). Closes: #423401

  [ Updated dselect translations ]
  * German (Sven Joachim). Closes: #423403

 -- Guillem Jover <guillem@debian.org>  Tue, 15 May 2007 16:02:59 +0300

dpkg (1.14.2) unstable; urgency=low

  [ Guillem Jover ]
  * Remove bashisms in dpkg-buildpackage. Closes: #422239
  * Handle case in update-alternatives when there's no existing alternative
    to configure. Closes: #260987, #353252, #367717, #392431
  * Add solaris support to ostable and triplettable. Closes: #361866
  * Properly create the generic name symlink in update-alternatives for new
    alternatives. Closes: #422979
  * Include translations again, which disappeared due to a dirty source tree
    and a bogus Makefile.am for the man pages. Closes: #423029, #423085

 -- Guillem Jover <guillem@debian.org>  Wed, 09 May 2007 22:22:45 +0300

dpkg (1.14.1) unstable; urgency=low

  [ Guillem Jover ]
  * Fix partial upgrades by tightening dpkg-dev versioned Depends to
    dpkg 1.14.0, and dpkg Conflicts against << dpkg-dev 1.14.0, where
    the triplettable support first appeared. Closes: #422848

 -- Guillem Jover <guillem@debian.org>  Tue, 08 May 2007 18:23:49 +0300

dpkg (1.14.0) unstable; urgency=low

  [ Guillem Jover ]
  * Make the copyright information in dpkg-deb.1 and dpkg-split.1 match the
    one in the source. Thanks to Nicolas François. Closes: #379320
  * Allow dpkg-buildpackage to properly override '-b' when passed after '-B'.
    Thanks to Julian Gilbey. Closes: #397479
  * Move retrieval of uid and gid information from controllib.pl into a
    function, so that scripts not needing it do not execute that code.
    Based on a patch by Riku Voipio. Closes: #396884
  * Do not bail out in dpkg when building without start-stop-daemon support,
    by checking if the macro value is true instead of it being defined.
    Thanks to Mark Rosenstand.
  * Make all perl scripts use strict and warnings, to ease catching errors.
  * Refactor update-alternatives code, with the side effect that now commands
    on non existing link group files will return an error code (except
    for --remove, now). Closes: #273407
  * Add a missing newline to a warning message in dpkg. Closes: #390914
    Thanks to Ian Jackson.
  * Fix typo in variable name in dpkg-source which was causing it to not
    create directories when extracting the diff. Closes: #374645
  * Fix up and down keystrokes in the dselect help message. Closes: #383438
    Thanks to Sven Joachim.
  * Convert 822-date to be a simple wrapper around 'date -R'. 822-date is
    now deprecated and should not be used anymore. It might be removed
    sometime in the future. Closes: #31634, #367712, #314462
    Thanks to Frank Lichtenheld.
  * Add '.gitignore' to the default dpkg-source -i regex. Closes: #409566
    Thanks to Julien Cristau.
  * Add '.hg' to the default dpkg-source -i regex. Closes: #414794
  * Use l10n-friendlier strings to describe dependencies. Closes: #390916
    Thanks to Ian Jackson.
  * Change priority for dpkg-dev from standard to optional to match the
    override.
  * Do not use a build-stamp in debian/rules.
  * Fix confusing bottom status lines in dselect, unifying them by removing
    the method or package name and capitalizing. Closes: #9085
  * Check proper error value returned by BZ2_bzerror. Closes: #410605
  * Exit with an error instead of an assert if a file name is too long when
    building a .deb package. Closes: #393069
  * Exit with an error instead of an assert if the number of conflictors is
    exceeded. Remove bogus comments. Closes: #377855
  * Fix regular expression special-casing Origin, Bugs and Maintainer fields
    which was making X[SBC]- fields containing such strings to propagate into
    the .deb control file unprocessed. Thanks to Colin Watson.
  * Add support for '--admindir' in dpkg-buildpackage, dpkg-checkbuilddeps
    and dpkg-shlibdeps. Closes: #162348
  * Cleaning and format unification of manual pages.
  * Make the override-file argument to dpkg-scanpackages optional.
  * Refactor compression filtering code.
  * Split override file information from dpkg-scanpackages.1 into
    deb-override.5 manual page.
  * Split dpkg-source.1 into independent man pages, namely deb-substvars.5,
    deb-shlibs.5, dpkg-buildpackage.1, dpkg-distaddfile.1, dpkg-genchanges.1,
    dpkg-gencontrol.1, dpkg-parsechangelog.1 and dpkg-shlibdeps.1.
  * Support building binary packages with the member data.tar.lzma compressed
    with lzma.
  * Require gettext 0.16.1.
  * Show the epoch (if present) when displaying package versions.
    Closes: #107449, #179913, #345594, #393924, #405668
    Based on a patch by Jeffrey W. Baker.
  * Switch from pseudo-tags to usertags, and update the documentation.
  * Fix typo in German dpkg man page. Closes: #416167
    Thanks to Martin Weis.
  * Properly sort Uploaders field in generated .dsc files.
  * Reorder a bit the fields in output files.
  * Speed up dpkg-shlibdeps by avoiding doing a dpkg-query for duped
    libraries. Thanks to Aaron M. Ucko. Closes: #421290
  * Generalize source architecture handling by abstracting it through the new
    Debian triplet and the new triplettable.
  * Add armel support to ostable and triplettable. Closes: #414087

  [ Updated programs translations ]
  * Dutch (Bart Cornelis).
  * French (Frédéric Bothamy).
  * Polish (Robert Luberda).
  * Romanian (Eddy Petrişor).
  * Simplified Chinese (Anthony Wong). Closes: #415320
  * Traditional Chinese (Anthony Wong). Closes: #415230

  [ Added programs translations ]
  * Estonian added (Ivar Smolin). Closes: #422404
  * Kurdish added (Erdal Ronahi). Closes: #418154
  * Marathi added (Priti Patil). Closes: #416810

  [ Updated man pages translations ]
  * German (German l10n team). Closes: #418528
  * Polish (Robert Luberda).

  [ Updated dselect translations ]
  * Dutch (Bart Cornelis).
  * Polish (Robert Luberda).

 -- Guillem Jover <guillem@debian.org>  Tue, 08 May 2007 11:11:50 +0300

dpkg (1.13.25) unstable; urgency=low

  [ Guillem Jover ]
  * Fix year 2018 in changelog for Michael Alan Dorman's upload in 1998,
    which was confusing the changelog parsers. Closes: #402526
  * Document in its man page that update-alternatives requires cooperation
    from all packages dealing with the specific file. Closes: #396338
    Thanks to Tomas Pospisek <tpo_deb@sourcepole.ch>.
  * Require POSIX inside subprocerr in controllib.pl. Closes: #390636
    Thanks to Brendan O'Dea <bod@debian.org>.
  * Support extracting lzma compressed source and binary packages,
    and add a Suggests on package lzma. Closes: #347715
  * Add '/emul/ia32-linux' biarch paths to dpkg-shlibdeps. Closes: #403216
  * Remove non-modified /etc/dpkg/dpkg.cfg configuration file when upgrading
    from versions 1.9.21 through 1.10.28, to avoid getting prompted about
    conffile changes. Closes: #398061

  [ Updated programs translations ]
  * Chinese (Traditional, Asho Yeh).
  * Korean (Sunjae Park). Closes: #394135, #404938
  * Norwegian Bokmal (Hans Fredrik Nordhaug). Closes: #391143
  * Nepali (Shiva Prasad Pokharel).
  * Romanian (Eddy Petrişor).
  * Catalan (Jordà Polo).
  * Swedish (Peter Karlsson).
  * Vietnamese (Clytie Siddall). Closes: #399343

  [ Added programs translations ]
  * Punjabi (A S Alam).

  [ Updated scripts translations ]
  * Catalan (Jordi Mallach).

  [ Updated dselect translations ]
  * Korean (Sunjae Park). Closes: #404943

 -- Guillem Jover <guillem@debian.org>  Tue,  2 Jan 2007 00:23:57 +0200

dpkg (1.13.24) unstable; urgency=low

  [ Guillem Jover ]
  * Fix dselect segfault by adding a field description matching the
    dependency field enum position. Closes: #392731, #392724

  [ Updated programs translations ]
  * Nepali (Shiva Prasad Pokharel). Closes: #373728

 -- Guillem Jover <guillem@debian.org>  Fri, 13 Oct 2006 16:34:39 +0300

dpkg (1.13.23) unstable; urgency=low

  [ Guillem Jover ]
  * Add initial support for the Breaks field, by parsing but rejecting it.
    Thanks to Ian Jackson <iwj@ubuntu.com>. Closes: #375703
  * Use dpkg-architecture from the source tree to get the target Debian
    architecture, instead of duplicating the logic in the m4 files.
  * Remove comment headers in dselect/helpmsgs.{cc,h} about the files being
    autogenerated, replace them with a proper license and copyright comment.
    Closes: #382308
  * Add a new line at the end of m4/compiler.m4 file, to cope with an
    autoreconf failure due to the new m4 1.4.7.

  [ Nicolas François ]
  * Specify --null before the -T tar's option to avoid the "tar: -: file name
    read contains nul character" warning.
    Closes: #376351, #375749, #376724, #377279

  [ Added programs translations ]
  * Dzongkha (Kinley Tshering).

  [ Updated programs translations ]
  * Basque (Piarres Beobide). Closes: #375118
  * Brazilian Portuguese (Andre Luis Lopes).
  * Catalan (Robert Millan, Jordi Mallach). Closes: #383448
  * Czech (Miroslav Kure).
  * Danish (Claus Hindsgaul).
  * Dutch (Bart Cornelis).
  * Dzongkha (Tenzin Dendup). Closes: #388192
  * French (Frédéric Bothamy).
  * Galician (Jacobo Tarrio).
  * German (Sven Joachim). Closes: #381409, #381740
  * Hungarian (SZERVÁC Attila).
  * Italian (Stefano Canepa, Davide Viti). Closes: #387821
  * Japanese (Kenshi Muto). Closes: #386963
  * Khmer (Khoem Sokhem). Closes: #375099
  * Portuguese (Miguel Figueiredo, Rui Branco).
  * Romanian (Eddy Petrişor).
  * Russian (Yuri Kozlov). Closes: #376746, #391143
  * Slovak (Peter Mann). Closes: #387282
  * Spanish (Javier Fernandez-Sanguino). Closes: #386759
  * Swedish (Daniel Nylander). Closes: #383643
  * Vietnamese (Clytie Siddall). Closes: #383588

  [ Added scripts translations ]
  * Catalan (Jordi Mallach).
  * French (Philippe Batailler).

  [ Updated dselect translations ]
  * Brazilian Portuguese (Andre Luis Lopes).
  * Catalan (Robert Millan, Jordi Mallach).
  * Danish (Claus Hindsgaul).
  * German (Sven Joachim). Closes: #384843
    (Sven is now the new German translation maintainer for dpkg and dselect).
  * Hungarian (SZERVÁC Attila).
  * Indonesian (Arief S Fitrianto). Closes: #391144
  * Italian (Stefano Canepa).
  * Japanese (Kenshi Muto).
  * Norwegian Bokmål (Hans Fr. Nordhaug).
  * Russian (Yuri Kozlov).
  * Slovak (Peter Mann).
  * Spanish (Javier Fernández-Sanguino Peña). Closes: #391144
  * Swedish (Daniel Nylander).
  * Vietnamese (Clytie Siddall).

  [ Updated man pages translations ]
  * French (Philippe Batailler).
  * German (Helge Kreutzmann). Closes: #379030

  [ Added man pages translations ]
  * German (Helge Kreutzmann).
    Closes: #379286, #379298, #379417, #379433, #379661, #379798, #379825
    Closes: #379985, #380130, #380239, #380365, #381047, #380660, #380443
    Closes: #381349, #381488
  * Japanese (KISE Hiroshi).
    Closes: #381141, #381865, #384768, #385675, #386965, #388837

 -- Guillem Jover <guillem@debian.org>  Thu, 12 Oct 2006 02:56:09 +0300

dpkg (1.13.22) unstable; urgency=low

  [ Guillem Jover ]
  * Version the po4a Build-Depends to >= 0.23 as we are using options
    introduced in that version. Thanks to Sergio Gelato. Closes: #370536
  * Add '.bzrtags' directory to default dpkg-source -i regex.
    Suggested by Adeodato Simó. Closes: #370392
  * Print update-alternatives '--config' listing layout evenly spaced.
    Closes: #325895
  * Clarify the legend in update-alternatives '--help' (Andrew Ferrier).
    Closes: #305318
  * Add the source version inside parenthesis to the Source field in the
    generated .changes and binary packages if the binary package version
    differs (like in binNMUs). Closes: #62529
  * Add missing comment serving as documentation about abort-remove on
    removal in dpkg.postinst (Justin Pryzby). Closes: #372145
  * Fix typo in dpkg-deb manpage (Robert Luberda). Closes: #373999
  * Clarify dpkg-architecture new options '-e' and '-i' in man page, add
    backward compatibility information and give some examples.
    Thanks for the initial suggestions to Junichi Uekawa. Closes: #370830
  * Modified some strings to be able to merge them in the .pot files.
  * Add new '--umask' option to start-stop-daemon. Closes: #368003

  [ Frank Lichtenheld ]
  * dpkg-source issued spurious warnings about fields defined with
    XB-. They now get correctly suppressed. Closes: #374154
  * Give a correct warning when the user requested an unknown
    sign command that we will default to a pgp style interface.
    Closes: #133470

  [ Updated programs translations ]
  * Romanian (Eddy Petrişor).
  * Galician (Jacobo Tarrio).
  * French (Christian Perrier).
  * Swedish (Peter Karlsson).
  * Basque (Piarres Beobide). Closes: #373107
  * Polish (Robert Luberda).
  * Catalan (Guillem Jover).

  [ Added programs translations ]
  * Nepali (Paras Pradhan). Closes: #373728

  [ Updated dselect translations ]
  * Simplified Chinese (Kov Tchai). Closes: #366260

  [ Updated man pages translations ]
  * Polish (Robert Luberda).

  [ Christian Perrier ]
  * Typo fix in update-alternatives ("alternativse"). Thanks to Eddy Petrisor
    for spotting it. Translations unfuzzied.
  * Make similar messages in dpkg-statoverride and dpkg-divert exactly similar
    Thanks to Eddy Petriso for spotting them, again.

 -- Guillem Jover <guillem@debian.org>  Wed, 21 Jun 2006 18:03:29 +0300

dpkg (1.13.21) unstable; urgency=low

  [ Guillem Jover ]
  * Disambiguate error message about conflicting command line actions by
    providing both long and short option names. Based on a suggestion by
    Josip Rodin. Closes: #45575
  * Add '/lib32' and '/usr/lib32' to the dpkg-shlibdeps library path search
    list. Closes: #367892
  * Revert usage of English perl non-essential module from install-info.
    Closes: #369928, #369958, #370157, #370174, #370210
  * Print the correct file being parsed by dpkg-parsechangelog's debian
    parser. Closes: #368961
  * Fix dependency cycle breaking in the case when every link involves
    a Provides (Ian Jackson). This is a proper fix for #349442.
    Closes: #370017

  [ Updated programs translations ]
  * Czech (Miroslav Kure).
  * Vietnamese (Clytie Siddall).

 -- Guillem Jover <guillem@debian.org>  Sun,  4 Jun 2006 19:02:44 +0300

dpkg (1.13.20) unstable; urgency=low

  [ Frank Lichtenheld ]
  * Add gettext support for the Perl scripts. Based on a patch by
    Nicolas François. Closes: #165843
  * Only print usage information of dpkg-scanpackages on stdout
    if requested explicitly. Use stderr in case of error.
    Closes: #366659
  * Add remarks to dpkg-scansources and dpkg-scanpackages
    man pages about the need to compress the generated files
    to be able to access them via apt. Closes: #65839
  * Allow '+' and '.' in distribution names in Debian changelogs.
    Based on a patch by John Wright.
    Closes: #361171
  * Use the Debian keyring in dpkg-source when checking signatures
    of .dsc files, if available. Closes: #364726
  * Let dpkg-buildpackage pass through all remotely sensible
    -sX options to dpkg-source (-s[nsAkurKUR] currently).
    Closes: #36586
  * Improve the description of --showformat in dpkg-deb
    man page and add a pointer to the complete description
    of the option in dpkg-query.
  * Don't spew out garbage from dpkg-deb, if the second argument
    to -I is a absolute filename. Based on a patch by Ian Eure.
    Closes: #35573
  * Fix --ignore-depends argument value parsing. Closes: #169125
  * Completely remove md5sum diversion madness.  Instead, we Pre-Depend
    on a version of textutils which provides /usr/bin/md5sum.  We rely on
    the logic in coreutils to remove our diversions. Patch by
    Ian Jackson. Closes: #315784, #313605
  * Try harder to detect dependency cycles that contain Provides
    links. Closes: #349120, #349442
  * Update archtable to reflect current archive: Add amd64 and remove
    sh. Closes: #367329
  * Don't claim in dpkg man page that we set DPKG_OLD_CONFFILE and
    DPKG_NEW_CONFFILE on sub shells since we actually don't.
  * Fix printing of user defined fields with --showformat and
    document the existence of this feature in dpkg-query man page.
  * Make --forget-old-unavail more reliable by deleting architecture
    information of removed packages. Patch by Piotr Engelking.
    Closes: #208532
  * When building packages with dpkg-deb give a more useful error
    message in case a conffile entry has leading whitespace. Patch
    by David Lopez Moreno. Closes: #281562
  * Don't drop directories that contain our conffiles too early from
    our file listing. Otherwise we might leave them behind on purge
    if we share them with other packages.
    Closes: #174180, #198128, #198522, #318825, #366178

  [ Nicolas François ]
  * Fix typos in the Russian man pages. Thanks to Stepan Golosunov.
    Closes: #366587
  * Honour tabbing requested via --showformat even if the field to
    be printed is empty. Closes: #361671
  * Flush the terminal's input before prompting what to do with a
    configuration file. Closes: #316551
  * Fix the --force-depends-version option. Closes: #57104

  [ Guillem Jover ]
  * Standardize scripts usage output format and at the same time make
    the strings easier for the translators. Add '--help' and '--version'
    for most of the scripts. Print the usage and version to stdout.
  * Do not strip the epoch from the source:Upstream-Version substvar.
    Closes: #366351
  * Properly check and report lock file existence in install-info.
    Based on patch by Ben Pfaff. Closes: #368874
  * Correct default info directory for '--infodir' in install-info man
    page (Ben Pfaff). Closes: #368875
  * Print the bogus version and prefix the error message with 'dpkg: '
    when using '--compare-versions'. Closes: #369177
  * Remove duplicated string " , at changelog " in dpkg-parsechangelog's
    debian style parser (Julian Gilbey). Closes: #369205
  * Update the Section and Priority fields in the status file from the
    new packages. We assume that the information from the binary package
    is correct, otherwise it should be fixed there to match the archive
    override file (Koblinger Egmont).
    Closes: #54529, #58106, #81171, #230610, #237622, #237626
  * Bump Standards-Version to 3.7.2 (no changes needed).
  * Add lintian overrides for dpkg, dpkg-dev, dselect and sources.
  * Replace logrotate installation logic with dh_installlogrotate.

  [ Updated programs translations ]
  * Portuguese (Miguel Figueiredo).
  * Polish (Robert Luberda).
  * Hungarian (SZERVÁC Attila).
  * Romanian (Eddy Petrişor).
  * Russian (Yuri Kozlov). Closes: #366353
  * Czech (Miroslav Kure).
  * Simplified Chinese (Kov Tchai). Closes: #366985
  * Swedish (Peter Karlsson).
  * Galician (Jacobo Tarrio).
  * Slovak (Peter Mann).
  * Dutch (Bart Cornelis).
  * Basque (Piarres Beobide). Closes: #366185

  [ Updated dselect translations ]
  * Polish (Robert Luberda).
  * Basque (Piarres Beobide). Closes: #366187
  * Czech (Miroslav Kure).
  * Romanian (Eddy Petrişor).

  [ Updated man pages translations ]
  * Polish (Robert Luberda).

 -- Guillem Jover <guillem@debian.org>  Wed, 31 May 2006 07:43:16 +0300

dpkg (1.13.19) unstable; urgency=low

  [ Frank Lichtenheld ]
  * Add -follow (back) to find call in dpkg-scanpackages.
    Closes: #358011
  * Fix error in archive.c that lead to a infinite loop when
    installing files with long, non-ASCII filenames in
    certain locales. Closes: #346436

  [ Updated programs translations ]
  * French (Christian Perrier).
  * Galician (Jacobo Tarrio).
  * Romanian (Eddy Petrişor).
  * Dutch (Bart Cornelis).
  * Swedish (Peter Karlsson).
  * Danish (Claus Hindsgaul). Closes: #362317
  * Czech (Miroslav kure).
  * Vietnamese (Clytie Siddall). Closes: #363264
  * Spanish (Javier Fernández-Sanguino Peña). Closes: #357911
  * Basque (Piarres Beobide). Closes: #363683, #363679
  * Japanese (Kenshi Muto). Closes: #365334

  [ Updated dselect translations ]
  * Romanian (Eddy Petrişor).
  * Galician (Jacobo Tarrio).
  * French (Christian Perrier).
  * Dutch (Bart Cornelis).

  [ Nicolas Francois ]
  * Generate the Russian man pages in the KOI8-R charset. Closes: #361987
  * Document the shlibs.local format in dpkg-source(1). Closes: #316485
  * Fix a typo in an error message. Thanks to Justin Pryzby. Closes: #364539

  [ Guillem Jover ]
  * Fix strings so that they can be more easily translated. Closes: #134358
  * Add new substvars source:Version, source:Upstream-Version and
    binary:Version so packages will be able to avoid breaking on binNMUs.
    Based on a patch by Ken Bloom and Jeroen van Wolffelaar. Closes: #358530
  * Support binNMU safe packages even when source and binary differ in
    version.
  * Rename dpkg:UpstreamVersion to dpkg:Upstream-Version. Make dpkg:Version
    and dpkg:Upstream-Version get the current dpkg versions instead of the
    ones from the package being built.
  * Split usage strings to make it easier for translators when those change.
    Closes: #323957
  * Standardize start-stop-daemon usage output format.
  * Make install-info '--dir-file' option compatible with GNU install-info
    by renaming the infodir variable to dirfile and not appending the
    '/dir' string except when initializing from '--info-dir' or
    '--infodir' (Wayne Davison). Closes: #61640, #67237, #286275
  * Make install-info add a new line after adding the last entry at the
    end of the dir file, which makes the info readers able to see those
    last entries (Nicolas François). Closes: #164495
  * Use the numerical value of errno instead of a string in install-info
    when checking if the locking error was due to an already existing
    file, which is locale dependent, and die accordingly. Based on a patch
    by Nicolas François. Closes: #199204, #210781
  * Escape hyphens in man pages.
  * Bump Standards-Version to 3.7.1.
  * Wrapped debian/control fields except Uploaders given current policy.

 -- Guillem Jover <guillem@debian.org>  Thu,  4 May 2006 14:05:21 +0300

dpkg (1.13.18) unstable; urgency=low

  [ Updated programs translations ]
  * Romanian (Sorin Batariuc). Closes: #356664
  * Danish (Claus Hindsgaul). Closes: #356188
  * Polish (Robert Luberda).
  * Dutch (Bart Cornelis).

  [ Updated dselect translations ]
  * Spanish (Javier Fernández-Sanguino Peña). Closes: #357912
  * Danish (Claus Hindsgaul). Closes: #356188
  * Polish (Robert Luberda).
  * Russian (Yuri Kozlov). Closes: #361415

  [ Updated man pages translations ]
  * Typos corrected in French dpkg-source man page
    Thanks to Nicolas Bonifas who spotted them
  * Russian completed. Thanks to Yuri Kozlov.
    Closes: #361415

  [ Christian Perrier ]
  * Correct typos in man pages. Thanks to A. Costa for spotting them
    Closes: #358091, #358092, #358093, #358094, #358095

  [ Guillem Jover ]
  * Add a '[!]' in --force-all help denoting that it is a dangerous option.
    Closes: #359935
  * Prefix any chroot path to the exec file name when stating it in
    start-stop-daemon. Closes: #318771, #333066
  * Add '-r' to the help output of start-stop-daemon (Jared Spiegel).
    Closes: #354869
  * Use mustsetvar when setting the value of the sversion variable in
    dpkg-buildpackage (Andrew Suffield). Closes: #158953
  * Pass '--admindir' option over to dpkg-query when passing '--admindir' or
    '--root' to dpkg (initial patch by Branden Robinson).
    Closes: #153305, #271041, #282853, #307715, #355915
  * Support system library directories in dpkg-shlibdeps symlinked from
    '/lib/ldconfig'. Closes: #356452
  * Document that 'dpkg --get-selections' and 'dpkg-query -l' without a
    pattern will not list packages in state purge. Closes: #355633
  * Obsolete force/refuse 'auto-select' dpkg option.
  * Add new '--clear-selections' option to dpkg (Andrew Suffield).
    Closes: #112388
  * Use '--clear-selections' in the dpkg man page example on how to transfer
    the status to another installation. Closes: #137442

 -- Guillem Jover <guillem@debian.org>  Mon, 10 Apr 2006 06:40:22 +0300

dpkg (1.13.17) unstable; urgency=low

  [ Frank Lichtenheld ]
  * Fix handling of -DArchitecture=foo in dpkg-gencontrol. Closes: #251911
  * Handle architectures in all dependency fields in debian/control,
    even those of binary packages. Closes: #252657, #324741, #347819
  * More dpkg-scanpackages fixes (--arch option handling). Closes: #353506

  [ Guillem Jover ]
  * Add missing parentheses surrounding a man page section reference
    in the dpkg-source man page (Matt Kraai). Closes: #353731
  * Fix misspelling of "occurred" in dpkg-gencontrol and dpkg-source
    (Matt Kraai). Closes: #353949
  * Major cleanup of manpages, by using properly the bold and italic
    attributes and other embellishments.
  * Add dpkg-query(1) in the SEE ALSO section in dpkg(1). Closes: #354643
  * Don't try to compile in SELinux support on GNU/kFreeBSD amd64.
  * Add new quiet option to dpkg-source to suppress warnings. Closes: #355065
  * Do not expand architecture aliases anymore in .dsc files.
  * Change start-stop-daemon's --exec behaviour again on GNU/Linux to compare
    the referred file pointed by the '/proc/<pid>/exe' symlink, stripping
    any ' (deleted)' string and stating the result. Closes: #354867

  [ Updated man pages translations ]
  * Polish (Robert Luberda). Closes: #353782
  * French (Philippe Batailler).

  [ Updated dselect translations ]
  * Hungarian (Szervác Attila).
  * Dutch (Bart Cornelis).
  * Czech (Miroslav Kure).

  [ Updated programs translations ]
  * Italian (Lele Gaifax)
  * Simplified Chinese (Carlos Z.F. Liu).
  * Portuguese (Miguel Figueiredo).
  * Dutch (Bart Cornelis).
  * Hungarian (Szervác Attila).
  * Czech (Miroslav Kure).
  * Russian (Yuri Kozlov). Closes: #357724

 -- Guillem Jover <guillem@debian.org>  Mon, 20 Mar 2006 03:33:03 +0200

dpkg (1.13.16) unstable; urgency=low

  * The "not really a brown paper bag needed but it's close" release

  [ Guillem Jover ]
  * Move auxiliary autotools scripts to config/.
  * Require gettext 0.14.5.
  * Move the methods directory to dselect/methods, so the contents will not
    be installed if dselect is not to be built.
  * Move dselect gettext strings to its own domain provided now by the
    dselect package.

  [ Frank Lichtenheld ]
  * Fix override handling in dpkg-scanpackages which was broken in
    1.13.14 and .15. Closes: #353305
  * Make -isp the default behaviour of dpkg-gencontrol as it is
    always used anyway these days. Suggested by Matthew Vernon.
    Closes: #215233
  * Typo fixes in man pages by A. Costa:
    - dpkg-deb.1 Closes: #353424
    - dpkg-statoverride.8 Closes: #353425
    - install-info.8 Closes: #353426
    - start-stop-daemon.8 Closes: #353427
    - update-alternatives.8 Closes: #353428
    - dpkg.1, dpkg.cfg.5 Closes: #353429

 -- Frank Lichtenheld <djpig@debian.org>  Sat, 18 Feb 2006 17:59:00 +0100

dpkg (1.13.15) unstable; urgency=low

  [ Guillem Jover ]
  * Add a missing closing parenthesis in a dpkg string (Jordi Mallach).

  [ Christian Perrier ]
  * Updated translations:
    - Brazilian Portuguese (Andre Luis Lopes). Closes: #352432
    - Galician (Jacobo Tarrio). Closes: #352443

  [ Updated translations ]
  * Catalan (Jordi Mallach).
  * Portuguese (Miguel Figueiredo).
  * Swedish (Daniel Nylander).

  [ Added translations ]
  * Hungarian (Szervác Attila).

  [ Added man pages translations ]
  * Hungarian (Szervác Attila): dpkg.cfg.5 and dselect.cfg.5.

 -- Frank Lichtenheld <djpig@debian.org>  Wed, 15 Feb 2006 23:37:40 +0100

dpkg (1.13.14) experimental; urgency=low

  [ Guillem Jover ]
  * Make start-stop-daemon print the proper version instead of 'VERSION'.
  * Set the HOME environment variable when using the --chuid switch in
    start-stop-daemon. Closes: #295169, #267784
  * Cleanup and unify program usage and version output, make it more i18n
    friendly. Fix wrong gettext usage with interparsed macros.
    Thanks to Changwoo Ryu for noticing. Closes: #237915
  * Mark some strings as translatable (Changwoo Ryu). Closes: #256387
  * Remove a trailing 'C' character from update-alternatives manpage.
  * Use pkg-config to get the proper flags to link against libselinux.
    Add a Build-Dependency on pkg-config, tighten libselinux1-dev to
    at least version 1.28-4 which provides a .pc file, and remove
    libsepol1-dev as libselinux1-dev is Depending on it.
  * Add command descriptions in the synopsis, and add a usage example for
    -f in the dpkg-query manpage. Thanks for the initial patch to
    Philippe Batailler. Closes: #352091
  * Document about the default log file, the behaviour in case of multiple
    --log options and add a reference to dpkg.cfg manpage in the dpkg manpage.
    Thanks to James R. Van Zandt. Closes: #350440
  * Escape ` and ' in manpages otherwise they are converted to quotation
    marks, which makes cut and paste not work. Thanks to Denis Barbier.
    Closes: #349925

  [ Frank Lichtenheld ]
  * Let dpkg-source ignore comments in the hunk header as used by
    diff -p (Anand Kumria). Closes: #344880
  * Let dpkg-buildpackage create a .changes file even if signing the
    .dsc file failed. This makes it easier to just sign the package
    later (Julian Gilbey). Closes: #217963
  * Change heuristics of dpkg-buildpackage's gpg check to allow for
    more complex setups (Julian Gilbey). Closes: #163061
  * Add files and dirs used by bzr to default dpkg-source -i regex
    (maximilian attems). Closes: #345164
  * Add .git directory to default dpkg-source -i regex.
    Suggested by Hans Ulrich Niedermann. Closes: #351885
  * dpkg-scanpackages can now output Packages files with multiple
    versions of a single package (Don Armstrong). Closes: #229589.
  * dpkg-scanpackages outputs help when given the --help or -h option
    (Don Armstrong). Closes: #319541
  * Document dpkg-scanpackage -m in man page.
  * Let warn dpkg-source if more than one -sX option was given and
    document the behaviour in this case in the man page.
    Closes: #246637
  * Make dpkg-source -b more robust regarding to existing symlinks
    by creating new files in a secure manner. Closes: #178839, #338591
  * Fix some semantic errors in dpkg-shlibdeps due to typos in used
    variables.
  * On package configuration, differentiate between modified and
    deleted configuration files (Ian Jackson). Closes: #351361
  * Improve processing of disappearing conffiles (Ian Jackson).
    This is part of the fix for #108587.
  * Let dpkg-source -x touch all patched files to have the same
    timestamp to mitigate time-skew problems (Denis Barbier).
    Closes: #105750
  * Strip any newlines from Uploaders field on dpkg-source -b.
    Closes: #254449

  [ Christian Perrier ]
  * Switch to po4a for manpages translation. Closes: #320122
    This adds a Build-Depends on po4a.
  * Add Vietnamese to po/LINGUAS as it was previously missing.
  * Updated translations:
    - Catalan (Jordi Mallach). Closes: #351587
    - French (Christian Perrier): 1011t.
    - Galician (Jacobo Tarrio): 1002t. Closes: #351795
    - Basque (Piarres Beobide): 1002t. Closes: #351845
    - Slovak (Peter Mann): 1002t. Closes: #352087, #352311
    - Vietnamese (Clytie Siddall): 1011t. Closes: #352307

 -- Frank Lichtenheld <djpig@debian.org>  Sun, 12 Feb 2006 02:32:12 +0100

dpkg (1.13.13) unstable; urgency=low

  [ Frank Lichtenheld ]
  * dpkg and dselect are now in section admin, not section base.
    Correct info in the control file.
  * Bump Standards-Version to 3.6.2 (no changes).
  * Fix typo in dpkg-architecture man page. Closes: #334330
  * Honor LD_LIBRARY_PATH in dpkg-shlibdeps. Fixes a regression
    from 1.13.11 to .12.
  * Don't recurse into package directories to search for local
    shlibs files since it is obviously a waste of time. Based
    on a suggestion by Steve Langasek. Closes: #338725

  [ Christian Perrier ]
  * Updated translations:
    - Dutch (Bart Cornelis). Fix error mentioned in #323908 by
      Stephan Kramer.
    - Japanese (Kenshi Muto). Closes: #349808

  [ Guillem Jover ]
  * Fix typo in dpkg-statoverride manpage. Closes: #348113
    Thanks to Marc Haber <mh+debian-packages@zugschlus.de>.
  * Document the --no-debsig option in dpkg manpage. Closes: #316367
    Thanks to Bastian Kleineidam <calvin@debian.org>.
  * Fix typos in dselect manpage. Closes: #310358
    Thanks to A Costa <agcosta@gis.net>.
  * Fix typo in start-stop-daemon's help output. Closes: #333673
    Thanks to Christoph Maser <cm@financial.com>.
  * Document the correct format string for dpkg-query --showformat option.
    Update -l example and lower case the program name in the title header.
    Thanks to Zefram <zefram@fysh.org>. Closes: #174976
  * Make dpkg-architecture not print the warning about a mismatch between
    gcc target machine type and GNU target system type if the actions are
    '-e' or '-i'.

 -- Frank Lichtenheld <djpig@debian.org>  Sat, 28 Jan 2006 13:04:16 +0100

dpkg (1.13.12) experimental; urgency=low

  * Due to the changes in dpkg-shlibdeps it is not recommended
    to use this version for building packages intended to be
    uploaded into an official archive, yet.

  [ Frank Lichtenheld ]
  * Update AUTHORS and debian/copyright for new maintainer team.

  * Don't use the ldd output in dpkg-shlibdeps. Search for the
    matching libraries ourself. This fixes problems with both
    symlinked directories, Closes: #103024, #145714, #164020, #285857
    and biarch builds. Closes: #317082
  * Let dpkg-gencontrol bail out with an error if parsedep
    found an error while parsing a dependency field. Closes: #228125
  * dpkg-source -x now tries to chown all files extracted from
    tar files. The temporary directory is now created with mode
    0700, too. Together this should make it safer to run
    dpkg-source -x as root. Based on suggestions by Marcus
    Brinkmann and Colin Watson. Closes: #144571, #238460
  * Let dpkg-source -b check the build relation fields before
    putting them into the .dsc. As a side effect they also
    get normalized. Closes: #254449
  * Check the gpg signatures of .dsc files before unpacking. See
    the upstream changelog for a full description of the semantics.
    Based on a patch by Matt Zimmerman. Closes: #48711
  * Let dpkg-source ensure (as good as possible) that all
    build source packages can also be unpacked.
    Closes: #6820, #7014
    Also fixed handling of md5sum -b output in dpkg-source on
    the way. Based on a patch by Ingo Saitz. Closes: #316123
  * Check for illegal architecture strings in dpkg-gencontrol and
    dpkg-source. dpkg-gencontrol will only issue a warning while
    dpkg-source will error out. Closes: #96920
  * Add support "package types" to dpkg-shlibdeps. Patch by Joey Hess.
    Closes: #335056, #345475
  * Fix man page references to dpkg and dselect man pages. Many
    of them still had a wrong section.
    Closes: #332826
  * Let dpkg-source -b warn about special permissions of files added
    in the diff since these will get lost. Closes: #306125
  * dpkg-source -x didn't work in case the upstream version or
    the Debian version ended with ~. Fixed.

  [ Christian Perrier ]
  * Updated translations:
    - French (Christian Perrier).
    - Polish (Bartosz Fenski). Closes: #314237
    - Norwegian Bokmal (Hans F. Nordhaug). Closes: #315548, #315990
    - Czech (Miroslav Kure). Closes: #323775, #345347
    - Russian (Yuri Kozlov). Closes: #323821, #335170
    - Japanese (Kenshi Muto). Closes: #323938
    - Brazilian Portuguese (Andre Luis Lopes). Closes: #325224, #332872
    - Russian (Yuri Kozlov). Closes: #335170, #349151
    - Swedish (Peter karlsson). Closes: #325990, #344058, #337164, #334063
    - Norwegian Nynorsk (Håvard Korsvoll). Closes: #315987
    - Portuguese (Miguel Figueiredo).
      Closes: #315461, #323674, #323642, #330021
    - Spanish (Javier Fernández-Sanguino Peña). Closes: #323662, #315253
    - Danish (Claus Hindsgaul). Closes: #348575, #323779, #337948, #325687
    - Dutch (Bart Cornelis). Closes: #323908
    - German (Michael Piefel). Closes: #323964
    - Italian (Stefano Canepa). Closes: #324114, #344671, #347225
    - Catalan (Jordi Mallach). Closes: #324456
    - Basque (Piarres Beobide). Closes: #342089, #332698
    - Tagalog (Eric Pareja). Closes: #337307
    - Simplified Chinese (Tchaikov). Closes: #338268
    - Galician (Jacobo Tarrío). Closes: #338904
    - Romanian (Eddy Petrişor). Closes: #340674
    - Vietnamese (Phan Vinh Thinh, Clytie Siddall).
    - Indonesian (Parlin Imanuel). Closes: #344513
    - Greek (Galaxico). Closes: #344646
    - Czech (Miroslav Kure). Closes: #345347
  * Fixed broken translation:
    - Brazilian Portuguese (James Troup). Closes: #332872
  * Fix Russian man page for start-stop-daemon(8)
    Closes: #325804
  * Fix German man page for update-alternatives(8)
    Closes: #329908
  * Fix typo in dpkg online help message. Unfuzzy translations
    Closes: #349299

  [ Guillem Jover ]
  * Add armeb to cputable. Closes: #331232
    Thanks to Lennert Buytenhek <buytenh+debian@wantstofly.org>.
  * Don't try to compile in SELinux support on GNU/kFreeBSD.  Closes: #313300
    Thanks to Aurelien Jarno <aurel32@debian.org>.
  * When linking statically, explicitly add libsepol, even if its only a
    transitive library. The proper fix should come with a pkg-config file.
    Based on a patch by Bart Martens <bart.martens@advalvas.be>.
    Closes: #347744, #348659
  * Add support for architecture wildcards, but for now they will only be
    exposed in debian/control files, not in binary nor source packages.
    Closes: #291939
  * Change start-stop-daemon's --exec option behaviour on GNU/Linux to
    compare the filename pointed by '/proc/<pid>/exe' instead of the inode
    and device numbers. Thanks to Vasilis Vasaitis <v.vasaitis@sms.ed.ac.uk>.
    Closes: #337942

 -- Frank Lichtenheld <djpig@debian.org>  Tue, 24 Jan 2006 11:15:36 +0100

dpkg (1.13.11.1) unstable; urgency=low

  * Change maintainers to new team.

 -- Scott James Remnant <scott@netsplit.com>  Thu, 12 Jan 2006 07:56:49 +0000

dpkg (1.13.11) unstable; urgency=low

  The "Good, clean fun" Release.

  * Fixed the always broken error handling so that only the intended
    cleanup handlers are run, rather than ones that we didn't expect.
    This corrects the bug when a package's postrm fails and the package is
    left in an installed state with no files; the package will now be left
    in a half-installed state, as originally intended.  Found by Marga
    Manterola while documenting the maintainer scripts.  Closes: #296026.
  * Fixed removal of files involved in diversions during upgrade, caused by
    checking whether the "directory" was in use by another package without
    actually checking whether or not it was a directory.  Closes: #310390.
  * Fixed package saving to not disappear packages who divert anything from
    the installing package out of the way.  Closes: #113626.
  * Improved clean-up of unpack failure during install or upgrade, to leave
    the system in exactly the same state as it started in.
    Closes: #47404, #82407, #121173, #170869, #201848, #236733, #268639.
  * Fixed crash when unpacking a package which has an unversioned Replaces
    declared on it by another package previously unpacked in the same run
    (Colin Watson).  Closes: #322595.

  * New install unwinding fixed to ensure we don't leave a version in the
    status db for a not-installed package.
  * Corrected error call when encountering a corrupted filesystem tarfile
    to not print "Success".  Closes: #95570.
  * Fixed castration of potentially unsafe devices to not follow symlinks.
    Closes: #169928.
  * Marked log file descriptor as close-on-exec.  Closes: #320925.
  * Re-worked dpkg-source -x to allow all manner of strange things maintainers
    seem to do, unpacking isn't the right place to enforce sanity; we'll
    do it in -b later on >:-).  Closes: #316470, #317760, #318473, #318745,
    #322359, #322361, #322362.

  * Corrected dselect synopsis line to match consensus.  Closes: #318659.
  * Changed dpkg-name to use a shell redirect rather than the /dev/stderr
    device that may not be writable.  Closes: #318376.
  * Adjusted various dpkg-query options to avoid outputting a trailing
    newline.  Closes: #151651, #319781.
  * Changed references to "statusoverride" file to just "statoverride"
    to make it match reality.  Closes: #320952.
  * Fixed several bugs with the default diff ignore list used by dpkg-source.
  * Added ,,* to the list of default diff ignore list.  Closes: #322917.

  * Fixes to dpkg-dev (Frank Lichtenheld):
    - dpkg-checkbuilddeps will now exit with an error if it is unable to
      parse a dependency field.  Closes: #171762, #302229.
    - dpkg-genchanges will now output a warning if given -sd for a native
      package, as it's going to ignore it.  Closes: #5571.
    - dpkg-source fixed to give a more meaningful error message if given
      a directory as the first argument.  Closes: #306874.
    - dpkg-source fixed to handle being given an absolute path to -b.
      Closes: #147574.
    - Fix controllib.pl to allow whitespace before version operators.
      Closes: #273489, #310306.
    - Fix architecture dependency parsing that sometimes generated wrong
      list of requirements.  Closes: #319816.
    - Make the default control field name mangling behaviour "nicer" by
      upper-casing all letters that come after a dash.  Closes: #306474.
    - Ignore trailing newlines in single paragraph control files.
      Closes: #57194, #156319
  * Documentation:
    - Fixed typo in dpkg-architecture man page.  Closes: #317770.
    - Documented dpkg-deb -W/--show and --showformat.  Closes: #319784.

 -- Scott James Remnant <scott@netsplit.com>  Wed, 17 Aug 2005 04:44:44 +0100

dpkg (1.13.10) unstable; urgency=low

  The "Bully's Special Prize" Release.

  * Removed /usr/sbin/start-stop-daemon.  Closes: #313400.
  * Fixed md5sum diversion removal.  Closes: #313415.
  * Fixed dpkg-source to handle native tarballs with a Debian revision.
    Closes: #313381, #313433.
  * Fixed upgrade from pre-sarge dpkg outside of dselect.  Closes: #314575.
  * Changed log times to be local rather than UTC.  Closes: #313347.
  * Changed log writing to be line-buffered.  Closes: #314550.
  * Moved log creation to postinst, and don't fail if base-passwd hasn't
    been configured yet.  Closes: #316084.
  * Don't try to compile in SELinux support on Hurd.  Closes: #313398.
  * Place code for SELinux support in the right place so it will actually
    get compiled in and used (Manoj Srivastava).  Closes: #314886.

  * Documentation:
    - Added missing word to dpkg-architecture manpage.  Closes: #313554.
    - Reference to dpkg manpage in dpkg.cfg corrected.  Closes: #314262.
  * Updated translations (Christian Perrier):
    - Basque (Piarres Beobide Egana).  Closes: #313474.
    - Catalan (Jordi Mallach).  Closes: #313288.
    - Czech (Miroslav Kure).  Closes: #314431.
    - Danish (Claus Hindsgaul).
    - French (Christian Perrier).
    - German (Jens Seidel).  Closes: #314125.
    - Greek (Greek team).  Closes: #314828.
    - Italian (Lele Gaifax).
    - Japanese (Kenshi Muto).  Closes: #313330.
    - Russian (Yuri Kozlov).  Closes: #313620.
  * Hebrew translation de-activated on request of the translator until there
    is better support for RTL languages.  Closes: #313282.

 -- Scott James Remnant <scott@netsplit.com>  Tue, 28 Jun 2005 14:19:06 +0100

dpkg (1.13.9) unstable; urgency=low

  The "On like Donkey Kong" Release.

  * Only open the log file when we first need to write to it, this avoids
    the need to suppress errors when not root which fakeroot defeated anyway.
  * Stop dpkg-source clobbering an existing .orig directory during unpacking.
    Closes: #21236.
  * Allow an alternate output directory to be specified to dpkg-source by
    giving a second argument to -x.  Closes: #246802, #282323.
  * Added .arch-inventory to default diff ignore regexp.  Closes: #304297.

  SELinux support (Manoj Srivastava):
  * On SELinux-enabled systems, try to set the security context when the
    package is unpacked.  Closes: #193653, #249496, #307139.
  * Added build-dependency on libselinux1-dev.

  Improvements to dpkg-source (Brendan O'Dea):
  * Support unpacking of "Wig And Pen" (Format 2.0) source packages.
  * Multiple pristine upstream tarballs allowed.
  * Native and upstream tarballs may be bzip2-compressed instead of gzip,
    as may the debian diff or tarball.
  * Unsupported format error fixed to output the unsupported format
    rather than the supported one.  Closes: #156317.

 -- Scott James Remnant <scott@netsplit.com>  Sun, 12 Jun 2005 15:52:43 +0100

dpkg (1.13.8) experimental; urgency=low

  The "In like Flynn" Release.

  * Linux 2.6.12 changed the behaviour of mmap to fail and set EINVAL when
    given a zero length, rather than returning NULL.  This is POSIXly
    correct, so handle zero-length package control files (like available).

 -- Scott James Remnant <scott@netsplit.com>  Fri, 10 Jun 2005 07:39:44 +0100

dpkg (1.13.7) experimental; urgency=low

  The "Maidenhead Creeping Water Plant" Release.

  * Reduced inability to open a log file to a warning, suppressed for
    non-root operations.  Closes: #312383.

 -- Scott James Remnant <scott@netsplit.com>  Thu,  9 Jun 2005 06:12:56 +0100

dpkg (1.13.6) experimental; urgency=low

  The "Just kidding about the God part" Release.

  * Fixed incorrect installation location of /etc/logrotate.d/dpkg caused
    by a mis-understanding of dh_install's abilities.

 -- Scott James Remnant <scott@netsplit.com>  Mon,  6 Jun 2005 05:58:36 +0100

dpkg (1.13.5) experimental; urgency=low

  The "Flatulent Elm of West Ruislip" Release.

  * Actions and package states are now logged by default in the
    /var/log/dpkg.log file.  This file is rotated monthly and can be
    disabled by commenting the line in /etc/dpkg/dpkg.cfg.
  * User decisions about conffiles are now logged.
  * dpkg-source no longer complains about Enhances field.  Closes: #159642,
    #159745, #159746.
  * preinst no longer relies on procps being installed.  Closes: #311808.

  * Architecture Support:
    - Change DEB_*_GNU_CPU from i386 to i486, to reflect reality.
      DEB_*_ARCH_CPU remains at i386, you should be checking against that.
      Closes: #310394.
    - Fixed order ostable is read to prevent Linux becoming the Hurd.
      Closes: #309603.
  * Updated man page translations (Christian Perrier):
    - Syntax error corrected in Swedish man page for dpkg-deb.
      Closes: #300980.
    - Syntax error corrected in Spanish man page for dpkg-scanpackages.
      Closes: #300981

 -- Scott James Remnant <scott@netsplit.com>  Mon,  6 Jun 2005 05:34:21 +0100

dpkg (1.13.4) experimental; urgency=low

  The "Or the Wabbit gets it" Release.

  * Add -L option to dpkg-architecture to list architecture strings
    we can accept.

 -- Scott James Remnant <scott@netsplit.com>  Tue, 29 Mar 2005 13:31:15 +0100

dpkg (1.13.3) experimental; urgency=low

  The "Paying off Karma at a vastly accelerated rate" Release.

  * Missing newline added to warning output function.  Closes: #283798.
  * Fixed prototype warning in dpkg-scansources.  Closes: #213577, #219760,
    #267505.
  * Removed trailing line from debian origins file.  Closes: #264904.
  * Changed dpkg-buildpackage to say "source changed by" rather than
    "source maintainer is".  Closes: #247313.
  * Fixed dpkg-gencontrol to allow '-' in architecture names.  Closes: #274677.
  * Fixed "unknown information field" error to report field that it doesn't
    know about.  Closes: #275243.

  * Documentation:
    - Remove "medium-level" from description of dpkg.  Closes: #292454.
    - Harmonised argument names in update-alternatives(8).
      Closes: #267095, #284941
    - Documented what the '+' and '*' mean in update-alternatives --config
      output.  Closes: #270486.
    - Mention aptitude alongside dselect in 'dpkg --usage' and
      'dpkg-deb --help', fix quote style of mention in 'dpkg --help'.
      Closes: #274800, #278118.
    - Associate --truename with the description of what it does in
      dpkg-divert(8).  Closes: #277076.
    - Removed last remaining references to the packaging manual, replacing
      with better references.  Closes: #262775.
    - Documented format of file dpkg --set-selections takes.  Closes: #270043.

 -- Scott James Remnant <scott@netsplit.com>  Mon, 21 Mar 2005 03:10:27 +0000

dpkg (1.13.2) experimental; urgency=low

  The "Mysteriously Unnamed" Release.

  * md5sum has been removed, the coreutils or textutils version will be
    diverted to /usr/bin/md5sum.  Closes: #6633, #136110.
    The following bugs are filed against the dpkg md5sum, so no longer apply.
    Closes: #95755, #193877, #223381, #264195, #270241, #286632,
  * Take Replaces into account when installing packages; don't issue a
    "trying to overwrite" error if the file that already exists is in
    a package that Replaces the one being installed.
    Closes: #164595, #184635, #277890.
  * Allow actions and status changes to be logged to a file.  Disabled by
    default, uncomment line in /etc/dpkg/dpkg.cfg to enable.
    Closes: #957, #53376, #77109, #143882, #284499.
  * Don't truncate output of 'dpkg -l' when stdout is not a tty.
    Closes: #92263, #253860, #258608, #261822, #282790.
  * Fix further compilation problems with gcc 4.0.  Closes: #299699
  * Handle tar files without trailing slash in directory names.
    Closes: #287152.
  * Output arguments to maintainer scripts with -D2.  Closes: #237684,
    #296030.

  * Architecture Support:
    - Added ppc64.  Closes: #263743.
    - Split archtable into cputable and ostable, archtable is retained
      for compatibility with other packages that might use it only.
    - dpkg-architecture no longer canonises -t argument.  Closes: #173205.
    - dpkg-architecture output includes new DEB_*_ARCH_OS and
      DEB_*_ARCH_CPU variables that contain the Debian system and CPU
      names respectively.
    - dpkg-architecture outputs (mostly) correct GNU system names now,
      in particular this means that it will output "linux-gnu" instead
      of "linux".  You should use the new _ARCH_OS variables instead.
  * Documentation:
    - Add examples to dpkg-divert(8).  Closes: #291816.
    - Correct typo in dpkg-architecture(1).  Closes: #299090.

 -- Scott James Remnant <scott@netsplit.com>  Fri, 18 Mar 2005 16:21:32 +0000

dpkg (1.13.1) experimental; urgency=low

  The "Livin' like a good boy oughta" Release.

  * Removed dpkg --print-gnu-build-architecture option.  Use variables
    defined by dpkg-architecture instead.
  * Soft-deprecated dpkg --print-installation-architecture.  Use
    dpkg --print-architecture instead, which now does the same thing.
  * dpkg --print-architecture no longer calls c-compiler.  Closes: #164863.
  * Removed third field from /usr/share/dpkg/archtable.

  * Now we no-longer pre-depend on dselect, check the upgrade will work
    in preinst and give the user a chance to abort if they haven't yet
    installed dselect and need to.  Closes: #282335.
  * Fix handling of GNU longname and longlink when a tarfile entry has
    both.  Closes: #128388.
  * md5sum no longer outputs "-" when no argument is supplied.
    Closes: #164591, #164889.
  * Add darcs metadirectory to dpkg-source diff ignore list.  Closes: #289760.
  * Add new '-f' short option to dpkg-query as equivalent to --showformat.
    Closes: #281627.
  * Report conffile conflicts and per-package errors on the status-fd.
    Closes: #297880.
  * Correct typo in dpkg-architecture.  Closes: #282701.
  * Fix start-stop-daemon's support for GNU/kFreeBSD.  Closes: #258051.

  * Architecture Support:
    - Added kfreebsd-amd64.  Closes: #280963.
    - Added m32r.  Closes: #280710.
    - Clean up of archtable.  Closes: #118910, #286898.
    - Clean up of dpkg-architecture.  Closes: #256323.
  * Updated translations (Christian Perrier):
    - French (French Team).
    - Greek (Konstantinos Margaritis).  Closes: #295922.

 -- Scott James Remnant <scott@netsplit.com>  Thu,  3 Mar 2005 12:09:07 +0000

dpkg (1.13.0) experimental; urgency=low

  The "Three banana strategy" Release.

  * Remove the /usr/info or /usr/info/dir symlinks we used to create.
    Closes: #206063, #288415.
  * Fix cast in lvalue assignment that gcc 4.0 doesn't like.
    Closes: #282669, #284797.
  * Correct bashism in disk method update script.  Closes: #260568.

  * Scorched-earth reimplementation of the build process and control files
    with debhelper and automake.  Closes: #200683, #217946, #229629, #260568,
    #266995, #279701, #283640, #292973, #293041.
  * Remove SGML and POD documentation formats due to both licensing and
    sanity issues.  Closes: #285806.
  * The dpkg-doc and dpkg-static packages are no more.
  * dpkg.cfg cleaned up to remove useless examples.
    Closes: #169618, #305192.

 -- Scott James Remnant <scott@netsplit.com>  Fri, 14 Jan 2005 19:28:00 +0000

dpkg (1.10.28) unstable; urgency=low

  The "Awh, yeah?  Ripper!" Release.

  * New translations (Christian Perrier):
    - Romanian (Eddy Petrisor).  Closes: #309714.
    - Tagalog (Eric Pareja).  Closes: #296407.
  * Updated translations (Christian Perrier):
    - French (Christian Perrier).
    - Greek (Konstantinos Margaritis).  Closes: #295922
    - Indonesian (Arief S Fitrianto).  Closes: #296733
  * Updated man page translations (Christian Perrier):
    - French (Philippe Batailler).
    - Syntax error corrected in Brazilian Portuguese man page for
      update-alternatives.  Closes: #300646

 -- Scott James Remnant <scott@netsplit.com>  Thu, 26 May 2005 18:18:10 +0100

dpkg (1.10.27) unstable; urgency=low

  The "Grab your gun and bring in the cat" Release.

  * New Translations (Christian Perrier):
    - Indonesian (Arief S Fitrianto).
    - Norwegian Bokmål (Bjorn Steensrud).
  * Updated Translations (Christian Perrier):
    - Dutch (confusing option corrected by Christian Perrier).
    - Galician (Jacobo Tarrio).
    - Korean (Seo Sanghyeon).
    - Simplified Chinese (Carlos Liu).
    - Traditional Chinese (Asho Yeh).

 -- Scott James Remnant <scott@netsplit.com>  Thu, 10 Feb 2005 15:10:22 +0000

dpkg (1.10.26) unstable; urgency=low

  The "Captain Tight-Pants" Release.

  * Fix incorrect claim that 'Q' in dselect quits without saving changes
    (really 'X').
  * Revert to current 'stable' behaviour of Space/Enter/'Q' in the dselect
    help screen, Space leaves the help screen and Enter and 'Q' do nothing.
    It's dangerous to encourage users to press Enter or 'Q' since they
    commit changes in the package selection screen.

  * New Translations (Christian Perrier):
    - Basque (Piarres Beobide Egaña).  Closes: #281245.
      (Was really added in 1.10.24, but forgotten from ALL_LINGUAS.)
    - Bosnian (Safir Šećerović).
    - Slovak (benco).  Closes: #284896, #289341
    - Traditional Chinese (Asho Yeh).  Closes: #287375.
  * Updated Translations (Christian Perrier):
    - Brazilian Portuguese (André Luís Lopes).  Closes: #281228.
    - Catalan (Jordi Mallach).  Closes: #281333.
    - Czech (Miroslav Kure).  Closes: #281231.
    - Danish (Claus Hindsgaul).  Closes: #281103.
    - Dutch (Christian Perrier).  Closes: #282087.
    - Galician (Héctor Fernéndez López).
    - German (Michael Piefel).  Closes: #281503.
    - Italian (Stefano Canepa). Closes: #282543.
    - Japanese (Kenshi Muto).  Closes: #281144.
    - Korean (Changwoo Ryu).  Closes: #282246.
    - Norwegian Nynorsk (Håvard Korsvoll).  Closes: #281456.
    - Polish (Bartosz Feñski).
    - Portuguese (Miguel Figueiredo).  Closes: #281122, #289359.
    - Russian (Yuri Kozlov).  Closes: #281166.
    - Simplified Chinese (Tchaikov, Carlos Liu).
    - Spanish (Javier Fernández-Sanguino Peña).  Closes: #281117.
    - Swedish (Peter Karlsson).  Closes: #281165.

 -- Scott James Remnant <scott@netsplit.com>  Tue, 11 Jan 2005 16:26:51 +0000

dpkg (1.10.25) unstable; urgency=low

  The "你他媽的天下所有的人都該死" Release.

  This release is to correct the mangled Simplified Chinese translation
  included in 1.10.24 caused by rebellion of the translator's mail client.

  * Updated Translations (Christian Perrier):
    - Dutch (Bart Cornelis).  Closes: #278700.
    - Polish (Bartosz Fenski).  Closes: #280406.
    - Simplified Chinese (Tchaikov, Carlos Liu).  Closes: #278676.

 -- Scott James Remnant <scott@netsplit.com>  Thu, 11 Nov 2004 20:06:57 +0000

dpkg (1.10.24) unstable; urgency=low

  The "Donald, where's your troosers?" Release.

  * Add support for uncompressed data.tar archive members and bzip2-
    compressed data.tar.bz2 members of binary packages.  Closes: #34727.

  * New Translations (Christian Perrier):
    - Basque (Piarres Beobide).  Closes: #265491.
    - Greek (George Papamichelakis).  Closes: #260809.
    - Hebrew (Lior Kaplan).  Closes: #275267.
    - Simplified Chinese (Tchaikov, Carlos Liu).  Closes: #265197.
  * Updated Translations (Christian Perrier):
    - Brazilian Portuguese (Andre Luis Lopes).  Closes: #260964, #273947,
      #278063.
    - Czech (Miroslav Kure).  Closes: #255904, #278178.
    - Catalan (Jordi Mallach).  Closes: #278098.
    - Danish (Claus Hindsgaul).  Closes: #278097.
    - Dutch (Bart Cornelis).  Closes: #268271, #268886, #274366, #278061.
    - Galician (Hector Fernandez).
    - German (Michael Piefel).  Closes: #276462, #278168.
    - French (Christian Perrier).
    - Japanese (Kenshi Muto).  Closes: #272456, #278141.
    - Italian (Lele Gaifax).
    - Korean (Changwoo Ryu).  Closes: #261528, #278142.
    - Norwegian Nynorsk (Håvard Korsvoll).  Closes: #275387, #278286.
    - Polish (Bartosz Fenski).  Closes: #268452, #278064.
    - Portuguese (Miguel Figueiredo).  Closes: #268266, #261424, #261519,
      #278294.
    - Russian (Yuri Kozlov).  Closes: #268452, #278154.
    - Spanish (Javier Fernández-Sanguino Peña).  Closes: #277173, #278117.
    - Swedish (Peter Karlsson).
  * Updated Manpage Translations (Christian Perrier):
    - French (Philippe Batailler).  Closes: #268048.
    - Spanish (Ruben Porras).  Closes: #261807.
    - Swedish (Peter Karlsson).

 -- Scott James Remnant <scott@netsplit.com>  Wed, 27 Oct 2004 09:25:58 +0100

dpkg (1.10.23) unstable; urgency=low

  The "Let the Wookie win" Release.

  * Updated hurd start-stop-daemon support.  Closes: #133640, #254180.
  * Removed usage of non-POSIX test options.  Closes: #256302.

  * Architecture Support:
    - Renamed x86-64 to amd64.  Closes: #252346, #254598.
  * Documentation:
    - Correct typo in dpkg-divert(8).  Closes: #254175.
  * New Translations:
    - Korean (Changwoo Ryu).  Closes: #254590.
  * Updated Translations:
    - Catalan (Jordi Mallach).
    - Danish (Claus Hindsgaul).  Closes: #252407.
    - French (Christian Perrier).  Closes: #252586.
    - Italian (Lele Gaifax).
    - Polish (Bartosz Fenski).  Closes: #254209.
    - Spanish manpages (Ruben Porras).  Closes: #246158, #246159, #246160,
      #246161, #246162, #246163, #246164.

 -- Scott James Remnant <scott@netsplit.com>  Mon, 19 Jul 2004 19:52:14 +0100

dpkg (1.10.22) unstable; urgency=low

  The DebConf4 Release.

  This release is mostly intended to mop up the minor and trivial bug
  fixes in the list and clear out the documentation changes.  As such,
  it should be treated with even more suspicion than is normal.

  * Use colouring to break cycles earlier to avoid long loops whilst
    installing or configuring packages.  Closes: #232445, #246857.
  * Don't try to configure packages that disappeared in the same
    run.  Closes: #202997.
  * Fix segfault when "gcc -dumpmachine" returns a non-matching triplet.
    Closes: #211850.
  * Remove restriction that package names be at least two characters long.
    Closes: #237734.
  * Fix dpkg-source (actually controllib.pl) to output the field name
    properly again.  Closes: #226931, #246595.
  * Make dpkg-scanpackages output Origin and Bugs fields with proper
    casing.  Closes: #154422.
  * Add support for DOS line-endings to md5sum.  Closes: #246103.
  * Fix start-stop-daemon segfault on Hurd.  Closes: #133640.
  * Allow dpkg-shlibdeps to run as non-root users.  Closes: #96881.
  * Correct various compiler warnings.  Closes: #229766.

  * Architecture Support:
    - Added x86-64 (x86_64 / amd64).  Closes: #238483, #241938.
    - Added i?86-gnu (Hurd).  Closes: #216695, #236331.
    - Added i386-kfreebsd-gnu and i386-knetbsd-gnu.  Closes: #250176.
  * Packaging:
    - Create $(docdir) even when --without-sgml-doc is passed so the
      ChangeLog can be installed.  Closes: #137719.
    - Stop hardcoding the list of manual page languages in debian/rules,
      so we include Spanish, Russian and Brazilian Portuguese.  Closes: #245994.
    - Quote LDFLAGS in debian/rules to allow multiple options.
      Closes: #230242.
  * Documentation:
    - Move dpkg-scanpackages and dpkg-scansources to section 1 as they
      are user tools.  Closes: #114946.
    - Correct hyphen characters in manpages.  Closes: #212284, #247086, #226800.
    - Remove obsolete references to the Debian Packaging Manual.
      Closes: #122910, #140695.
    - Correct 'n' and 'p' key descriptions in dselect help message.
      Closes: #120562.
    - Add --force-bad-verify to dpkg manpage.  Closes: #192812.
    - Correct dpkg manpage to refer to --force-remove-reinstreq instead of
      non-existent --force-reinstreq option.  Closes: #232831.
    - Correct documentation of --compare-versions arguments.  Closes: #232317.
    - Correct usage of "et al" to "et al.".  Closes: #230751.
    - Add dpkg-reconfigure(8) to SEE ALSO section of dpkg(8).  Closes: #233282.
    - Suggest packages that provide additional functionality in the dpkg
      manpage.  Closes: #81355.
    - Suggest dselect update in description of dpkg --update-avail.
      Closes: #206163.
    - Suggest aptitude as well as dselect.  Closes: #217042.
    - Suggest fakeroot for dpkg-source -r.  Closes: #175897.
    - Correct documentation of start-stop-daemon.  Closes: #41554, #211856.
    - Correct documentation of start-stop-daemon manpage to refer to --retry
      alongside --stop.  Closes: #204691.
    - Add note that start-stop-daemon will chdir("/") unless -d is specified.
      Closes: #217823, #218060.
    - Correct documentation of dpkg-query --list.  Closes: #232639.
    - Correct invalid use of &quot; within update-alternatives(8) with .BR.
      Closes: #244624.
    - Rewrite description of dpkg-source -i to indicate the intent of the
      default setting rather than the exact exclusions.  Closes: #227169.
    - Correct documentation of dpkg-statoverride --update.  Closes: #85079.
    - Correct documentation of update-alternatives --install.  Closes: #179648.
    - Documented dpkg:Version and dpkg:UpstreamVersion substvars.
      Closes: #85815, #85818.
    - Fix spelling error in utils/md5sum.1.  Closes: #250281.
    - Replace "&c." with the slightly clearer "etc.".  Closes: #235773.
    - Correct various typos.  Closes: #219623, #221235.
  * Updated Translations:
    - Catalan (Jordi Mallach).
    - French (Christian Perrier).  Closes: #246359.
    - Italian (Lele Gaifax).
    - Japanese manpages (KISE Hiroshi).  Closes: #248483.
    - Russian (Nikolai Prokoschenko).  Closes: #249254.
    - Spanish manpages (Ruben Porras).  Closes: #246158, #246159, #246160,
      #246161, #246162, #246163, #251830.
  * New Translations:
    - German start-stop-daemon and update-alternatives manpages
      (Helge Kreutzmann).  Closes: #247116, #249454.
    - Spanish dpkg-scansources manpage (Ruben Porras).  Closes: #246164.

 -- Scott James Remnant <scott@netsplit.com>  Tue,  1 Jun 2004 18:21:40 -0300

dpkg (1.10.21) unstable; urgency=low

  * Fix incorrect linked list node removal code that caused every second
    shared or diverted conffile to be deleted by dpkg.
    Closes: #10879, #33046, #47267, #90623, #98210, #109691, #146167.
    Closes: #155456, #204275.
  * Call mknod with the required device type.  Closes: #158916.
  * Correct the default query output format to be consistent with
    what the underlying library expects.  Closes: #174973.
  * Fix missing NULL-termination in dpkg-query -W display of dependency
    fields.  Closes: #174978
  * Strip output from md5sum(1) after the first whitespace character.
    Closes: #200763.
  * Output a warning if we cannot open a configuration file instead of
    treating it as a fatal error, in case our home directory is not readable
    by root.  Closes: #200701.
  * Set LC_ALL to C before spawning off dpkg --search, to avoid searching
    on localized strings.  Closes: #244316.
  * Don't require argument for start-stop-daemon -V.  Closes: #237589.
  * Correct use of @ARGV within dpkg-scanpackages, allowing -u to work
    once again.  Closes: #225086, #241503.
  * Make sure file permissions passed to dpkg-statoverride are numeric.
    Closes: #161156.
  * Correctly break out of the loop in install-info.
    Closes: #124225, #160761.
  * Add --dir-file option to install-info for GNU install-info
    compatibility.  Closes: #179192
  * Refer to debian-policy in dpkg-doc's description instead of the
    non-existent packaging-manual.  Closes: #120970.
  * Remove incorrect mention of build-essential from dpkg-checkbuilddeps
    manpage.  Closes: #219210.
  * Add a note about diverting shared libraries to the dpkg-divert
    manpage.  Closes: #214699.
  * Updated Translations:
    - Brazilian Portuguese (Andre Luis Lopes).  Closes: #237864.
    - Catalan (Jordi Mallach).
    - Danish (Claus Hindsgaul).  Closes: #237624.
    - Dutch (Pieter-Paul Spiertz, Bart Cornelis, Erwin).
      Closes: #102094, #151799, #207758.
    - French (Sam Hocevar).  Closes: #243191.
    - German (Florian Ernst).  Closes: #109669, #115352, #187952, #244098.
    - Japanese manpages (KISE Hiroshi).  Closes: #220776.
    - Polish (Bartosz Fenski).  Closes: #242870.
    - Spanish (Javier Fernández-Sanguino Peña).  Closes: #166052.
    - Swedish (Peter Karlsson).
  * New Translations:
    - Japanese dpkg-source manpage (KISE Hiroshi).  Closes: #239000.
    - Norwegian Nynorsk (Gaute Hvoslef Kvalnes).  Closes: #233614.
    - Portuguese (Miguel Figueiredo).  Closes: #240081.
    - Spanish dpkg-source manpage (Ruben Porras).  Closes: #171489.

 -- Scott James Remnant <scott@netsplit.com>  Sun, 25 Apr 2004 18:55:10 +0100

dpkg (1.10.20) unstable; urgency=high

  * Update Japanese translation.  Closes: #224616
  * Update French translation.  Closes: #218713
  * Fix spelling error in German md5sum man page.  Closes: #230750
  * Fix typo in pt_BR po file.  Closes: #192102
  * Revert fix for #232916, this turns out to be a bug in the pgpgp
    wrapper, dpkg worked fine with pgp itself.

 -- Scott James Remnant <scott@netsplit.com>  Thu, 11 Mar 2004 11:24:54 +0000

dpkg (1.10.19) unstable; urgency=high

  * Distinguish unmet build dependencies from build conflicts.
    Closes: #217943, #235266.
  * Force NULL-termination of all tar file entry names.  Closes: #232025.
  * Allow dselect to use the full window width.  Closes: #139781.
  * Pass correct number of arguments for format string when out of disk
    space.  Closes: #213038, #217286, #213543, #213846.
  * Remove duplicated entries from ChangeLog.  Closes: #157437.
  * Fix dpkg-buildpackage when used with PGP.  Closes: #232916.
  * Update support for Debian FreeBSD.  Closes: #211566.
  * Store Architecture in the status file.  Closes: #228253.
  * Don't print offending lines in md5sum.  Closes: #170953.
  * Check bounds of md5sum lines.  Closes: #168443, #199489, #199693.

 -- Scott James Remnant <scott@netsplit.com>  Mon,  8 Mar 2004 19:05:32 +0000

dpkg (1.10.18.1) unstable; urgency=medium

  * Non-maintainer upload to fix release-critical bugs.
  * Terminate string buffer in main/remove.c.  Closes: #228379.
  * Prevent stashing of hardlinked devices and setuid or setgid binaries
    by removing permissions on upgrade as well as on remove.
    Closes: #225692.
  * Update dpkg conflicts to << 1.10, instead of 1.9.
    Closes: #190611, #221989, #222760.

 -- Scott James Remnant <scott@netsplit.com>  Thu, 26 Feb 2004 01:17:27 +0000

dpkg (1.10.18) unstable; urgency=medium

  * Rebuild, tagging and releasing correctly from cvs this time.

 -- Adam Heath <doogie@debian.org>  Mon, 27 Oct 2003 13:39:56 -0600

dpkg (1.10.17) unstable; urgency=medium

  * Make dselect do conflict resolution when dealing with automatically
    selected recommended package. Thanks to Colin Watson for the analysis
    and patch. Closes: Bug#151663
  * Branden Robinson <branden@debian.org>:
    s/dpkg-checkbuild/dpkg-checkbuilddeps/ in usage.
  * dpkg-checkbuilddeps now sets $reduce_arch.  Closes: #212796.
  * Goswin Brederlow <brederlo@informatik.uni-tuebingen.de>:
    Add -u in dpkg-scanpackages.  Closes: #214123.
    Add -a<arch> command to dpkg-scanpackages.
  * Add .#* to dpkg-source's default ignore filter.  Closes: #217380.
  * Matthias Urlichs <smurf@smurf.noris.de>:
    Don't assume /usr/info/dir exists if /usr/info does.  Closes: #165770.
  * Jordi Mallach <jordi@debian.org>:
    Update Catalan translation.
  * Fix errors with dependency fields that reference ${dpkg:Version}.
    Closes: #213108.

 -- Adam Heath <doogie@debian.org>  Mon, 27 Oct 2003 13:04:57 -0600

dpkg (1.10.16) unstable; urgency=low

  * Almost *EVERY* damn file was including config.h in the wrong spot.
    After making it the first include, then off_t/size_t/etc could actually
    be redefined to be 64-bit compatible.
  * Jordi Mallach <jordi@debian.org>:
    Fix configure to set HAVE_SETLOCALE.  Closes: #211816
  * "Loïc Le Loarer" <lll_deb@m4x.org>:
    Add a -d|--chdir option to start-stop-daemon.  Closes: #151802
  * Split the background block into 2 parts: one that does the fork, and
    opens /dev/tty and /dev/null, and one that does everything else.  The
    second block is then moved to be run right before the exec.  This
    allows error messages to be seen from the child(previously, they were
    lost), and allows for the chroot to not require the device files.
    These changes based on the bugs filed by:
    Marc Herbert <Marc.Herbert@ens-lyon.fr>: Closes: #155219
    Loïc Le Loarer <lll_deb@m4x.org>: Closes: #151800
  * Mario Lang <mlang@debian.org>:
    When --start, --startas and --pidfile are given, print 'process'
    instead of '(null)' for the process name, if it's already running.
    Closes: #209355
  * Imported several translated manpages, from debian-doc cvs:
    * Spanish: 822-date.1 cleanup-info.8 deb-control.5 deb-old.5
      deb.5 dpkg-checkbuilddeps.1 dpkg-deb.1 dpkg-divert.8 dpkg-name.1
      dpkg-scanpackages.8 dpkg-split.8 dpkg-statoverride.8 dpkg.8
      dselect.8 md5sum.1 start-stop-daemon.8 update-alternatives.8
      "Esteban Manchado Velázquez" <zoso@debian.org>: Closes: #171489
    * French: deb.5
      Julien Louis <arthur51@ifrance.com>: Closes: #164906
    * Portuguese: dpkg.8 dselect.8
  * Matt Zimmerman <mdz@debian.org>
    In dpkg's manpage, -O had an inverted word.  Closes: #111711
  * Marcin Owsiany <porridge@debian.org>:
    Fix Polish translation of 'conflicts with'  Closes: #112057
  * Jiri Masik <masik@darbujan.fzu.cz>:
    Improve Czech translation of: "dpkg - warning: ignoring request to
    remove %s which isn't installed."  Closes: #117518
  * Marco Nenciarini <mnencia@prato.linux.it>:
    Fix missing space in Italian translation when listing files, and the
    file is diverted.  Closes: #138244
  * Piotr Roszatycki <Piotr_Roszatycki@netia.net.pl>:
    Update Polish translation.  Closes: #142370
  * Martin Quinson <mquinson@ens-lyon.fr>:
    Fix missing space in French translation of: "%s - warning: downgrading
    %.250s from %.250s to %.250s.\n"  Closes: #149142
  * Hidetaka Iwai <tyuyu@sings.jp>:
    Fix typo in Japanese translation of dpkg --force-help; downgrade ->
    downgrade:  Closes: #157819
  * Martin Quinson <mquinson@ens-lyon.fr>:
    Fix French translation when listing files, and the file is diverted.
    Closes: #162154
  * Rune Schjellerup <olberd@odense.kollegienet.dk>:
    Fix Danish translation of(was missing the leading space): " does not
    appear to be available\n"  Closes: #192972
  * Fix md5sum when handling large files.  Closes: #162691
  * Fix dpkg-checkbuilddeps calling of parsedep.  It wasn't setting
    use_arch.  Closes: #212796.
  * Joey Hess <joeyh@debian.org>:
    Change formatting of info.dir.  Closes: #167379.

 -- Adam Heath <doogie@debian.org>  Sat, 25 Oct 2003 15:46:16 -0500

dpkg (1.10.15) unstable; urgency=low

  * Fix detection of va_copy.
  * Back out debian/rules build-arch detection.  It is *not* possible *at
    all* to detect available targets in a rules file.  Period.

 -- Adam Heath <doogie@debian.org>  Fri, 19 Sep 2003 20:02:19 -0500

dpkg (1.10.14) unstable; urgency=low

  * controllib.pl:
    * Rewrote the parsedep stuff, so that it wasn't done during control
      file parsing.  Scripts that need the internal parsed format should
      call parsedep on the field's value.
    * Split the substvars parsing into a separate function.
    * No longer validate dependency fields when reading the control file.
      Some fields may have vars in them, which breaks the validation.
    * dpkg-gencontrol calls substvars after parsing the control file, and
      then validates the substituted depends lines.  Originally,
      substitution occurred only during writing of the final output file.
    * Andreas Barth <aba@not.so.argh.org>:
      Fix bad regex that didn't allow spaces in dependency field parsing.
      It now directly matches what the c code expects.  It previously was
      allowing all of \S, which matched on '('.
      Closes: #211660.
  * Remove stale debug in debian/control that would have broken
    installation on s390.
  * We were calling our own local copy of dpkg-gencontrol, but the
    system-installed copy of dpkg-shlibdeps.  Now, both are called from
    the build directory.

 -- Adam Heath <doogie@debian.org>  Fri, 19 Sep 2003 12:29:34 -0500

dpkg (1.10.13) unstable; urgency=low

  * Fix parsing of deps when both () and [] are specified.
  * Set $host_arch in controllib.pl:parsedep.
  * dpkg-checkbuilddeps doesn't output the [] stuff when finding invalid
    deps.

 -- Adam Heath <doogie@debian.org>  Wed, 17 Sep 2003 13:23:15 -0500

dpkg (1.10.12) unstable; urgency=low

  * Fix dpkg-source output of build-depends lines.

 -- Adam Heath <doogie@debian.org>  Tue, 16 Sep 2003 13:43:45 -0500

dpkg (1.10.11) unstable; urgency=low

  * dpkg no longer provides any BYHAND files.  If you need the source
    tarball, use the orig.tar.gz file available in the pool.  The
    precompiled tars were hold-overs from when debs were not standard
    ar/tar files.
  * Install /usr/share/doc/dpkg/pseudo-tags, which talks about the bug
    titling we use to mark bugs for filtering in the Debian bts.
  * Updated ca.po.
  * Teach dpkg-source that ~ is legal in version numbers
  * Add build-depends on sgml-base, and increase gettext build-depends to
    0.12.1-3.
  * Updated config.sub and config.guess in cvs.
  * Change use of strncpy in parsedb to memcpy.  Closes: #160447
  * No longer generate helpmsgs.{cc,h}.
  * several controllib changes:
    * Moved dependency parsing logic from dpkg-checkbuilddeps.
      The dpkg-checkbuilddeps parser didn't support empty fields, while
      the controllib parser did.
    * All dependency fields parsed by controllib.pl support [arch]
      specifiers.  If the arch specifier doesn't apply for the current
      arch, then the item will not be added to the internal list structure.
    * Comment lines(that begin with '#') are removed during parsing.
    * Store the original casing of field names, for use in error reporting.
    * Store the original field's casing with 'o:' prepended in %fi.
      * ballombe@merulo.debian.org:
        dpkg-checkbuilddeps now handles empty fields.  Closes: #111562
      * Branden Robinson <branden@debian.org>:
        support comments(first char on line begins with '#') in
        debian/control.  Closes: #191810
      * Bastian Blank <waldi@debian.org>:
        Allow for per-arch generated dependency fields.  Closes: #170575
      * Branden Robinson <branden@debian.org>:
        Report the original casing of field names when they are unknown.
        Closes: #177753
  * Patch dpkg-buildpackage to call debian/rules -qn build-arch, and if
    it's available, modify -B handling appropriately.  If build-arch is not
    available, then when -B was called, do *not* pass -B on to
    dpkg-checkbuilddeps.  Closes: #203097
  * Frank Lichtenheld <frank@lichtenheld.de>:
    Apply patch, to handle missing infodir.bak, and empty files.  Closes:
    #196361
  * Change standard_startup and standard_shutdown into macros.  Closes:
    #200351.
  * Andrew Suffield <asuffield@debian.org>:
    Fix inverted test of eof in parsedb, while looking for eof after
    field name.  Closes: #198218
  * Yann Dirson <dirson@debian.org>
    Add set -e to dpkg-doc.postinst.  Closes: #191261
  * Michael Weber <michaelw@debian.org>:
    dpkg --print-architecture now does gcc -dumpmachine instead of
    --print-libgcc-file-name.  Closes: #131893, #8241, #106793, #210285
  * Daniel Silverstone <dsilvers@digital-scurf.org>:
    Apply patch to change hashing function, and increase bin size, for
    the package database.  Closes: #206416
  * Paul Eggert <eggert@CS.UCLA.EDU>:
    Apply patch to make dpkg work with POSIX 1003.1-2001.  Closes:
    #204894
  * Joey Hess <joeyh@debian.org>:
    Fix "stripping trailing /" message from dpkg-statoverride.  Closes:
    #203782
  * Sami Liedes <sliedes@cc.hut.fi>:
    Increase filesdb bin size, and alter hashing function.  Closes:
    #179385
  * Anthony Towns <aj@azure.humbug.org.au>:
    Retry removing empty dirs during purge.  Closes: #112386
  * Darren Salt <linux@youmustbejoking.demon.co.uk>:
    Add .cvsignore to dpkg-source's default diff ignore regex.  Also fix
    missing \ escape for .deps.  Closes: #174013
  * Koblinger Egmont <egmont@uhulinux.hu>:
    Fix segfault with --status-fd.  Closes: #173618
  * Colin Watson <cjwatson@debian.org>,
    Andrew Suffield <asuffield@debian.org>:
    Add .svn, {arch}, and .arch-ids to dpkg-source -i default regex.
    Closes: #169359
  * Falk Hueffner <falk@debian.org>:
    Added alphaev68-linux-gnu to archtable.  Closes: #199360
  * Elie Rosenblum <fnord@debian.org>:
    Apply patch to support OpenBSD.  Closes: #154277
  * Geoff Richards <qef@laxan.com>:
    Add --config to action section, and add as EXAMPLES section.  Closes:
    #208014, #115759
  * Yann Dirson <dirson@debian.org>:
    install-info --version and --help now display on stdout.  Closes:
    #154633
  * Dan Jacobson <jidanni@dman.ddts.net>:
    Mention what dpkg and dpkg-query -S will not find.  Closes: #153096
  * Sebastian Leske <sleske@enterprise.mathematik.uni-essen.de>:
    Mention in dpkg(8) that downgrading a package can have serious
    consequences.  Closes: #61156
  * Dan Jacobson <jidanni@dman.ddts.net>:
    In dpkg-scanpackages(8), including small note that other tools might
    use the generated Packages file.  Closes: #208894
  * Warren Turkal <wturkal@cbu.edu>:
    Fix some typos in dpkg-source(1).  Closes: #207259, #204123, #167426
  * Dan Jacobson <jidanni@dman.ddts.net>:
    Alter text in dselect(8), implying that other interfaces are available
    for installing packages.  Closes: #206164.
  * Daniel Bonniot <bonniot@users.sourceforge.net>:
    Note in start-stop-daemon(8) that --nicelevel takes an argument.
  * Ruben Porras <nahoo82@telefonica.net>:
    Remove duplicate 'can' in deb-control(5).  Closes: #183840
  * Dan Jacobson <jidanni@dman.ddts.net>:
    Fix short description in dpkg-scansources(8).  Closes: #175770
  * Zefram <zefram@fysh.org>:
    In dpkg(8), move dpkg-query options to their own subsection, like
    dpkg-deb.  Closes: #174971
  * Thomas Hood <jdthood@yahoo.co.uk>
    Add --dry-run and --simulate as synonyms to --no-act.  Closes:
    #165099
  * Junichi Uekawa <dancer@netfort.gr.jp>:
    Fix wrong reference to DEB_BUILD_GNU_SYSTEM on --host in
    dpkg-architecture(1).  Closes: #163621
  * Michael Klein <michael.klein@puffin.lb.shuttle.de>:
    s/Usuaully/Usually/ in deb-control.5.  Closes: #161819
  * Joey Hess <joeyh@debian.org>:
    Removed reference in dselect(8) about recommends not being handled
    well.  Closes: #157973
  * Andrew Suffield <aps100@doc.ic.ac.uk>:
    s/dpkg-source/dpkg-parsechangelog/ in dpkg-parsechangelog -h.
    Closes: #155822
  * Matej Vela <vela@debian.org>:
    Unhighlight "May be repeated multiple times." in dpkg-source(1).
    Closes: #151845
  * Jordi Mallach <jordi@debian.org>:
    Make all actions in dpkg-deb -h lower case.  Closes: #150642
  * Alexander Hvostov <root@aoi.dyndns.org>:
    Add -g|--group to start-stop-daemon, and document properly.  Closes:
    #127342
  * Szerb Tamas <toma@mlf.linux.rulez.org>:
    s/THANKS/THANKS.gz/ in dpkg(8).  Closes: #91348
  * "James R. Van Zandt" <jrv@vanzandt-pc.mitre.org>:
    In dpkg(8), mention running dselect, install after --set-selections.
    Closes: #175236
  * Yann Dirson <dirson@debian.org>:
    Remove disabled --command-fd from help.  Closes: #169619
  * Tobias Burnus <tburnus@physik.fu-berlin.de>:
    Apply patch to update-alternatives that provides --set and --remove-all
    commands.  Closes: #133745.
  * Osamu Aoki <debian@aokiconsulting.com>:
    Add --all to update-alternatives, that calls --config on all
    alternatives.  Closes: #126621
  * Dan Jacobson <jidanni@jidanni.org>:
    Alter --config prompt, to be more clear, that one must 'press' enter to
    accept the default.  Closes: #203557
  * Peter Moulder <pmoulder@bowman.csse.monash.edu.au>:
    Fix some -w issues in update-alternatives.  Closes: #137313
  * Eduard Bloch <edi@gmx.de>:
    Apply patch to check whether the target path exists on removing.
    Closes: #37254
  * Colin Walters <walters@debian.org>:
    After opening files, set binmode.  Closes: #175363

 -- Adam Heath <doogie@debian.org>  Tue, 16 Sep 2003 12:52:11 -0500

dpkg (1.10.10) unstable; urgency=low

  * Update archtable for hurd.  Closes: #187509.
  * Make the dpkg-iasearch conflicts versioned.  Closes: #170698.
  * Surround sed call with '' in Makefile.in.  Closes: #187534.
  * Strip trailing / from the file args in dpkg-statoverride.  Closes:
    #184239.
  * Modified to use autotools-dev.  Closes: #179656.
  * Add netbsd support.  Closes: #179658, #179659.
  * Support hyphenated values in dpkg-architecture. Closes: #179661
  * No longer managed the /usr/doc symlinks.

 -- Adam Heath <doogie@debian.org>  Sat, 26 Apr 2003 15:10:24 -0500

dpkg (1.10.9) unstable; urgency=low

  * Fix dereference in main/help.c:cu_closefd(), which was the cause of
    close(random number) on most arches, but close(0) on s390x.
  * Add s390x to archtable.  Closes: #160976.

 -- Adam Heath <doogie@debian.org>  Sun, 15 Sep 2002 13:21:38 -0500

dpkg (1.10.8) unstable; urgency=low

  * Make the multiline regex have an upper bound, instead of being
    unbounded, as newer perls have a larger stack frame, which cause them
    to segfault quicker with larger inputs.  Closes: #159756.

 -- Adam Heath <doogie@debian.org>  Thu,  5 Sep 2002 16:32:01 -0500

dpkg (1.10.7) unstable; urgency=low

  * Fix double free in modstatdb_init, in the case that modstatdb_shutdown
    was called previously.  Closes: #159515.

 -- Adam Heath <doogie@debian.org>  Tue,  3 Sep 2002 18:59:19 -0500

dpkg (1.10.6) unstable; urgency=low

  * Don't call nffreeall, in any of the c/c++ programs.  It appears dselect
    slightly corrupts it's memory enough that it can't be freed without
    segfaulting.  Closes: #159023.

 -- Adam Heath <doogie@debian.org>  Sun,  1 Sep 2002 00:19:18 -0500

dpkg (1.10.5) unstable; urgency=low

  * Fix segfault in md5sum if the file being checked doesn't exist.
    Closes: #154503.
  * Fix extraction of md5sum in dpkg-scanpackages.  Closes: #153769.
  * Handle directories better in md5sum.  Closes: #157453.
  * Fix read past buffer in lib/nfmalloc.c.  Closes: #157304.
  * Fix several read pass buffer bugs, and a memleak.  Closes: #155362.
  * Fix segfault when --auto-deconfigure is given.  Closes: #157762.
  * Allow spaces between the end of a version, and the trailing ')'.
    Closes: #154898.
  * Fixes for HURD:  Closes: #156545
    * Add i386-gnu0.3 to archtable.
    * Fix handling of static compiles, with regard to zlib.
  * Previous install-infos(before 1.10) handled multiple dir file entries,
    because they would copy the entire stanza unmodified.  The newest
    version does not do this, as it reformats the options, and thereby
    only takes the first line.  So, we now split all the lines from the
    stanza, and process them all.  Closes: #147492.
  * Fix corruption of available file, caused by use of memory that was
    previously freed.  Closes: #154257.
  * Fix several minor memleaks.
  * Remove /usr/sbin/start-stop-daemon.  Closes: #156437.

 -- Adam Heath <doogie@debian.org>  Thu, 29 Aug 2002 16:43:15 -0500

dpkg (1.10.4) unstable; urgency=low

  * Remove -ffunction-sections and -fdata-sections.  Closes: #152130.
  * Install archtable into /usr/share/dpkg/.

 -- Adam Heath <doogie@debian.org>  Sun, 14 Jul 2002 15:17:56 -0500

dpkg (1.10.3) unstable; urgency=low

  * Move dselect.cfg to dselect package. Closes: Bug#152132
  * Install methods into /usr/lib/dpkg/methods, not /usr/lib/dpkg.  Closes:
    #152161.
  * Fix test inversion in start-stop-daemon, when checking the pid given in
    a pid file.  Thanks Thomas Morin <thomas.morin@enst-bretagne.fr>.
    Closes: #152270.
  * If in --test mode, and --stop is given, increment n_killed, so that
    start-stop-daemon returns the proper exit value.  Thanks Thomas Morin
    <thomas.morin@enst-bretagne.fr>.  Closes: #151992.

 -- Adam Heath <doogie@debian.org>  Thu, 11 Jul 2002 22:58:43 -0500

dpkg (1.10.2) unstable; urgency=low

  * Make configuration files in $HOME work again
  * dpkg + dpkg-static conflict with dpkg-dev << 1.9, to fix md5sum error
    in dpkg-source.  Closes: #151691.
  * Remove -Z from patch call, in dpkg-source, as it makes patch warn about
    missing timestamps.  Closes: #151965
  * Install debian/dselect.conffiles.

 -- Adam Heath <doogie@debian.org>  Thu,  4 Jul 2002 21:08:09 -0500

dpkg (1.10.1) unstable; urgency=low

  * Add conflict with dpkg-iasearch which intruded on our namespace.
  * Replace manpages-de which includes one of our manpages.  Closes: #151485
  * Don't always call autoheader when building. Closes: #151471
  * Fix double conflict in dpkg. Closes: Bug#151581
  * Move dselect methods to dselect package.
  * dpkg-checkbuilddeps no longer checks for build-essential. dpkg should
    not hardcode Debian policy.
  * Make dpkg-genchanges accept ~ as part of a package filename.
    Closes: Bug#150739
  * Move dpkg.cfg and dselect.cfg manpages into dpkg package. Closes: Bug#132901

 -- Wichert Akkerman <wakkerma@debian.org>  Tue,  2 Jul 2002 12:34:07 +0200

dpkg (1.10) unstable; urgency=low

  * dpkg now reorders symlinks when extracting debs.  However, this is also
    still done when building debs.  After a stable release of Debian has
    occurred with this modified dpkg, the reordering when building can be
    removed.
  * Fixed upper/lowercase problems with package names. Closes: Bug#58091
    (and 3 others).
  * Add Russian manual pages
  * Fix n in dselect package list (performs searchagain now)
  * Fix layout problem in dpkg-divert manpage. Closes: Bug#103667
  * When a package is set to hold, and a reinstallation is requested,
    -E will not properly skip it.  Closes: #45787.
  * Make dpkg-checkbuilddeps use dpkg-architecture. Closes: Bug#104230
  * Improve dpkg-architecture documentation. Closes: Bug#104232
  * Update German translation. Closes: Bug#97239
  * Update Polish translation. Closes: Bug#115783
  * Update French translation.
  * Update Brazilian translation.
  * Update Danish translation.
  * Update Galician translation.
  * Update Portuguese translations.
  * Add Catalan translation
  * Add German md5sum manpage
  * Add Brazilian update-alternatives manpage. Closes: Bug#122132
  * Improve dselect manpage. Closes: Bug#103839
  * dpkg-name(1) no longer mentions the non-existing dpkg(5) manpage.
    Closes: Bug#104214
  * Improve handling of Recommends and Suggests in dselect. Closes: Bug#34942
  * Add per-user configuration files. Closes: Bug#103845
  * Split dselect into its own package. dpkg Pre-Depends on it
    to make sure no weird things happen during an upgrade but this
    will allow us to make dselect option at some point in the future.
    Closes: #114249.
  * Make colours in dselect user-configurable. Closes: Bug#103994
  * Make Q do an abort in the method selection menu to make things more
    consistent with the package list
  * Fix test for nice(2) failure in start-stop-daemon. Closes: Bug#104561
  * Improve the dselect helpscreen a bit. Closes: Bug#72634
  * New version comparison routine that can handle arbitrarily large numbers
    and accepts `~' as a low-sorting character. Closes: Bug#93386
  * dselect now accepts regular expressions when searching for packages
    and can search in package descriptions as well.
    Closes: Bug#81009,#83139
  * Move query commands into a separate dpkg-query command. For the old options
    (-L,-l,-s,-S) dpkg will still call it for you.
  * Add configurable package listing support to dpkg-query
  * Handle window resize in dselect main menu. Closes: Bug#98275
  * update-rc.d moved to the sysvinit package. Closes: Bug#108887,#109282
  * Add --showformat and --show options to dpkg-deb and dpkg-query to
    allow one to customize the output format
  * several install-info cleanups:
    * Move /usr/info/dir to /usr/share/info/dir.  Closes: #67174.
    * If /usr/share/info doesn't exist, print a message saying so,
      instead of the confusing "couldn't lock" error.  Closes: #2531.
    * If /usr/share/info/dir doesn't exist, or is empty, try to copy the
      backup from /var/backups/infodir.bak.  Closes: #121309.
    * Add a --remove-exactly option, and allow for relative filenames.
      Closes: #92650.
    * Use the section from the .info file if --section is not given.
      Closes: #76100.
    * Error messages now include the filename being processed.
      Closes: #66735
    * /usr/share/info/dir now has it's entries formatted to even widths.
      Closes: #11228
    * --calign|--align|--maxwidth are now ignored.
  * strip enoent as well. Closes: Bug#112378
  * Fix format error in Dutch translation. Closes: Bug#113120
  * When parsing stdin, md5sum now displays '-' as the filename, to match
    textutils md5sum.  Closes: #121489.
  * Apply patch from bug, to give update-alternatives a --list command.
    Closes: #120924.
  * Make dpkg-checkbuilddeps always check for build-essential.
    Closes: Bug#118420.
  * Use space separated output instead of comma separated in
    dpkg-checkbuilddeps
  * Update default ignore expression in dpkg-source to also match *~ and
    *.swp in subdirs. Closes: Bug#127458
  * Handle errors when verifying md5sums. Closes: Bug#102367
  * dpkg-source now uses reliable timestamps for changed files.
    Closes: Bug#105750
  * Fix typo in start-stop-daemon help message. Closes: Bug#131439
  * update-alternative exits with a non-zero exit code when displaying
    a non-existing alternative. Closes: Bug#131496
  * Use gzip -c in install-info. Closes: Bug#131758
  * start-stop-daemon works on HP-UX now. Closes: Bug#130130
  * Fix dselect spin when run without input. Closes: Bug#132476
  * Update-alternatives now correctly restores an alternative to auto mode
    when removing a manually selected alternative. Closes: Bug#132632
  * Copy bugs and origin information into status file. Closes: Bug#132714
  * Improve wording of update-alternatives --config text. Closes: Bug#133035
  * Add manpages for dpkg.cfg and dselect.cfg. Closes: Bug#132901
  * Improve test for illegal packagename for dpkg-gencontrol -p option
  * Fix segfault when getenv("PATH") returns null.  Closes: Bug#136349
  * Add Large File Summit extensions. Closes: Bug#130509
  * Fix typo in dpkg-source manpage. Closes: Bug#141906
  * Re-fix handling of multiple blank lines in control. Closes: Bug#143117
  * Document --force-confmiss and --force-bad-verify. Closes: Bug#146855
  * Drop upgrade compat stuff in dpkg postinst for ancient versions (over
    5 years old)
  * Always set CLOEXEC on the lock fd.  Closes: Bug#147872
  * Clean up tmp files when ctrl-c is sent to dpkg-source.  Closes:
    Bug#58653.
  * dpkg-source no longer requires exact case matches for fields in
    debian/control.  Closes: Bug#139159.
  * dpkg-scanpackages now gives proper case for Source and Installed-Size.
    Closes: Bug#119532.
  * dpkg-architecture: s/build on/built on/; same for 'build for'.
    Closes: Bug#140441.
  * cl-debian.pl now recognizes emergency as valid in changelogs.
    Closes: Bug#138013.
  * Properly count recursive expansion of variables, instead of just
    counting all variable expansions.  Closes: #144121.
  * Add -I<filename> to dpkg-buildpackage and dpkg-source, to excludes
    files from tar, when building a native package.  Closes: Bug#75947.
  * Close the old debian/files file, before doing a rename.  Closes:
    Bug#111503.
  * Fix documentation of -v<version> for dpkg-parsechangelog, removing the
    requirement that the version has to be in the changelog.  Closes:
    Bug#117968.
  * Fix typo in dpkg-source(1), for '-sU'.  Closes: Bug#126340.
  * Add dpkg-scansources to dpkg-scanpackages(8).  Closes: Bug#147924.
  * Change /usr/info into a symlink to /usr/share/info if possible

 -- Wichert Akkerman <wakkerma@debian.org>  Fri, 21 Jun 2002 21:53:15 +0200

dpkg (1.9.21) unstable; urgency=low

  * Fix corrupt Swedish translations that would some error messages display
    incorrectly.
  * Enable --force-overwrite by default in /etc/dpkg/dpkg.cfg
  * dpkg.cfg is now no longer a conffile. This means the installer can
    change defaults depending on how an install is done
  * Detect truncated debs, and abort the unpack.  Closes: #138569.
  * Improve dpkg(8) --force documentation
  * Fix error in Russian dselect translation

 -- Wichert Akkerman <wakkerma@debian.org>  Thu, 16 May 2002 19:42:29 +0200

dpkg (1.9.20) unstable; urgency=medium

  * Fix assertion when --auto-deconfigure is set.  Closes: #137765.
  * Fix segfault discovered by fixing the above.
  * Fix segfault when getenv("PATH") returns null.  Closes: #136349
  * Recompiled against updated zlib, to fix possible security issue.  Also
    bumped build-depends to match.  Closes: #137931(grave)

 -- Adam Heath <doogie@debian.org>  Sun, 17 Mar 2002 02:52:44 -0600

dpkg (1.9.19) unstable; urgency=medium

  * install-info continues to read all data from a pipe, until EOF.
    Closes: #99816(grave).
  * Add Catalan translation
  * Update Danish translation. Closes: Bug#131869
  * Update French translation.
  * update-alternative exits with a non-zero exit code when displaying
    a non-existing alternative. Closes: Bug#131496
  * Changed Maintainer to debian-dpkg@lists.
  * Fix "Up to date installed packages" for polish translation.  Closes:
    #116398.
  * Swap updated/up-to-date polish translations(they were reversed).
    Closes: #117583, #102961.
  * Mark /etc/alternatives/README as a conffile.
  * Strip .note, .comment, and /usr/lib/dpkg/enoent.
  * Make dpkg-gencontrol not warn about Uploaders.  Closes: #111090.

 -- Adam Heath <doogie@debian.org>  Sat,  2 Feb 2002 11:47:34 -0600

dpkg (1.9.18) unstable; urgency=low

  * Fix MD5Sum corruption when upgrading a package.  Closes: Bug#113961.
  * Add Wichert and I to debian/control:Uploaders.

 -- Adam Heath <doogie@debian.org>  Sat,  3 Nov 2001 00:31:00 -0600

dpkg (1.9.17) unstable; urgency=low

  * updated-rc.d moved to the sysvinit package. Closes: Bug#108887,#109282

 -- Wichert Akkerman <wakkerma@debian.org>  Wed, 22 Aug 2001 01:24:52 +0200

dpkg (1.9.16) unstable; urgency=low

  * Revert architecture-change to dpkg-source from 1.9.11, see ChangeLog
    for details.

 -- Wichert Akkerman <wakkerma@debian.org>  Thu,  5 Jul 2001 22:42:11 +0200

dpkg (1.9.15) unstable; urgency=low

  * Change policy of handling dscformat in dpkg-source
  * Fix the arglist construction for maintainer scripts
  * Revert dscformat to 1.0 since older dpkg-source versions do not have
    the new policy. In the future (starting at format 2.0 to maintain
    compatibility with old dpkg-source implementations) minor changes to
    the dscformat have to be fully backward and forward compatible.

 -- Wichert Akkerman <wakkerma@debian.org>  Sat, 30 Jun 2001 16:41:43 +0200

dpkg (1.9.14) unstable; urgency=low

  * Make the Uploaders field in a .dsc file optional.
  * Disabled sanity checking of source packages.

 -- Adam Heath <doogie@debian.org>  Mon, 25 Jun 2001 02:22:40 -0500

dpkg (1.9.13) unstable; urgency=medium

  * Add a -W option to dpkg-source(and the other utils, where it is just
    passed thru), to turn certain errors into warnings(of which, only
    one is changed, namely, the 'tar doesn't contain preceding directory'
    error).  Closes: #101813, and partially 101845.
  * Don't error out if the files in the tar have leading './', for
    dpkg-source.  (another partial close of 101845).
  * Handle the case where a single directory exists in the orig.tar.gz, but
    it is NOT of the form <pkg>-<ver>.  Closes: #101845.
  * Set LC_ALL in dpkg-source when we call external programs when we are
    going to parse their output.  Another bug from 101845.
  * Handle stating of truncated cpio filenames(100 char limit, bah), in
    dpkg-source.  Another bug from 101845.
  * Add support for an Uploaders field, which is read from the first
    paragraph of debian/control, and propagated to the .dsc.  This lists
    the people allowed to upload a package.  If it is not set, then the
    value of the Maintainer is placed into this field of the .dsc.  This
    bumps the .dsc format to 1.1.  Closes: #101815.
  * Handle symlinks in the tarball, and don't error out if found.
  * in controllib, make warnerrors default to warnings.  Affects
    dpkg-source.  This will be changed to be errors in the future.

 -- Adam Heath <doogie@debian.org>  Sun, 24 Jun 2001 13:48:52 -0500

dpkg (1.9.12) unstable; urgency=medium

  * Fix do_script() bug. Closes: Bug#101552
  * Fix building and extracting of certain kinds of source packages.
    Closes: #101684.
  * Added Colin Watson to THANKS.

 -- Adam Heath <doogie@debian.org>  Wed, 20 Jun 2001 18:27:03 -0500

dpkg (1.9.11) unstable; urgency=low

  * The "Hang on to your hats, it gets bumpy from here." release.
  * Trim trailing spaces from package names when checking builddeps.
    Closes: #101304.
  * Apply patch from bug to fix logic error that kept everything but
    Build-Deps from working in checkbuilddeps.  Closes: #101511.
  * Apply patch to correctly check the output of gcc on hurd, for
    dpkg-architecture. Closes: #99874.
  * The internal pod docs in dpkg-architecture were updated to reflect
    that -f was no longer implied when -q was given, but the build system
    wasn't generating new documentation.  Closes: #100997.
  * deb(5) now has a see-also for deb-old(5).  Closes: #99620.
  * Fix dpkg-shlibdeps infinite directory recursion thru symlinks.
    Closes: #97622.
  * Set the Architecture to 'source' only when doing source only uploads
    in the generated changes files.  Closes: #100144.
  * Document -nc in the dpkg-buildpackage manpage.  Closes: #101038.
  * Make dpkg-source work with GNU md5sum.  Closes: #97666.
  * in dpkg-source, when both arch: all and arch: <arch> packages exist in
    debian/control, don't promote the source arch: to any, but only list
    all and <arch>.  Closes: #94608
  * Apply patch from Colin Watson:  Closes: #89679
    * Reset SIGPIPE to DEFAULT when forking gzip.
    * set LANG to C before execing cpio, as we parse its output.
    * In checktarcpio() and checktarsane(), use the previously open pipes,
      instead of the opening files on disk(which was the old, ancient way).
    * Improve the output parsing of tar in checktarsane().
  * warn instead of die when find returns an error(which happens if there
    is a dangling symlink, because we use -follow).  Closes: #51479.
  * Change list of allowed urgencies in debian/changelog to: low, medium,
    high, and critical.  Closes: #94475.
  * Error out if an illegal package name is used in dpkg-gencontrol.pl.
    Closes: #61211
  * Apply patch from Marcus Brinkmann to dpkg-buildpackage:  Closes:
    #98201.
    * Option -a implies option -d.
    * Set ARCH correctly to host architecture, rather than build arch.

 -- Adam Heath <doogie@debian.org>  Tue, 19 Jun 2001 22:15:25 -0500

dpkg (1.9.10) unstable; urgency=low

  * Fix [arch] parsing, and handle extra spaces better.  Closes: #100512,
    #101031.
  * Apply patch from bug, to fix cleanup of dpkg-divert temp files.
    Closes: #100474.
  * Swap j/k keys on the main menu, so they function like the package
    selection screen(and like vi).  Closes: #100502.
  * Multiple fixes in bug: Closes: #99892.
    * s/DEAD_JOE/DEADJOE/ in dpkg-source.
    * Switch to auto mode if alternative symlink is missing.
  * Update Spanish translation

 -- Adam Heath <doogie@debian.org>  Sat, 16 Jun 2001 14:57:45 -0500

dpkg (1.9.9) unstable; urgency=low

  * The leading and trailing spaces patch in the last upload had some
    issues with trailing spaces.  This fixes them.  No bug to close, as the
    bts is still down.

 -- Adam Heath <doogie@debian.org>  Wed,  6 Jun 2001 22:36:57 -0500

dpkg (1.9.8) unstable; urgency=low

  * Remove leading and trailing spaces from versions, and check for
    embedded spaces, inside dpkg.  Closes: #99186.
  * Handle varied use of spaces in dpkg-checkbuilddeps.  Closes: #98899.
  * Reset SIGPIPE back to default, in dpkg-source.  Closes: #98563.
  * Remove bogus $! check from dpkg-architecture.  Closes: #99428.

 -- Adam Heath <doogie@debian.org>  Sat,  2 Jun 2001 15:15:04 -0500

dpkg (1.9.7) unstable; urgency=low

  * If a new file doesn't exist on disk, but is a going to be installed as
    a directory, then don't error out.  Closes: Bug#17381.
  * Update japanese manpages.  Closes: Bug#97831.
  * Update it.po.  Closes: Bug#98273.
  * Fix bad cleanup in dpkg-divert.  Closes: Bug#98578,#98828,#98831.

 -- Adam Heath <doogie@debian.org>  Mon, 28 May 2001 18:59:03 -0500

dpkg (1.9.4) unstable; urgency=low

  * Oops.  EOF_mmap incorrectly detecting the end of the data block.
    Closes: Bug#95981.
  * After fixing the above bug, and using debootstrap to build a sid
    chroot, I discovered that my previous dependency cycle fix could cause
    segfaults in some situations.

 -- Adam Heath <doogie@debian.org>  Tue,  1 May 2001 23:04:46 -0500

dpkg (1.9.3) unstable; urgency=low

  * Fix compiles on ppc. Closes: Bug#95918.

 -- Adam Heath <doogie@debian.org>  Tue,  1 May 2001 00:29:45 -0500

dpkg (1.9.2) unstable; urgency=low

  * Recompile, to fix incorrect path 1.9.1/dpkg-divert. Closes: Bug#95845

 -- Adam Heath <doogie@debian.org>  Mon, 30 Apr 2001 14:21:28 -0400

dpkg (1.9.1) unstable; urgency=low

  * Fix segfault with empty status and available, and when missing a
    trailing new line.  Closes: Bug#95496
  * Make dpkg-shlibdeps not care if dpkg --search return with an error.
    Closes: Bug#95568
  * Fix corruption of user-defined fields in status and available.
    Closes: Bug#95567.
  * Changed dpkg.cfg to include no-debsig by default, as no debs are
    currently signed, and we get false errors when debsig-verify is
    installed.  This will be removed in the future, when the archive tools
    support package signatures.  Closes: Bug#95573
  * dpkg-buildpackage should only check for valid signinterface if the
    user specifies one. Closes: Bug#95598
  * Fix removing of diversions.  Closes: Bug#95655
  * Fix md5sum -c. Closes: Bug#95586

 -- Adam Heath <doogie@debian.org>  Sat, 28 Apr 2001 16:28:21 -0500

dpkg (1.9.0) unstable; urgency=low

  * Things should mostly work OpenBSD 2.8 as well now
  * Added a --status-pipe option.
  * Fixed several memleaks.
  * Profiled dpkg.
    * Reworked lib/parse.c:parsedb().  Instead of using getc(), then
      calling varbufaddc(), it now reads the entire file at once into a
      huge buffer, then moves pointers around, to do the parsing.  This
      gave a speedup of 33% on a dual celeron 333, when reading status and
      available.
    * various other speedups.
  * Removed all --smallmem code, as smallmem and largemem now actually
    use about the same amount of memory, and largemem is faster.  Both
    --largemem and --smallmem are now obsolete options, and will print
    a warning if used. Closes: Bug#84905, #67528
  * Initialize uninitialized variables.  This should solve several
    segfaults. Closes: Bug#25317(plus 9 others, thru the beauty of
    merges)
  * Found that when working with dependency cycles, and part of the cycle
    was a provide, the provider was not being considered, so the cycle
    could not be broken. Closes: Bug#87985(and 3 others)
  * Update German translation, Closes: Bug#80529,#80532,#87581
  * Update French translation, Closes: Bug#65284,#85035,#87238
  * Update Japanese translation, Closes: Bug#93873
  * Updated all other translations (but no bugs filed)
  * Add Danish translation
  * Remove spurious '%s' in Polish translation, Closes: Bug#74814
  * Add French manpages, courtesy of Philippe Batailler
  * Ignore vim swapfiles in dpkg-source, Closes: Bug#81630
  * remove --import option from dpkg-statoverride, Closes: Bug#81358
  * Replace nfmalloc implementation with obstack. Added obstack.[ch] to
    optlib, for non-GNU systems.
  * dpkg-divert only allows absolute filenames now. Closes: Bug#82419
  * Handle diffs from non-existing files to existing files. Closes: Bug#82708,
    #90982.
  * Small fixes to the buildsystem. Closes: Bug#84361
  * Fix dpkg-statoverride --update for things other then plain files.
    Closes: Bug#84449
  * Fix race with source directory disappearing in dpkg-source.
    Closes: Bug#45511
  * Fix manpage for dpkg-gencontrol. Closes: Bug#84625
  * Add -n option for dpkg-gencontrol to specify a filename. Closes: Bug#75796
  * Use POSIX glob instead of regexp in debian/rules. Closes: Bug#83042,
    #84582
  * fix typo in usage message for dpkg-divert, Closes: Bug#85977
  * Use full path for argv[0] when calling scripts. Closes: Bug#68783
  * Add ia64 support to dpkg-architecture.
  * Minor script changes, Closes: Bug#87485
  * Stop dpkg-genchanges from complaining about missing packages
    when doing a source-only build. Closes: Bug#87571,#15644,#25496
  * Various dpkg-architecture cleanups. Closes: Bug#87505
  * Modify dpkg-architecture to handle gcc versions containing letters.
    Closes: Bug#83083
  * dpkg-buildpackage updates: Closes: Bug#87572,#85847
    + make -C work properly
    + fix test for gpg secret keyring
    + improve source messages
    + skip signing pause when building unsigned packages
    + test for invalid signinterface. Closes: Bug#87579
    + remove debsign support, it's useless and doesn't work
    + Use correct architecture when naming .changes file. Closes: Bug#88015
  * Fix wording in dpkg-statoverride manpage for --add. Closes: Bug#85080
  * Fix typo in start-stop-daemon manpage. Closes: Bug#88225
  * Add dpkg-checkbuilddeps to check if build dependencies are satisfied
    and modify dpkg-buildpackage to call it if wanted.
    Closes: Bug#86453,#83812,#60717,#74372,#67896,#60717,#13961
  * dpkg-parsechangelog can read a changelog from stdin now. Closes: Bug#80142
  * Fix confusing wording for dpkg-buildpackage -uc option in manpage.
    Closes: Bug#83468
  * dpkg-statoverride now exits with exitcode 1 if we do a --list but don't
    output anything. Closes: Bug#84328
  * Remove Linux reference from all scripts, they should run fine on
    other OSes as well.
  * Mark last argument in dpkg-scanpackages usage info as optional.
    Closes: Bug#86658
  * Fix cache in dpkg-scanpackages version comparison. Closes: Bug#90722
  * Fix formatting error in dpkg-source.1. Closes: Bug#82723
  * Change dpkg-gencontrol to fix comma-related syntax errors after
    processing substvars. Closes: Bug#92908
  * Verify package signatures if debsig-verify is installed. Closes: Bug#37017
  * Handle window resize in dselect main menu. Closes: Bug#93559
  * Initialize all parts of the package record.  This should fix several
    segfaults people have been seeing in dpkg.  Closes: Bug#90328.
  * Apply patch from bug#86847, that escapes intl chars in filenames.
    Closes: Bug#83752, #85040, #86847, #89000.
  * Errors during dpkg -s(and other similar commands) are now printed
    on stderr.  Closes: Bug#88987.
  * Add a --retry option to start-stop-daemon. Closes: Bug#75139
  * Fix regeps to extract Closes magic from a changelog so the #
    is really optional. Closes: Bug#94474
  * Remove useless statement from dpkg-shlibdeps. Closes: Bug#90516
  * Make the debian changelog parser identify itself with $progname.
    Closes: Bug#89409
  * Give a syntax error when we get an unexpected PGP signature in control
    files. Closes: Bug#75562
  * Change dpkg manpage to reflect that --force-statoverride is no enabled
    by default. Closes: Bug#95023
  * Handle dangling symlinks, by ignoring error code 1 from find, when
    processing --recursive. Closes: Bug#4784
  * dpkg -L, -S, -l, -s, and -p now return an error code if any package
    does not exist. Closes: Bug#4974, #72406
  * dselect has a configuration file as well now
  * Get ENOENT value at runtime in dpkg-divert instead of hardcoding it.
    Closes: Bug# 31620
  * Fix wrong ENOENT test in dpkg-divert. Closes: Bug#95088
  * Add support for more SuperH variants (sh[34]{,eb}-linux-gnu)
  * Fix formatting and a typo in the dpkg manpage
  * Document the dpkg.cfg configuration file in dpkg(8)

 -- Wichert Akkerman <wakkerma@debian.org>  Thu, 26 Apr 2001 12:39:16 +0200

dpkg (1.8.3.1) unstable; urgency=low

  * Revert change to nfmalloc.c that was causing SIGBUS on sparc.

 -- Ben Collins <bcollins@debian.org>  Sat, 13 Jan 2001 08:52:11 -0500

dpkg (1.8.3) unstable; urgency=low

  * Do chown before chmod in dpkg-statoverride, Closes: Bug#81943
  * Fix recursion in dpkg-shlibdeps, Closes: Bug#81322
  * Really completely revert dpkg-source patches which broke backwards
    compatibility

 -- Wichert Akkerman <wakkerma@debian.org>  Fri, 12 Jan 2001 00:02:22 -0800

dpkg (1.8.2) unstable; urgency=low

  * Don't attempt to read from an input source when we only want 0 bytes.
    Also handle buggy systems that return EAGAIN instead of EINTR.  Closes:
    #81881.

 -- Adam Heath <doogie@debian.org>  Thu, 11 Jan 2001 00:43:50 -0600

dpkg (1.8.1.1) unstable; urgency=low

  * Apply patch from bug to fix badly generated diffs(in some
    circumstances).  Closes: #81152

 -- Adam Heath <doogie@debian.org>  Sat,  6 Jan 2001 16:07:33 -0600

dpkg (1.8.1) unstable; urgency=low

  * Make --name a valid option.  Closes: #31206, #51953.
  * dpkg-deb -I <pkg> <control> works again
  * Update Swedish translation

 -- Wichert Akkerman <wakkerma@debian.org>  Thu,  4 Jan 2001 19:31:13 +0100

dpkg (1.8.0) unstable; urgency=low

  * Add -k|--symlink option to dpkg-name.  Closes: #35040
  * Made the accelerator keys in dselect's main menu separate options, so
    that they can be translated separately.  Closes: #50955.
  * Added depends on sysvinit (>= 2.72), so that we can make sure that
    /etc/rcS.d exists.  Closes: #55037.
  * update-rc.d: Changed documentation and help, as -f only applies during
    remove.  Closes: #55049.
  * Added a --force-all option.  Closes: #61354.
  * Format help string for --abort-after like other option help strings.
    Closes: #62464.
  * Fix dselect methods to pass admindir to dpkg from dselect.
  * Minor tweak so that when patch 2.5.4 is manually used to apply a diff,
    it doesn't get applied multiple times.  Closes: #65021
  * Add --nicelevel to start-stop-daemon, to alter a programs priority
    before starting.  Closes: #65191.
  * Document that --largemem is the default, and that the test point is
    24 megs.  Closes: #65607.
  * Document that --set-selections does not actually install any
    packages.  Closes: #65340.
  * Fix typo in dpkg-deb.1.  Closes: #65945.
  * Add --truename option to dpkg-divert.  Closes: #68489.
  * Documented COLUMNS in dpkg(8).  Closes: #77001.
  * Modified DPKG_C_GCC_TRY_WARNS() to call AC_SUBST, so that we can
    use the result of the test during build time.  Closes: Bug#75138
  * Added description for "suggests" in main/depcon.c:describedepcon().
    Closes: Bug#74113
  * Removed bashing from dpkg.postinst.
  * Make '#' optional in Closes: tags.  Closes: Bug#63137.
  * Add -t to -h output in dpkg-buildpackage:  Closes: Bug#49598.
  * Fix typo in --compare-versions error message.  Closes: Bug#66474.
  * -R doesn't mean --root.  Closes: Bug#66068, #72013
  * Add armv3l to archtable.  Closes: Bug#72125
  * Fix two memory leaks, and lesson the memory foot print a tad.  Hints
    taken from 74259.
  * Fix some things perl5.6 complains about. Closes: Bug#77337
  * Fix references to dpkg-deb manpage. Closes: Bug#77855
  * Update Galish translation
  * Add new --import option to dpkg-statoverride to make it easy to
    import suidmanager settings.
  * Speedup patches by Adam Heath
  * statoverride fixes by Robert Luberda, Closes: Bug#78436
  * Add Linux S/390 support. Closes: Bug#79063
  * Using libz to decompress data instead of calling gzip.
    Closes: Bug#49581
  * Add gettext to build-depends
  * Fix warning when trying to remove a non-existing statoverride.
    Closes: Bug#79352
  * Be more paranoid with file permissions when extracting files
  * Apply statoverrides to more then just files
  * Update update-alternatives manpage to use FHS instead of FSSTND.
    Closes: Bug#80237
  * List descriptions for udebs in .changes

 -- Wichert Akkerman <wakkerma@debian.org>  Mon, 25 Dec 2000 17:19:31 +0100

dpkg (1.7.2) unstable; urgency=low

  * Fix parsing of configuration files
  * Add new powerpc-linux-gnu entry to archtable. Closes: Bug#76522
  * No longer bother to install emacs things. I don't use emacs myself
    and can't support that properly.
  * scripts/dpkg-shlibdeps.pl: Make it parse soname's in the format of
    "libfoo-X.X.so" (e.g. libdb-3.1.so) and use it. Also make it give a
    warning if there is a NEEDED line in the objdump output that we cannot
    grok.
  * scripts/dpkg-shlibdeps.pl: resolve library paths using a combination
    of the libc major version, and ldconfig -p output. Solves problems
    with errant libc5 deps.
  * Correct name of .changes file when doing source-only builds
  * Fix -ap option for dpkg-buildpackage. Closes: Bug#77305
  * Fix typo in update-alternatives manpage. Closes: Bug#77829
  * Fix typo in script-regexp update-rc.d. Closes: Bug#76029

 -- Wichert Akkerman <wakkerma@debian.org>  Thu, 23 Nov 2000 18:55:50 +0100

dpkg (1.7.1) unstable; urgency=medium

  * Fix a typo in the dpkg-statoverride manpage
  * dpkg-statoverride reads and writes the right file now
  * Make update-alternatives use the right dir for alternatives again

 -- Wichert Akkerman <wakkerma@debian.org>  Tue,  7 Nov 2000 01:16:39 +0100

dpkg (1.7.0) unstable; urgency=low

  * Allow the administrator to override file mode and ownership using the
    new dpkg-statoverride tool.
  * Use objdump instead of ldd in dpkg-shlibdeps
  * Fix logic in dpkg-shlibdeps so it looks for dependencies as specified
    in its documentation
  * Make update-alternatives update slave links with --config and properly
    switch the alternative to manual mode
  * HURD updates, Closes: Bug#57753,#57754,#57755
  * dpkg-architecture: -q should not imply -f, Closes: Bug#57761
  * add dpkg:UpstreamVersion and dpkg:Version substvars in dpkg-genchanges
    and dpkg-gencontrol.  Closes: Bug#62069,#64774
  * dpkg-genchanges: add new Changed-By field to .changes with the last
    person who made a change, and modify the Maintainer-field to be the
    actual maintainer. Update the format-version to 1.7 to reflect this.
  * dpkg-genchanges: allow a space between # and a to-be-closed bugnumber
  * dpkg-deb: reorder files when building a package
  * dpkg-statoverride: new tool to override ownership and modes for files
  * Check COLUMNS environment for dpkg -l output. Closes: Bug#65536
  * Add Origin and Bugs fields to the control file
  * Install new /etc/dpkg/origins/debian file
  * Corrections and updates to Swedish translation.
  * Add Galician, German, Dutch and Brazilian translations
  * archtable: add ia64 and sh; revert sparc64 so that it turns into sparc.
    There won't be a full binary-sparc64 port. Closes: Bug#70788
  * dselect/main.cc: small fixups to get it to compile with gcc-2.96
  * Clean up fd handling in some places. Closes: Bug#69359,#69360,#69361
  * Document -k option for dpkg-buildpackage. Closes: Bug#71808
  * Install commented dummy shlibs.default and shlibs.override files
  * Give dpkg a configurationfile
  * dpkg-scanpackages now uses the most recent version if multiple versions
    of a package are found.
  * don't rename a file to itself in dpkg-source. Closes: Bug#75060
  * Fix buffer overflow in cmdname handling in start-stop-daemon.
    Closes: Bug#75103
  * Don't abort if start-stop-daemon tries to read a non-existing pidfile.
    Closes: Bug#75105
  * Update formatting of start-stop-daemon manpage. Closes: Bug#75110
  * Make a missing package a warning instead of an error in dpkg-genchanges

 -- Wichert Akkerman <wakkerma@debian.org>  Sun,  5 Nov 2000 17:28:39 +0100

dpkg (1.6.13) frozen unstable; urgency=low

  * Add Format-flag to .dsc format: we know we are going to change the
    format in the next release, this change will make dpkg-source abort
    with a reasonable error instead of doing unexpected things.
  * Fix error in gettext'ized string
  * Updated Czech, French, Polish and Spanish translations. Closes: Bug#63663
  * debian-changelog-mode.el: fix documentation string for
    debian-changelog-finalise-last. Closes: Bug#63003

 -- Wichert Akkerman <wakkerma@debian.org>  Mon,  8 May 2000 16:08:53 +0200

dpkg (1.6.12.99) frozen unstable; urgency=low

  * Pre-release for 1.6.13. which will only feature translation updates
  * Fix typo in dpkg-divert, Closes: Bug#60243
  * dpkg-genchanges: recognize non-deb packages (tarballs, such as
    dpkg-non-deb and boot-floppies disk tarballs). This makes sure that we
    include them when figuring out the Arch field in the .changes
  * mark another string as translateable, Closes: Bug#62543
  * fix location of --abort-after in --help output, Closes: Bug#62464
  * fix allocation error in checkpath(), Closes: Bug#62364
  * add Hold to list of desired package states in -l output, Closes: Bug#58765

 -- Wichert Akkerman <wakkerma@debian.org>  Fri, 21 Apr 2000 11:52:59 +0200

dpkg (1.6.12) frozen unstable; urgency=high

  * Fix test for gpg/pgp in dpkg-buildpackage. You can now build
    unsigned packages again. Closes: Bug#60395
  * Updated Spanish and Swedish translations. Closes: Bug#41735
  * Merge patch from Joel Klecker to remove emacsen-common stuff from dpkg-dev

 -- Wichert Akkerman <wakkerma@debian.org>  Mon,  3 Apr 2000 16:50:02 +0200

dpkg (1.6.11) frozen unstable; urgency=high

  * Oops, missed one case where the libc/ncurses conflict reared its
    ugly head and broke dselect miserably.
  * fix syntax error in dpkg-divert. Closes: Bug#60050

 -- Wichert Akkerman <wakkerma@debian.org>  Fri, 10 Mar 2000 11:52:07 +1100

dpkg (1.6.10) frozen unstable; urgency=low

  * The `it rains in Sydney' release
  * Mark another string in dselect as translateable, Closes: Bug#58618
  * Fix typos, Closes: Bug#58619
  * Change dselect keybindings slightly so `n' really does searchagain
  * Updated Czech and Spanish translations, Closes: Bug#58617
  * dpkg-divert.pl: reinstate last writeability-patch. Modified
    to not abort on ENOENT: this indicates a directory does not (yet)
    exist. If this happens don't try to rename. This should fix all
    current dpkg-divert problems. Closes: Bug#59207,#58596
  * update-alternatives: switch back to auto-mode when manually selected
    alternative is removed, Closes: Bug#54933
  * dselect no longer segfaults on SIGWINCH but does The Right Thing
    instead. Closes: Bug#54303,#58697,#59419

 -- Wichert Akkerman <wakkerma@debian.org>  Tue,  7 Mar 2000 15:09:47 +1100

dpkg (1.6.9) frozen unstable; urgency=low

  * Fix typo in update-alternatives manpage
  * dpkg-architecture: -q should not imply -f, Closes: Bug#57761
  * Cleanup bits of install-info to make it more stable
  * Fix Build-Dependency for ncurses, Closes: Bug#58073
  * Some more documentation updates, Closes: Bug#57985
  * Revert patch to check for writeable filesystems in dpkg-divert,
    Closes: Bug#57840

 -- Wichert Akkerman <wakkerma@debian.org>  Fri, 18 Feb 2000 12:11:58 +0100

dpkg (1.6.8) frozen unstable; urgency=low

  * Turn --force-overwrite on by default
  * Fix a couple of small buildsystem errors
  * Support multiple adjacent newlines in control-style files, Closes: Bug#56056
  * Updated Czech and Swedish translations
  * Revert patch to change order of things when purging a package,
    Closes: Bug#56374
  * Handle failed open of /dev/tty in dpkg -l, Closes: Bug# 55041
  * Update Japanese translations, Closes: Bug# 56641, #57494, #57595
  * Update extended description for dpkg-dev, Closes: Bug# 56675
  * Implement verbose option for update-alternative
  * Fix conflicts handling

 -- Wichert Akkerman <wakkerma@debian.org>  Thu, 10 Feb 2000 15:31:31 +0100

dpkg (1.6.7) frozen unstable; urgency=low

  * dpkg compiles on HP-UX, Solaris and IRIX now
  * start-stop-daemon can chroot now, Closes: Bug#54513
  * Allow space between # and the bugnumber in the changelog
  * Display package description with waddnstr, Closes: Bug#54313
  * Updated Japanese manpages, Closes: Bug#54690, #55080
  * Upload full source for packages with version *-0.1, Closes: Bug#54651

 -- Wichert Akkerman <wakkerma@debian.org>  Sun, 16 Jan 2000 18:36:10 +0100

dpkg (1.6.6) unstable; urgency=low

  * dpkg-buildpackage supports debsign, Closes: Bug#58333
  * fix update-alternatives manpage, Closes: Bug#53859
  * Updated Polish translation
  * Pass admindir to dpkg, Closes: Bug#54039
  * Fix dpkg -l output
  * Remove dpkg-safelist again, it had issues

 -- Wichert Akkerman <wakkerma@debian.org>  Fri,  7 Jan 2000 19:51:45 +0100

dpkg (1.6.5) unstable; urgency=low

  * Update Spanish translation
  * Don't strip 8th bit in dselect packagelists, Closes: Bug# 49061
  * Don't use \z in dpkg-scansources, Closes: Bug# 53182
  * Correctly unregister internals manual, Closes: Bug# 53200
  * dselect helpessages can be translated now, Closes: Bug# 51381
  * dselect UI tweaks, including a new --expert mode
  * Added build-depends, Closes: Bug# 53394
  * Added THANKS-file with people who have contributed to the code
  * Use full width of tty in packagelisting, Closes: Bug# 53395
  * Add -z option to dpkg-deb to set compressionlevel when building
    packages, Closes: Bug# 53398
  * Fix segfaults when producing a diff between current and new conffile,
    Closes: Bug# 52197

 -- Wichert Akkerman <wakkerma@debian.org>  Sat, 25 Dec 1999 04:47:09 +0100

dpkg (1.6.4) unstable; urgency=low

  * No longer byte-compile for emacs
  * Add Swedish translation
  * start-stop-daemon: honour --oknodo if we fail to kill a process
    Closes: Bug#52580,#52185,#52457
  * Fix dselect program description, Closes: Bug#52328
  * Fix architecture-detection in dpkg-gencontrol, Closes: Bug#52616
  * Accept single-number values in update-rc.d, Closes: Bug#46810

 -- Wichert Akkerman <wakkerma@debian.org>  Sun, 19 Dec 1999 16:27:48 +0100

dpkg (1.6.3) unstable; urgency=high

  * Comment dselect changes from 1.6.2, they seem to have a problem
    Closes: #52043,52058,52088,51437
  * Really fix emacs-stuff. Hopefully. Closes: #51919,51525
  * Fix copyright display in dselect menu, Closes: #52093
  * Fix uid/gid-changes in start-stop-daemon, Closes: #52081

 -- Wichert Akkerman <wakkerma@debian.org>  Tue,  7 Dec 1999 17:06:00 +0100

dpkg (1.6.2) unstable; urgency=low

  * New dpkg-scansources, Closes: #51888
  * Fix default for elispdir, Closes: #51919,51525
  * New manpages for cleanup-info and dpkg-divert, Closes: #51539, 46657
  * Buildsystem updates, Closes: #51525, 51855, 51914
  * Modify dselect behaviour for suggests and recommends

 -- Wichert Akkerman <wakkerma@debian.org>  Sun,  5 Dec 1999 19:29:50 +0100

dpkg (1.6.1) unstable; urgency=low

  * Fix some slight packaging errors

 -- Wichert Akkerman <wakkerma@debian.org>  Fri, 26 Nov 1999 20:18:48 +0100

dpkg (1.6) unstable; urgency=low

  * Major overhaul of the buildsystem
  * Update Standards-Version to 3.1.0
  * Move to version 1.6 to reflect the amount of changes made
  * Fix mixup with Czech and Polish translations, Closes: Bug# 48986
  * utils/start-stop-daemon.c: Added ability for user.group arg to
    --chuid. Also, always call initgroups() when using --chuid.
  * utils/start-stop-daemon.8: Document above change, also add note to the
    --make-pidfile option concerning its problem with daemons that fork

 -- Wichert Akkerman <wakkerma@debian.org>  Thu, 25 Nov 1999 04:30:01 +0100

dpkg (1.4.1.19) unstable; urgency=low

  * Fix replaces for dpkg-dev
  * Add gettext-support to dselect
  * Added Czech and Polish translations for dpkg
  * Fixed incorrect patch for --print-architecture (oops, oh well
    it was already broken when there was no gcc anyway :)
  * Fixed missing mipseb that was supposed to be in the archtable
  * Better output in update-alternatives --config, now shows the
    current, and the preferred choices.
  * dpkg-name: ignore epoch when getting version
  * 50dpkg-dev.el: add it as a conffile for dpkg-dev
  * internals.sgml: Removed references to the versions of build tools,
    they date the document.
  * debian-changelog-mode.el: added hint for better log-email handling
  * Added recognition for new source-depends fields for policy
    referenced in bug #41232
  * dpkg-buildpackage: add -ap option to force a pause prior to starting
    the sign process. This helps for people who don't keep their signatures
    on the filesystem (on a floppy perhaps, then mount as needed).
  * minor script corrections
  * dpkg-dev control: Change gcc to c-compiler in the recommends field, and
    move cpio, patch and make to the depends line
  * Leave file info intact in available when installing packages. MD5sum,
    Filename, and MSDOS-Filename used to get lost when installing a
    package.
  * Added armv4l to archtable
  * Added 'D' to the list of choices for conffile handling, closes: #48137
  * Converted internals.sgml to debiandoc format. Also added a dpkg-doc
    package that contains the generated output from this file (.ps, .html
    and .info), includes doc-base support. Internals.sgml is also not
    generated on the binary-arch target, and is no longer "byhand"
  * dpkg-gencontrol: add "Source" to the fields placed in the control file
  * dpkg-parsechangelog: fixed loop for parsepath (#48526)
  * main/{processarc.c,depcon.c}: added new structure for conflictors,
    which contains a struct for conflicts. This is used to create an array
    of conflicting packages, which are going to be replaced. Allows for
    multiple conflicts and replaces. All conflictor handlers were
    converted to loops to handle each one (processarc.c).
  * dpkg-divert: Fix check for writable filesystem, closes: #48646

 -- Wichert Akkerman <wakkerma@debian.org>  Sat, 30 Oct 1999 15:14:40 +0200

dpkg (1.4.1.18) unstable; urgency=low

  * Backout dep check patch

 -- Ben Collins <bcollins@debian.org>  Sat, 23 Oct 1999 00:39:24 -0400

dpkg (1.4.1.17) unstable; urgency=low

  * Add support for long filenames, along with --assert-longfilenames
  * Added --chuid option to start-stop-daemon to allow switching to
    a different uid when starting a process
  * Add mipseb and mipsel to the archtable too, since mips and mipseb are
    both viable names for the mips big endian arch, and mipsel is also needed
  * Update dpkg-architecture's archtable
  * Added --config option to update-alternatives to allow easy changing
    of the registered alternatives for a specific name
  * Updated the deb-control(5) man page with all the current fields
    and uses
  * Made the large info screen show 5 lines of the pkglist so that
    it scrolled properly, and still showed the cursor in dselect
  * Removed references to dpkg(5) which seems to not exist anymore
  * Fixed `dpkg-deb --help' and dpkg-deb(1) from reporting --no-check
    when it's actually --nocheck (went with the hardcoded option, so
    this is just a documentation fix).
  * Added better check in disk.setup for a working NFS server. Makes
    it compatible with other non-Linux servers.
  * Corrected dpkg(8)'s example of using dpkg -i (showed it used with
    a .tar.gz instead of a .deb)
  * Applied patch to correct improper TMPDIR handling in dpkg-deb
  * When encountering an error in extracting the tar archives in the
    packages, we should abort the install, not simply give an error
    and continue.
  * Make dpkg give the builtin arch if there was an error while exec()'ing
    the C compiler with --print-architecture. We still fail if the
    output from gcc was bad in some way, since they may be of importance.
  * Removed the maintainer-configure portion in debian/rules, since
    we should be shipping the source with all the auto* stuff
    already generated anyway
  * Removed the ltconfig patch, and resort to a debian/rules fix
    to libtool itself after running configure
  * Removed shlibs.default.i386. It's now a template for arch porting to
    Debian/dpkg, we install it still, if there exists a file matching the
    arch
  * Reimplemented a better *stat cache for the removal checking code,
    this helps a lot when doing upgrades where the packages are a lot
    different in layout
  * Increased largemem auto detection to >= 24megs, since it's not uncommon
    for dpkg to actually use 16megs of ram all on its own when using the
    largemem setting (old minimum was 16megs)
  * debian/rules: chmod -x everything in /usr/lib to make lintian happy.
    in the clean phase just rm -rf $(BUILD), we don't need to run
    distclean and all that other stuff. Don't run "make dist", we
    simply copy the .tar.gz that dpkg-source creates for the byhand
    source.
  * Make start-stop-daemon exit(1) when we don't find one of the
    pid's we are trying to kill, in accordance with the man page.
  * When running --configure on an already installed package, just
    say it's installed, and not that it is in an unconfigurable
    state
  * Fixed some compiler warnings
  * Make dpkg check for uid 0 requirement, before checking the path
    since not being root, is probably the reason that the PATH is
    borked in the first place
  * Make -p short for --print-avail, and -P short for --purge
  * Fix typo in md5sum(1) man page
  * start-stop-daemon: Add --background and --make-pidfile options
  * update-alternatives: make sure we remove "old" symlinks when they
    are no longer pertinent. Add /etc/alternatives/README that refers
    to the update-alternatives(8) man page.
  * dpkg-divert: Add check for being able to write to the old/new
    destination before doing a rename. We fail on this, without
    changing the diversion registry
  * Fix bad regex in update-rc.d

 -- Wichert Akkerman <wakkerma@debian.org>  Thu, 21 Oct 1999 17:49:03 +0200

dpkg (1.4.1.16) unstable; urgency=medium

  * Hardcode ENOENT again since the errno-part of the POSIX module
    isn't in perl-*-base. sigh.

 -- Wichert Akkerman <wakkerma@debian.org>  Fri, 15 Oct 1999 04:01:14 +0200

dpkg (1.4.1.15) unstable; urgency=low

  * non-maintainer release.
  * Move dselect into its own package
  * Remove conffiles before directories when purging
  * Check if integrity from other packages will broken when processing
    an archive
  * dpkg-deb can handle package made with Linux ar.
  * Add check to update-alternatives to see if the sequencecode is between
    0 and 99
  * Fix failed assertion, which was actually two bugs: a logic error in
    checkforremoval and a wrong assumption in findbreakcycle
  * dselect doesn't die when you resize the terminal
  * check if a file is also in a new package before removing it when upgrading
  * offer to show a diff between the old and new conffile
  * dpkg-scanpackages: don't abort but only skip a package if we can't
    open it
  * Add HURD-support to  start-stop-daemon
  * Reinstate patch to not read available when doing --list-files
  * Add a couple of --force options to handle changed conffiles

 -- Wichert Akkerman <wakkerma@debian.org>  Thu, 14 Oct 1999 04:20:56 +0200

dpkg (1.4.1.14) unstable; urgency=low

  * non-maintainer release.
  * dpkg-source works again on empty diffs, Closes: Bug# 46159
  * Install locale-files in /usr/share, Closes: Bug# 46631
  * Make /usr/share/doc/dpkg-dev a symlink to /usr/share/doc/dpkg
  * Actually include fix to make update-alternatives works filesystems (oops!)
  * Check if codenumber is between 0 and 99, Closes: Bug# 46810

 -- Wichert Akkerman <wakkerma@debian.org>  Tue,  5 Oct 1999 19:19:05 +0200

dpkg (1.4.1.13) unstable; urgency=low

  * Non-maintainer release.
  * NMU number 13, lets see what breaks :)
  * update-alternatives works across filesystems now
  * Make -sgpg work in dpkg-buildpackage (typo)

 -- Wichert Akkerman <wakkerma@debian.org>  Tue, 28 Sep 1999 01:26:19 +0200

dpkg (1.4.1.12) unstable; urgency=low

  * Non-maintainer release.
  * Fix typo in chmodsafe_unlink that made dpkg chmod files that
    weren't setuid or setgid

 -- Wichert Akkerman <wakkerma@debian.org>  Sun, 26 Sep 1999 02:41:30 +0200

dpkg (1.4.1.11) unstable; urgency=low

  * Non-maintainer release.
  * Added sparc64 to archtable
  * Added entries for newer alpha architectures to the archtable
  * Always run patch and diff with LANG set to C.
  * Handle diff warning for files with no newline at the end of file
    Closes: Bug#45642

 -- Wichert Akkerman <wakkerma@debian.org>  Fri, 24 Sep 1999 03:23:54 +0200

dpkg (1.4.1.10) unstable; urgency=low

  * Non-maintainer release.
  * Build dpkg-scansources manpages using pod2man
  * dpkg-buildpackage changes:
    + fix signinterface-detection
    + use gpg by default if $HOME/.gnupg/secring.gpg exists

 -- Wichert Akkerman <wakkerma@debian.org>  Thu, 16 Sep 1999 15:36:43 +0200

dpkg (1.4.1.9) unstable; urgency=low

  * Non-maintainer release.
  * Updated dpkg-scansources to current version from Roderick Schertler
  * Update location of GPL in internals-manual
  * Update location of GPL and dpkg copyright in all manpages
  * Include patch from Roman Hodek for dpkg-source to handle diffs of files
    with lines that begin with two dashes.
  * Move dpkg-scansources to dpkg-dev package
  * Move dpkg-scansources manpage to section 8
  * Fix error that moved a lot of manpages to the dpkg package.
  * It looks like not reading the available-file for listfiles was not greeted
    with much enthiousiasm, so reverse the change.

 -- Wichert Akkerman <wakkerma@debian.org>  Wed, 15 Sep 1999 03:45:07 +0200

dpkg (1.4.1.8) unstable; urgency=low

  * Non-maintainer release.
  * Merge dpkg-doc-ja
  * Add patch from Raphaël Hertzog <rhertzog@hrnet.fr> for dpkg-scansources
    to skip comments in signatures. This allows packages to also use GnuPG.

 -- Wichert Akkerman <wakkerma@debian.org>  Mon, 13 Sep 1999 04:16:33 +0200

dpkg (1.4.1.7) unstable; urgency=low

  * Non-maintainer release.
  * Use /usr/share/doc
  * Merge changes from dpkg-iwj tree:
    + change section in dpkg-deb.1 to 1
    + Use COPYINGFILE instead of hardcoded GPL-location in showcopyright()
    + varbufprintf (used for some error messages) vsnprintf return value
      assumption changed to correspond to reality rather than glibc-doc.
    + Don't read available-info when not needed (slightly improved from
      dpkg-iwj: don't read for listfiles either :)
    + Cleanup --assert-* code
    + Assume largemem on systems without sysinfo(2).
    + modify preexec-script for easier script execution
    + Do not chmod(".../path/to/symlink",0600) causing many bad perms.
    + Sanity-check numbers for parameters
    + Move some logic from process_archive into wantinstall
    + Print '0' in dpkg-scanpackages if no packages found.

 -- Wichert Akkerman <wakkerma@debian.org>  Fri, 10 Sep 1999 04:06:32 +0200

dpkg (1.4.1.6) unstable; urgency=low

  * Non-maintainer release.
  * scripts/dpkg-architecture.pl: Update to latest version.
  * scripts/dpkg-architecture.1: Likewise.

 -- Marcus Brinkmann <brinkmd@debian.org>  Sat, 24 Jul 1999 18:24:21 +0200

dpkg (1.4.1.5) unstable; urgency=low

  * Non-maintainer release.
  * (dpkg-dev): Use emacsen-common for debian-changelog-mode.el
    (closes:Bug#20776,#31030).
  * Removed references to the packaging and policy manuals from debian/control.
  * Put debian-changelog-mode.el in dpkg-dev and remove from dpkg (closes:Bug#29271).
  * Fix paths in 50dpkg-dev.el using Roderick Schertler's patch
    (closes:Bug#28270,#29702,#26876,#29184,and others).
  * Note that bug number 17367 was fixed in 1.4.0.26.
  * Add Zack Weinberg's install-info patch for GNU install-info
    compatibility (closes:Bug#28965).
  * Add dpkg-architecture stuff from Marcus Brinkmann.
  * Remove debian-keyring suggests from dpkg.
  * Add -k<keyid> flag to dpkg-buildpackage.
  * --textmode works in gpg, remove kluge from dpkg-buildpackage.
  * Cleanup configure.in slightly (stop using tl_ macros, fix gettext stuff).
  * Attempt to make Debian source useful for non-Debian systems
    (i.e. distclean tree instead of maintainer-clean tree).
  * Sync with wichert's 1.4.1.4.
  * Add my ltconfig-1.3.2.diff (RPATH workaround).
  * Add dpkg-scansources program and man page.
  * Man pages in /usr/share/man.

 -- Joel Klecker <espy@debian.org>  Tue, 13 Jul 1999 18:12:15 -0700

dpkg (1.4.1.4) unstable; urgency=low

  * Also change developer-keyring to debian-keyring for dpkg-dev package
  * Include spanish translation from Nicolás Lichtmaier <nick@debian.org>
  * Depend on perl5 instead of perl

 -- Wichert Akkerman <wakkerma@debian.org>  Mon,  5 Jul 1999 00:04:14 +0200

dpkg (1.4.1.3) unstable; urgency=low

  * Modify tarobject() so it does not complain if we are creating a
    directory that replaces a removed file. This works around the
    problem that the filedatabase doesn't remember what filetype a
    file was by assuming it already was a directory

 -- Wichert Akkerman <wakkerma@debian.org>  Mon, 31 May 1999 23:49:23 +0200

dpkg (1.4.1.2) unstable; urgency=low

  * Non-maintainer upload
  * Rebuild, so this is glibc2.1 (unless you're on m68k), which is rumoured
    to also fix the i8n-problems.
  * Incorporate 1.6 format of .changes, patch from Guy Maor
  * Fix bug in section-handling of dpkg-scanpackages, patch from Guy Maor
  * Disable force-overwrites again, since we're in unstable
  * Assume largemem on systems for which sysinfo is not available, Bug# 33658

 -- Wichert Akkerman <wakkerma@debian.org>  Wed, 26 May 1999 15:50:17 +0200

dpkg (1.4.1.1) unstable; urgency=low

  * Non-maintainer upload
  * Install emacs-startup scripts with mode 0644 (lintian)
  * Incorporate changes in NMU 1.4.0.32 made by Vincent Renardias
    <vincent@waw.com> for slink:
    + Apply patch from Jim Pick for update-alternatives.pl to
      fix 'Important' bugs #30891 in dpkg and (#27382, #27383, #27696,
      #27703, #27736, #27097(merged bugs)) in jdk1.1.
  * Incorporate changes in NMU 1.4.0.33 made by me for slink:
    + Fix illegal perl construct (Bug# 30985)
    + Initialize oialtname->useinstead and oicontest->camefrom to 0 (Bug# 30397)
    + Update shlibs.default for libncurses 4 (Bug# 30332)
    + Suggest debian-keyring instead of developer-keyring (Bug# 27376, 30248)
    + Abort dpkg-divert when attempting to divert a directory (Bug# 30126)
    + Make dpkg-deb.1 aware that it is in section 1, not 8
    + Fix section in reference to dpkg-deb in dpkg.8 (Bug# 29740)
    + Fix typo in --force-help (Bug# 26193)
    + Correct path for debian-changelog-mode.el (Bug# 24606)
    + Make disk-method for dpkg use /var/run instead of /tmp to fix
      symlink-attacks (Bug# 21399)
    + Document -n and -f options for update-rc.d in manpage (Bug# 15913)
    + Add --abort-after option to change after how many errors we abort and
      change the default to 50 (Bug# 22940)
    + Fix controllib.pl: don't check debian/substvars unless needed, and
      don't depend on language settings (Bug# 31508)
    + Allow a - in the architecture-field (Bug# 25537)

 -- Wichert Akkerman <wakkerma@debian.org>  Mon,  1 Feb 1999 00:44:01 +0100

dpkg (1.4.1) unstable; urgency=low

  * Maintainer release by IWJ.
  * Changed Maintainer: field description.
  * Various changes to make the damn thing build.
  * Add .cvsignore files.

 -- Ian Jackson <ian@davenant.greenend.org.uk>  Sun,  1 Nov 1998 17:33:38 +0000

dpkg (1.4.0.31) unstable; urgency=low

  * dpkg/processarc.c: Make newfileslist static like the other arguments
    for register_cleanup's cu_* functions.
  * N-th fix for controllib.pl (simulate old behavior by trying stdin,
    stdout, and stderr for getlogin()).
  * Enable --force-overwrite for slink release, and comment where to do
    so (dpkg/main.c).
  * Recompile against ncurses4.

 -- Daniel Jacobowitz <dan@debian.org>  Thu, 22 Oct 1998 17:37:23 -0400

dpkg (1.4.0.30) unstable; urgency=low

  * dpkg-dev isn't allowed to have a Recommends: debian-keyring (as that's
    in contrib), so it's now lowered to a Suggests: . Thanks to James Troup
    for pointing this out.

 -- J.H.M. Dassen (Ray) <jdassen@wi.LeidenUniv.nl>  Sat, 26 Sep 1998 13:59:23 +0200

dpkg (1.4.0.29) unstable; urgency=low

  * For now, prefer PGP over GPG.

 -- J.H.M. Dassen (Ray) <jdassen@wi.LeidenUniv.nl>  Tue, 22 Sep 1998 09:38:09 +0200

dpkg (1.4.0.28) unstable; urgency=low

  * Added gpg (GNU Privacy Guard) support:
    * scripts/buildpackage.sh: default to GPG (unless no GPG, but only a PGP
      secret key file is found), as GPG, unlike PGP, is DFSG-free.
    * Updated dpkg-source(1), and added gpg(1) and pgp(1) to the SEE ALSO
      section.
    * Worked around broken textmode implementation in GPG.
    * dpkg-dev now Suggests: gnupg .
  * No longer includes developer-keys.pgp . Instead, dpkg now Suggests: and
    dpkg-dev now Recommends: developer-keyring.
  * Compiled with latest libstdc++ (2.9).

 -- J.H.M. Dassen (Ray) <jdassen@wi.LeidenUniv.nl>  Mon, 21 Sep 1998 13:17:14 +0200


dpkg (1.4.0.27) unstable; urgency=low

  * REALLY fixed dpkg-dev, and new attempt to placate installer on internals.

 -- Daniel Jacobowitz <dan@debian.org>  Fri, 27 Jul 1998 15:58:04 -0400

dpkg (1.4.0.26.0.1) unstable; urgency=low

  * Binary-only upload for x86 and fixed dpkg-dev

 -- Daniel Jacobowitz <dan@debian.org>  Fri, 24 Jul 1998 15:58:04 -0400

dpkg (1.4.0.26) unstable; urgency=low

  * Non-maintainer upload.

  * Make --root work with maintainer scripts (Patch by Scott Barker,
    bugs #4863 and #3170).
  * Fix $(lispdir) bug if compiling without emacs (noticed by Joey Hess).

 -- Daniel Jacobowitz <dan@debian.org>  Thu, 23 Jul 1998 12:02:04 -0400

dpkg (1.4.0.25) unstable; urgency=low

  * Non-maintainer upload.

  * Add the requested -nc option to dpkg-buildpackage (Do
    not clean source tree, useful in debugging cycles).
  * controllib.pl: Again by popular acclamation, fix the getlogin() warnings.
    I redirected STDERR onto fd 0 before calling getlogin().
  * tools.m4: Fix display of whether c++ works.
  * dpkg-deb/extract.c: glibc 2.1 and some kernels want to make
    fflush() move the current fpos.  Until someone can fix that,
    protect with seek.
  * Add an extra 0, to dselect/{pkg,meth}keys.cc so it compiles again.
  * Start using lchown() if available.
  * Really fix #20353. (aclocal.m4 was the wrong place; that's a generated
    file.  The correct place is in tl_canon.m4.)

 -- Daniel Jacobowitz <dan@debian.org>  Tue, 21 Jul 1998 03:14:14 -0400

dpkg (1.4.0.24) unstable; urgency=low

  * Non-maintainer upload.

  * dpkg/main.c: Turn --force-overwrite off as default.
  * dpkg/main.c: don't list --force-overwrite as default in --force-help,
    noticed by Peter Weiss <Peter.Weiss@Informatik.Uni-Oldenburg.DE> and
    others. [#23542, part of #17409].
  * dpkg/dpkg.8: replaced with a newer version from Jim Van Zandt
    <jrv@vanzandt.mv.com>. [#21061]

  * dpkg-deb/build.c (do_build): add missing \n and improve error message
    when conffile name is too long. [#7057]

  * scripts/update-alternatives.8: replaced with better man page from
    Charles Briscoe-Smith <cpb4@ukc.ac.uk>. [#17283]
  * scripts/dpkg-source.1: corrected logic error in documentation for
    dpkg-gencontrol's -p option, as noticed by Oliver Elphick
    <olly@linda.lfix.co.uk>. [#14655]
  * scripts/controllib.pl (findarch): correct typo in error message,
    noticed by Yann Dirson <ydirson@a2points.com>. [#22106]
  * scripts/dpkg-buildpackage.sh: fix typo for 'source maintainer',
    noticed by Joey Hess <joey@kite.ml.org>, Adam P. Harris
    <apharris@onshore.com> and others. [#10175, #15559]
  * scripts/dpkg-genchanges.pl: applied patch from Roman Hodek
    <Roman.Hodek@informatik.uni-erlangen.de> which solves problems with
    architecture specific packages in mostly architecture independent
    multi-binary source packages. [#14341, #20192].

  * doc/Makefile.am: remove any reference to the packaging manual, as it is
    now provided by the separate "packaging-manual" package.
  * doc/packaging.sgml: removed.
  * doc/developer-keys.pgp: updated to the current debian keyring.

  * aclocal.m4: applied patch from Joel Klecker <jk@espy.org> to handle
    egcs' --print-libgcc-file-name output. [#20353]

  * debian/copyright: correct FSF address.
  * debian/rules: add code from lesstif's debian/rules to make libtool
    less of a fool (i.e. not use -rpath and to link shared libraries
    against libraries it depends on).  Code by Richard Braakman
    <dark@xs4all.nl> and Yann Dirson <dirson@debian.org>.
  * debian/rules: remove all reference to the packaging manual as it is
    now provided by the separate "packaging-manual" package. [#21581,
    #21186, #22698, #23342]
  * debian/rules: link dpkg-divert.1.gz to undocumented.7.gz as the lack
    of a real manpage has been reported in #11093.
  * debian/README.compile: removed gawk and bogus comment about gettext
    being in experimental, as reported by Santiago Vila <sanvila@unex.es>
    [#23344].  Added libpaperg (debiandoc2ps needs paperconf).
  * debian/shlibs.default.i386: updated for glibc, reported by Herbert Xu
    <herbert@gondor.apana.org.au>. [#13140]
  * debian/control (dpkg-dev): depend on perl as POSIX (not a part of
    perl-base) is needed by most of the perl dpkg-* scripts, noticed by
    Joel Klecker <jk@espy.org>. [#22115]

 -- James Troup <jjtroup@comp.brad.ac.uk>  Wed, 24 Jun 1998 14:38:52 +0200

dpkg (1.4.0.23.2) frozen unstable; urgency=low

  * Non-maintainer upload.
  * dpkg/main.c: Turn --force-overwrite back on as default.

 -- James Troup <jjtroup@comp.brad.ac.uk>  Tue, 23 Jun 1998 22:19:26 +0200

dpkg (1.4.0.23.1) frozen unstable; urgency=low

  * No real changes, only a new version code to make this go to frozen too.

 -- Nils Rennebarth <nils@debian.org>  Wed, 10 Jun 1998 17:29:58 +0200

dpkg (1.4.0.23) frozen unstable; urgency=low

  * Non-maintainer bug-fix release
  * Update the disk method to the hamm directory structure (Bug#21000)

 -- Nils Rennebarth <nils@debian.org>  Sun,  7 Jun 1998 19:14:51 +0200

dpkg (1.4.0.22) frozen unstable; urgency=medium

  * Non-maintainer bug-fix release
  * Install main changelog file as `changelog.gz' instead of
    `changelog.dpkg.gz' (Debian Policy, section 5.8) (Bug#6052,15157)
  * Avoid use of /tmp/*.$$ in preinst and postinst (Bug#19712)
  * Make sure diversions file is always created with mode 0644 (Bug#19494)
  * When removing a file, chmod it to 000 if it's a char or block
    device or remove its s[ug]id bits, if any (Bug#6006)
  * Minor fixes in the programmer's manual (Bug#6206)
  * Always create readable status and available files
    (Bug#9869,11887,14636,15786,19146)
  * Make dpkg-gencontrol honour -DArchitecture=xxxx (Bug#9893)
  * Allow different archs for the same binary in debian/files (Bug#9894)
  * Added workaround in /usr/lib/dpkg/methods/disk/setup
    to avoid bash warning (Bug#10111,10131)
  * Recognize old .deb packages with other locales (Bug#12232)
  * Added `SHELL=bash' to debian/rules: it uses bash-specific structs
  * Move some files from dpkg to dpkg-dev (part of Bug#13295)
  * Minor fix in packaging manual regarding to Standards-Version (Bug#14696)
  * Fixed --altdir and --admindir in update-alternatives (Bug#15332)
  * Strip /usr/lib/libdpkg* (Bug#15671)
  * dpkg: send output of --help, --force-help and -Dhelp to stdout
    (Bug#16051,18574)
  * send correct signals with start-stop-daemon (Bug#17258)
  * Make `dpkg-divert --test --remove' work as expected (Bug#19531)
  * Determine properly the architecture if gcc is egcs (Bug#20353)

 -- Juan Cespedes <cespedes@debian.org>  Sun,  5 Apr 1998 17:37:01 +0200

dpkg (1.4.0.21) unstable; urgency=low

  * Non-maintainer release to include a new update-rc.d
  * Fixed date on files in the archive from 2017 and 2018 by running
    touch foo; find . -newer foo | xargs -r touch; rm foo
  * Changed start-stop-daemon message "No <program> found; none killed." to
    "No <program> found running; none killed."

 -- Miquel van Smoorenburg <miquels@cistron.nl>  Thu,  5 Mar 1998 14:19:46 +0100

dpkg (1.4.0.20) unstable; urgency=low

  * Disabled --force-overwrites.
  * Removed core file from source

 -- Michael Alan Dorman <mdorman@debian.org>  Tue,  9 Jan 1998 03:34:28 -0500

dpkg (1.4.0.19) unstable; urgency=low

  * Changed methods/disk.setup to use output of
    'dpkg --print-installation-architecture' instead of hard-coded
    '1386' (fixes #10995).
  * Patched dpkg-source to properly quote metacharacters in strings
    before using them in pattern-matching expressions (fixes #10811).
  * Fixed several documentation typos (fixes #10764).
  * dpkg-source now works around 100-character filename limitation of cpio
    (fixes #10400).
  * dpkg-source now properly handles '\ no newline in source' message from
    patch (fixes #5041).

 -- Klee Dienes <klee@debian.org>  Sun, 13 Jul 1997 19:28:22 -0700

dpkg (1.4.0.18) unstable; urgency=low

  * dpkg-source now uses new -z option to GNU patch (still needs to be
    changed to detect and use old version as well) (fixes #9904, #10005, #10007).
  * Added i686 to archtable.
  * shlibs.default now uses xlib6 instead of elf-x11r6lib (fixes #9926).
  * debian-changelog-mode now uses interruptible completing type-in fields
    instead of the previous 'select-a-letter method'.  I consider this
    better and more standard than the previous way, but I'd welcome
    opinions to the contrary.  Consider this a 'probationary' change for
    now (fixes #9873, #9874).

 -- Klee Dienes <klee@debian.org>  Sun, 25 May 1997 09:56:08 -0400

dpkg (1.4.0.17) unstable; urgency=low

  * All of the dpkg binaries (but not dpkg-dev or dselect) now speak
    french, thanks to patches from Christophe Le Bars <clebars@teaser.fr>
  * Fix leading spaces before day in 822-date.
  * Changes from Tom Lees <tom@lpsg.demon.co.uk> to better support
    building on non-Debian systems; minor Makefile fixes.
  * Added 'ppc powerpc powerpc' to archtable.
  * Changed documentation paper size to US/Letter instead of A4 (A4
    may be better, but it's easier to print US/Letter on A4 than it is
    to print A4 on US/Letter).

 -- Klee Dienes <klee@debian.org>  Tue,  13 May 1997 15:24:31 -0400

dpkg (1.4.0.16) experimental; urgency=low

  * Added generated sources to GNU-format source archive so it no longer
    requires perl to build.

 -- Klee Dienes <klee@debian.org>  Sat, 10 May 1997 17:34:29 -0400

dpkg (1.4.0.15) experimental; urgency=low

  * Changed dpkg-genchanges to check for ($arch == $substvar{'Arch'}), not
    ($arch ne 'all') (fixes #9688).
  * Fixed bug in start-stop-daemon.c (was using optarg after argument
    parsing was over) (fixes #9597, #9603, #9364).
  * Provide 50dpkg-dev.el for xemacs as well as emacs.
  * Explicitly provide path for debian-changelog-mode in 50dpkg-dev to use
    .el file as workaround until xemacs can read emacs19 .elc files.
  * Pass top_distdir explicitly to 'make dist' to accommodate bug in
    automake_1.1o-1.
  * Fix debian/build to make html documentation without including
    directories in tar archives (fixes #9348).

 -- Klee Dienes <klee@debian.org>  Fri,  9 May 1997 13:17:18 -0400

dpkg (1.4.0.14) experimental; urgency=low

  * Fixed buglet in install-info.pl (fixes #9438).
  * Re-write of update-rc.d.pl, primarily by Miquel van Smoorenburg
    <miquels@cistron.nl> (fixes #9434, #9436).
  * Renamed "dpkg Programmer's Manual" to "dpkg Internals Manual".

 -- Klee Dienes <klee@debian.org>  Tue,  6 May 1997 22:01:07 -0400

dpkg (1.4.0.13) experimental; urgency=low

  * Fix to start-stop-daemon so that it still takes numeric arguments (had
    been broken in 1.4.0.12) (fixes #9598).
  * Fix 822-date to sanity-check localtime() output (seconds must be the
    same as GMT).
  * Patch from Guy Maor <maor@ece.utexas.edu> to dpkg-source.pl to support
    pristine (MD5-equivalent) upstream sources.
  * Patch from Michael Alan Dorman <mdorman@calder.med.miami.edu> to
    update-rc.d.pl to fix handling multiple start/stop entries on a single
    line.
  * Several fixes to dpkg-genchanges to support -B option (added in
    1.4.0.12) (fixes #9340).
  * Handle errors from 822-date in debian-changelog-mode.el.
  * Changed cl-debian.pl to correctly handle extra whitespace in changelog
    datestamps.

 -- Klee Dienes <klee@debian.org>  Mon,  5 May 1997 18:12:43 -0400

dpkg (1.4.0.12) experimental; urgency=low

  * Re-wrote 822-date for clarity and to support timezone offsets >= 12h
    (New Zealand in DST is +1300, for example) (fixes #7130).
  * Patch from Juergen Menden <menden@morgana.camelot.de> to support
    archdependent-only builds (fixes #8912, #9245, #5359).
  * Fix archtable entry for powerpc (fixes #8794).
  * Strip /sbin/* and /usr/sbin/* in debian/rules (fixes #8853).
  * Moved start-stop-daemon to /sbin (fixes #8669).
  * Set sharedstatedir and localstatedir for $(MAKE) install in
    debian/rules (fixes #8852).
  * Fixes for update-rc.d(8) from Jim Van Zandt <jrv@vanzandt.mv.com>
    (fixes #8576).
  * No longer do variable substitutions when generating change file (fixes
    #5862).
  * Support symbolic signal names in start-stop-daemon (fixes #7715).
  * Add autoload for debian-changelog-mode to /etc/emacs/site-start.d
    (fixes #4519, #5841).
  * Add recommendation for gcc and make in dpkg-dev (gcc is needed for dpkg
    --print-architecture, used by dpkg-gencontrol; make is needed for any
    debian/rules file) (fixes #8470).
  * Minor changes to packaging manual section on source package
    conversion (fixes #6801).
  * Renamed "programmer's manual" to 'packaging manual'.
  * Start of new "programmer's manual" containing information on dpkg
    internals and build information.  This manual uses the new
    TeXinfo-SGML format, currently included in doc/.
  * dselect/pkgdepcon.cc now checks for debug not NULL, not just depdebug.
  * Changed makefiles to support building outside of source directory.
  * Include GNU-format source distribution with other non-debian packages.

 -- Klee Dienes <klee@debian.org>  Sun,  4 May 1997 11:08:19 -0500

dpkg (1.4.0.11) experimental; urgency=low

  * Patches for alpha and libc6 from Michael Alan Dorman
    <mdorman@calder.med.miami.edu>.
  * Fixed minor problems in dpkg-shlibdeps regular expressions for libc6.
  * Fix regex to detect directory creation in dpkg-source.pl.
  * Minor changes for automake-1.1n.

 -- Klee Dienes <klee@debian.org>  Sun, 23 Mar 1997 18:09:33 -0500

dpkg (1.4.0.10) unstable; urgency=medium

  * Fixed bug in controllib.pl (@fowner was entire passwd entry,
    not just [uid, gid] as it should have been).

 -- Klee Dienes <klee@debian.org>  Thu, 20 Mar 1997 13:06:52 -0500

dpkg (1.4.0.9) unstable; urgency=low

  * Check fputs() return values for (ret >= 0), not (ret != 0) (fixes #7522).
  * dpkg-shlibdeps no longer gives error for Java and statically linked
    binaries (fixes #4988).
  * Change 'details of the old format' to 'details of the new format' in
    deb-old.5 (fixes #7605).
  * dpkg-source -b now warns (was previously silent) if maintainer changes
    create new subdirectories.  dpkg-source -x now warns (previously gave
    error) if maintainer changes create new subdirectories (partially
    fixes #6866, #6671, #5045, #6482).
  * Added manual page for start-stop-daemon (8).
  * Added C version of start-stop-daemon by
    Marek Michalkiewicz <marekm@i17linuxb.ists.pwr.wroc.pl> (fixes #1670).
  * Converted to use GNU automake for the build process by Tom Lees
    <tom@lpsg.demon.co.uk>.<
  * Preliminary support for dpkg functions as a shared library (now
    provides libdpkg.so, but much work needs to be done in better
    segregating and defining the interface).
  * Preliminary internationalization support by Galen Hazelwood
    <galenh@debian.org>.  Only the library, dpkg-deb, md5sum, and dpkg
    have been converted so far.  No translations have yet been
    constructed.
  * Handle 'libc.so.6 => /lib/libc.so.6 (0x40010000)' format from libc6
    ldd (fixes #7603, #7926, #8688, #9179, #9134, #8516).
  * Removed policy.sgml (it has been moved to the debian-policy package).
  * Include patch from Darren Stalder <torin@daft.com> for
    dpkg-buildpackage to choose PGP key based on Maintainer: field of
    package being built (or -m<maintainer> option, if present) (fixes
    #7898).
  * Changed controllib.pl to use $ENV{LOGNAME}, getlogin(), and $<
    (in that order) to determine the intended ownership of
    debian/{files,substvars},  (fixes #7324, #6823, #5659, #5965, #5929,
    #9239, #5366).
  * Don't sign .dsc file in dpkg-buildpackage if building a binary-only
    release (fixes #7260).
  * Updated developer-keys.pgp to latest revision (fixes #6134).

 -- Klee Dienes <klee@debian.org>  Mon, 17 Mar 1997 16:11:24 -0500

dpkg (1.4.0.8) unstable; urgency=medium

  * Corrected update-rc.d for bash 2.0
  * Updated developer-keys.pgp from
    http://www.iki.fi/liw/debian/debian-keyring.tar.gz

 -- Guy Maor <maor@ece.utexas.edu>  Mon, 3 Feb 1997 04:05:01 -0600

dpkg (1.4.0.7) stable unstable; urgency=HIGH

  * Fixed --assert-support-predepends failing between unpack & configure.
  * Added --assert-working-epoch option.

 -- Guy Maor <maor@ece.utexas.edu>  Sat, 25 Jan 1997 23:02:11 -0600

dpkg (1.4.0.6) stable unstable; urgency=high

  * Patched lib/vercmp.c to hopefully fix dselect epoch processing
    (Bug#6204), (Bug#4590).
  * Patched scripts/dpkg-buildpackage, scripts/dpkg-genchanges,
    scripts/dpkg-gencontrol for epoch processing, courtesy of Loic Prylli
    <lprylli@graville.fdn.fr> (Bug#6138, Bug#5225).
  * Patched dpkg-genchanges to actually honor the -u switch to specify
    directory (Bug#5564).
  * Applied patch to main/archive.c to correct problems setting set[gu]id
    binaries, courtesy of Herbert Xu <herbert@greathan.apana.org.au>
    (Bug#5479).
  * Applied patch to dpkg-source to correct debian-only package names,
    courtesy of Guy Maor <maor@ece.utexas.edu> (Bug#5355).

 -- Michael Alan Dorman <mdorman@calder.med.miami.edu>  Thu, 2 Jan 1997 11:36:09 -0500

dpkg (1.4.0.5) stable frozen unstable; urgency=medium

  * Distribution for frozen too.

 -- Heiko Schlittermann <heiko@lotte.sax.de>  Thu, 5 Dec 1996 09:13:42 +0100

dpkg (1.4.0.4) stable unstable; urgency=medium

  * Bug2962 fixed: patch from Ian Jackson applied
    (cursor keys won't work after search)
  * Manuals 2.1.2.2

 -- Heiko Schlittermann <heiko@lotte.sax.de>  Fri, 15 Nov 1996 20:21:18 +0100

dpkg (1.4.0.3) unstable; urgency=medium

  * dpkg-source -x: created bad permissions (set x-bit for
    all files pointed to by a symlink)

 -- Heiko Schlittermann <heiko@lotte.sax.de>  Fri, 18 Oct 1996 18:32:06 +0200

dpkg (1.4.0.2) unstable; urgency=medium

  * dpkg-buildpackage.sh: reverted the quoting change -- (you
    should use super, sudo, really, but not su.  Or write a wrapper
    around su)
  * dpkg-buildpackage.sh: passing -m, -C, -v options to dpkg-genchanges
    more the way Ian likes ;-)
  * dpkg-source.pl: new function deoctify() as replacement for eval()
    (turn \ddd into the corresponding character) [rem: probably better
    solution would be to convert cpios output names into complete \ddd
    representation as well tars output names]
  * dpkg-source.pl: fixed 2 typos in failure message on creating
    $origtargz.tmp-nest.
  * main/main.c: typo for `treat'
  * main/enquiry.c: fixed the ignorance for some relations in --compare-versions
  * main/enquiry.c: missing version is now handled as described in `dpkg --help'
    (or at least as I understood `dpkg --help' PLEASE TRY IT)
  * lib/parsehelp.c: fixed parsing of epoch information

 -- Heiko Schlittermann <heiko@lotte.sax.de>  Sun, 6 Oct 1996 23:27:47 +0200

dpkg (1.4.0.1) unstable; urgency=medium

  * dpkg-source: doesn't get screwed up from hardlinks
    in the archive now
  * dpkg-source: doesn't get screwed up from `unprintable' characters
    in file names (e.g. from the kbd package)
  * controllib.pl: $varlistvile -> $varlistfile (thanx Karl Sackett)
  * dpkg-buildpackage: quoting for $rootcommand (thanx  Michael Meskes)
    and `eval' as default $rootcommand
  * dpkg-*, controllib.pl: created debian/files and debian/substvars
    are chown'ed to `getlogin()' and its group
  * doc/: mv changed to mv -f
  * dpkg-buildpackage: added an option -a for overriding the
    architecture in the changes _file_name_
  * dpkg-buildpackage: pass -m* -v* .. options to dpgk-genchangelog
  * dpkg-name moved to dpkg-dev

 -- Heiko Schlittermann <heiko@lotte.sax.de>  Sat, 21 Sep 1996 22:06:01 +0200

dpkg (1.4.0) unstable; urgency=low (HIGH for new source format)

  * Corrected buffer overrun when dpkg-deb generates filename.  (Bug#4467.)
  * dpkg-shlibdeps works with DEBIAN/shlibs (thanks Heiko Schlittermann).
  * Added libm.so.5 to shlibs.default for i386/m68k.

  * Split binary package into two: dpkg and dpkg-dev.
  * dpkg-source(1) documents mode and ownership setting during extraction.

  * dpkg-scanpackages moved to /usr/bin.
  * Include /usr/bin/dpkg-deb, not dpkg-deb.dist; don't rename in scripts.
  * Copyright file changed slightly.
  * debian-changelog-mode uses magic key substitution strings.  (Bug#4419.)
  * Changed email address in control file to <ian@chiark.greenend.org.uk>.
  * Manuals and own Standards-Version: updated to 2.1.1.0.

 -- Ian Jackson <ian@chiark.greenend.org.uk>  Thu, 12 Sep 1996 01:13:33 +0100

dpkg (1.3.14) unstable; urgency=low

  * dpkg-buildpackage new -tc (clean source tree) option.

  * Formatted documentation removed by `make clean' and so not in source.
  * Manuals and own Standards-Version: updated to 2.1.0.0.
  * Distribute {policy,programmer}.{html.tar,ps}.gz with each upload.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Sun, 1 Sep 1996 20:43:40 +0100

dpkg (1.3.13) unstable; urgency=low (HIGH for building new src X programs)

  * X shared libraries added to shlibs.default (=> `elf-x11r6lib').
  * dpkg-source tar invocation fixed so that TAPE env var doesn't break it.
  * dpkg-source copes better with missing final newline messages from diff.

  * dpkg-buildpackage usage message fixed: -si is the default.  (Bug#4350.)
  * dpkg-source error message about src dir mismatch typo fixed.  (Bug#4349.)

  * dpkg-source(1) has suggestions for dpkg-buildpackage -r option.
  * dpkg-source change date fixed.  (Bug#4351.)
  * More developers' keys.
  * Manual updates, own Standards-Version updated.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Sat, 31 Aug 1996 20:08:18 +0100

dpkg (1.3.12) unstable; urgency=medium

  * dpkg prints old version number when upgrading.  (Bug#4340.)
  * dpkg-deb tries to detect and flag corruption by ASCII download.

  * dpkg-genchanges and dpkg-buildpackage say what source is included.

  * dpkg-buildpackage passes +clearsig=on to PGP (or pgpcommand).  (Bug#4342.)

  * dpkg-source prints better error for cpio not honouring -0t.
  * control file Suggests cpio >= 2.4.2, rather than just cpio.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Fri, 30 Aug 1996 15:31:51 +0100

dpkg (1.3.11) unstable; urgency=low

  * EBUSY when dpkg removes a directory is only a warning.

  * dpkg-genchanges generates sensible warning (not confusing error
    about mismatch) for missing Section/Priority in binary packages.

  * Added dpkg --print-gnu-build-architecture option.
  * shlibs.default for m68k provided, as a copy of i386 version.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Thu, 29 Aug 1996 14:05:02 +0100

dpkg (1.3.10) unstable; urgency=medium

  * dpkg-source(1) manpage alias symlinks are not dangling.
  * dselect selects things by default if they are installed.
  * Added `pentium' as alias for `i386' architecture.
  * Added `Suggests: cpio, patch' and explanatory text to Description.
    (Bugs #4262, #4263.)

  * More developers' PGP keys.
  * Manual updates, new source format released.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Mon, 26 Aug 1996 14:30:44 +0100

dpkg (1.3.9) unstable; urgency=low (high for new source format)

  * dpkg --get-selections and --set-selections added.
  * New dpkg --force-not-root flag.

  * Don't replace directory with another package's file.  (Bug#4202.)

  * All manpages now installed compressed.
  * Copyright file moved to /usr/doc/dpkg/copyright.
  * Standards-Version updated (0.2.1.1).

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Sat, 24 Aug 1996 19:09:30 +0100

dpkg (1.3.8) unstable; urgency=low (high for new source format)

  * dpkg-buildpackage -sa, -si options work correctly.

  * update-rc.d(8) updated to reflect design and reality.
  * Programmers' and policy manual updates.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Fri, 23 Aug 1996 12:48:26 +0100

dpkg (1.3.7) unstable; urgency=low (medium for source pkg docs)

  * dselect +/-/_/= on lines for all broken, new, local or whatever
    packages do not affect _all_ packages.  (Bug#4129.)

  * Support for diff-only uploads in source packaging tools.
  * dpkg-genchanges -d<descripfile> option renamed to -C.
  * dpkg-buildpackage understands -m, -v, -C (for dpkg-genchanges).
  * Support for debian/shlibs.local added to dpkg-shlibdeps.
  * Shared library files' search order defined in dpkg-source(1), and
    relevant files added to the FILES section.

  * Programmers' manual describes source packaging tools.
  * Policy manual mentions shared library control area file.
  * dpkg-source manpage includes dpkg-shlibdeps in title line.
  * Manuals have changelog and automatic version numbering.
  * changelogs (for dpkg and for manuals) installed.
  * binary target split into binary-arch and binary-indep in manual.
  * Manpages should be compressed.
  * Copyright file is moved to /usr/doc/<package>/copyright.
  * Changelogs must be installed in /usr/doc/<package>.

  * dpkg-deb(8) moved to dpkg-deb(1).

  * binary target split into binary-arch and binary-indep in source.
  * changelog entry for 1.2.14 copied from that (forked) release.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Thu, 22 Aug 1996 15:36:12 +0100

dpkg (1.3.6) experimental; urgency=low (HIGH for new source format)

  * dpkg-source now has broken argument unparsing for tar.  (Bug#4195.)

  * dpkg-gencontrol writes to debian/tmp/DEBIAN/control by default.
  * dpkg-shlibdeps script added.

  * Back to old sh update-rc.d, and removed manpage, because new Perl
    version and the manpage have different syntax and semantics.
  * update-rc.d prints usage message for missing terminal `.'.  (Bug#4122.)

  * Use rm -rf instead of just rm -r in dpkg-deb --info &c.  (Bug#4200.)

  * Added support for Installed-Size to dpkg-gencontrol, and documented.
  * Source packaging substitution variables and name syntax rationalised.
  * dpkg-source scripts' usage messages improved slightly.
  * dpkg-source works with non-empty second (orig dir) argument.

  * Added rationale for copyright policy to manual.
  * More developers' PGP keys.
  * Control database handling cleanups (usu. Source field blanked).

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Tue, 20 Aug 1996 15:39:58 +0100

dpkg (1.3.5) experimental; urgency=low (high for debian-changelog-mode)

  * 822-date script included.  (Bug#4136.)
  * debian-changelog-add-version works on empty file.
  * debian-changelog-mode mode-help works properly.

  * dpkg-source tells patch not to make numbered backups.  (Bug#4135.)

  * More developers' PGP keys.
  * Paragraph on uucp -a and -g options removed from policy manual.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Wed, 14 Aug 1996 14:46:47 +0100

dpkg (1.3.4) experimental; urgency=low

  * Removed debugging output from dpkg-source -x.  Oops.
  * Removed section on source package permissions from policy manual -
    dpkg-source now sorts these out.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Sun, 11 Aug 1996 13:25:44 +0100

dpkg (1.3.3) experimental; urgency=low

  * Programmers' & policy manuals in source tree; HTML in /usr/doc/dpkg.
  * Old guidelines.info and text files in /usr/doc/dpkg removed.

  * dpkg-source sets permissions on extracted debianized source tree
    and does not copy ownerships out of archive even if running as root.

  * Emacs mode `dpkg changelog' renamed to `Debian changelog'.
  * Default changelog format renamed from `dpkg' to `debian'.

  * debian-changelog-mode sets fill-prefix correctly.
  * debian-changelog-mode urgencies except HIGH lowercase by default.
  * debian-changelog-mode displays keymap in doc string and so mode help.

  * More maintainers' PGP keys.

  * Remove built changelog parsers with `clean' target in source.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Sat, 10 Aug 1996 23:35:51 +0100

dpkg (1.3.2) experimental; urgency=LOW (MEDIUM for dpkg-source)

  * Faster update-rc.d written in Perl by Miquel van Smoorenburg.
  * install-info --test doesn't lock dir.  (Bug#3992, thanks Darren).

  * dpkg-source doesn't break in the presence of any symlinks.

  * More developers' keys added to doc/developer-keys.pgp.
  * Install developers' keys in /usr/doc/dpkg/developer-keys.pgp.
  * dpkg-source documents undefined substvar behaviour.
  * minor debian/rules cleanups.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Sat, 10 Aug 1996 02:13:47 +0100

dpkg (1.3.1) experimental; urgency=LOW

  * manpage for dpkg-source et al now available.
  * dpkg-changelog-mode.el installed in site-lisp, but still no autoload.

  * dpkg-source prints correct string for not-understood tar -vvt output.
  * dpkg-source parsing of tar -vvt output made more robust.

  * dpkg-buildpackage prints usage message on usage error.
  * dpkg-gencontrol can print usage message.
  * -T<varlistfile> option added to dpkg-source.
  * Description of -f<fileslistfile> corrected in dpkg-distaddfile usage.
  * -m<maintainer> synopsis changed in dpkg-genchanges usage.
  * debian/substvars may now contain blank lines.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Thu, 8 Aug 1996 02:36:04 +0100

dpkg (1.3.0) experimental; urgency=LOW

  * dpkg can install named pipes.
  * dpkg-deb supports directory for destination, generates filename.
  * dpkg-{source,gencontrol,genchanges,parsechangelog,buildpackage},
    dpkg-distaddfile scripts to support new source package format.
  * a.out build no longer supported.
  * Changed to new source package format.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Tue, 6 Aug 1996 02:31:52 +0100


dpkg (1.2.14) stable unstable; urgency=MEDIUM

  * dselect +/-/_/= on lines for all broken, new, local or whatever
    packages do not affect _all_ packages.  (Bug#4129.)

  * NOTE - THE HISTORY FORKS HERE.  1.2.14's change appears in 1.3.7.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Thu, 22 Aug 1996 00:39:52 +0100


dpkg (1.2.13) unstable; urgency=LOW

  * dpkg --search produces correct output for diversions.
  * dpkg-name remove unnecessary arch missing warning.  (Bug#3482.)

  * dpkg-deb --build warns about uppercase chars in package name.

  * dpkg-scanpackages error messages updated and manpage provided
    (thanks to Michael Shields).
  * dpkg-scanpackages warns about spurious entries in override file.
  * dpkg-scanpackages `noverride' renamed to `override' everywhere.
  * dpkg-scanpackages field ordering to put Architecture higher.
  * dpkg-scanpackages field names capitalised appropriately.
  * dpkg-scanpackages invokes find with -follow.  (Bug#3956.)

  * guidelines say #!/usr/bin/perl everywhere, not #!/bin/perl.
  * Many developers' PGP keys added.

  * configure script uses ${CC} instead of $(CC) (again :-/).
  * developers' keys included in dpkg source tree and /usr/doc.
  * configure remade using autoconf 2.10-3 (was 2.4-1).

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Thu, 1 Aug 1996 02:46:34 +0100

dpkg (1.2.12); priority=LOW

  * dpkg --search and --list understand and comment on diversions.
  * dpkg-divert displays diversions more intelligibly.

  * Guidelines are somewhat clearer about descriptions.
  * deb(5) describes new format; old moved to deb-old(5).  (Bug#3435.)
  * deb-control(5) carries a warning about being out of date.

  * Added 1996 to dselect version/copyright.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Thu, 4 Jul 1996 15:04:49 +0100

dpkg (1.2.11); priority=MEDIUM

  * dselect had dependency bug if installed package newer than avail.
  * Added `replaces' to dselect's list of package relationship strings.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Mon, 1 Jul 1996 02:51:11 +0100

dpkg (1.2.10); priority=MEDIUM

  * Fixed bug in old-style version/revision number parsing.  (Bug#3440.)

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Sat, 29 Jun 1996 03:32:45 +0100

dpkg (1.2.9); priority=MEDIUM

  * Fixed status database updates reading bug.
  * `Setting up' message includes version number.
  * `existence check' message changed to say `cannot access archive'.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Thu, 27 Jun 1996 13:39:36 +0100

dpkg (1.2.8); priority=LOW

  * dpkg --record-avail puts data in Size field.
  * strip / for rmdir(2) in cleanup to work around kernel bug.  (Bug#3275.)
  * dpkg-split --msdos no longer allows `-' and other chars in filenames.

  * manual dpkg-split(8) written.
  * dpkg-split minor typo in --auto usage error message fixed.
  * dpkg-deb(8) very minor cosmetic fix to --build option.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Tue, 25 Jun 1996 03:00:14 +0100

dpkg (1.2.7); priority=LOW

  * dpkg-scanpackages syntax errors fixed.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Fri, 21 Jun 1996 04:10:38 +0100

dpkg (1.2.6); priority=MEDIUM

  * NFS, CDROM and partition dselect methods include mountpoint
    in paths given to dpkg in [I]install, so they should now work.

  * Removed some leftover files from source tree.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Wed, 12 Jun 1996 14:35:19 +0100

dpkg (1.2.5); priority=MEDIUM

  * Allow, but do not create, packages in half-installed state
    with no version number.  (Aargh.)

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Mon, 10 Jun 1996 04:55:43 +0100

dpkg (1.2.4); priority=MEDIUM

  * New dpkg-name from Erick (<pkg>_<version>_<arch>.deb convention).
  * Disappeared packages can't own conffiles any more !  (Bug#3214.)
  * install-info creates Miscellaneous sections with a newline
    following the heading.  (Bug#3218.)
  * cleanup-info script installed in /usr/sbin; called as appropriate
    by postinst.  Thanks to Kim-Minh Kaplan.  (Bug#3125.)
  * Allow superseded Essential packages to be purged after they've
    been removed (clear the Essential flag on removal, and ignore it
    on packages that are in stat_configfiles).

  * dselect disk methods understand `y' as well as `yes' for using
    development tree.
  * dselect doesn't make packages appear as `new' again if update
    of available packages fails.
  * dselect places method selection cursor over option last selected.

  * dpkg-scanpackages doesn't die when repeated packages are found.
  * dpkg-scanpackages allows many old maintainers (`//'-separated).

  * `Version' field is now mandatory (some operations already
    wouldn't work right anyway if it wasn't there).

  * update-rc.d(8) now says you must remove the script.  (Bug#3215.)
  * dpkg --force-help says that --force-overwrite is on by default.
  * dpkg-deb manpage rewritten.
  * debian.README (= /usr/doc/copyright/dpkg) edited slightly.

  * Some database parsing grunge removed (pdb_preferversion, &c).
  * Source tree doc/sgml contains some embryonic manuals.
  * Leftover files in lib directory in source tree deleted.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Mon, 10 Jun 1996 03:52:01 +0100

dpkg (1.2.3); priority=HIGH

  * install-info doesn't replicate section headings (Bug#3125, #2973).
  * New dpkg-name manpage broken off from script (oops!).
  * dselect help screens made consistent with new strings, flags, &c.
  * dselect error flag column labelled E (Error), not H (Hold).
  * `Escape' no longer bound to `exit list without saving' in dselect.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Tue, 28 May 1996 02:14:57 +0100

dpkg (1.2.2); priority=MEDIUM

  * Fixed dselect coredump found by Erick Branderhorst (thanks).
  * Sort obsolete removed packages separately, not under Available.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Thu, 23 May 1996 21:31:05 +0100

dpkg (1.2.1); priority=MEDIUM

  * `=' key in dselect really does `hold' rather than `unhold'.
  * dselect dependency processing now interacts better with `hold'.
  * dselect `I' key (not `i') modifies display of the info window.
  * dselect shows unavailable packages as being unavailable.
  * dselect main menu headings and many other strings changed to try to
    discourage people from deselecting every package and using [R]emove.
    Notably, `select' changed to `mark' throughout.

  * dselect disk methods now print a few fewer double slashes.
  * dselect disk access methods will offer to use dpkg --record-avail
    to scan the available packages, if no Packages file is found.

  * New dpkg --compare-versions option, for the benefit of scripts &c.
  * New dpkg --clear-avail option forgets all available packages info.
  * New dpkg --print-avail option, prints `available' data (from Packages, &c).
  * dpkg usage message is more informative, but no longer fits on screen.
  * dpkg --avail option renamed --record-avail.

  * Latest dpkg-name from Erick Branderhorst.
  * dpkg-scanpackages has more sensible problem reporting.
  * postinst configure now gets null argument (not <unknown> or <none>)
    when there is no previously configured version.

  * Guidelines say that postinst configure is given previous version.
  * Guidelines don't refer to maintainer-script-args.txt in main text.
  * Guidelines (Texinfo source) uploaded separately.

  * Own version of strcpy (used for debugging) removed.
  * Interface to access methods document in source (doc/dselect-methods.txt).
  * debian.buildscript moves changes file into parent directory.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Wed, 22 May 1996 01:26:31 +0100

dpkg (1.2.0); priority=MEDIUM

  * dselect can sort packages by available and installed states, and
    display their version numbers.  (Use O, o and V.)
  * Hold is properly integrated as a real `wanted state', rather than
    a separate flag.
  * Epochs in version numbers implemented, using the syntax
    <epoch>:<version>-<revision>.  (Epoch not usually displayed.)
  * dselect disk method is architecture-independent (uses dpkg's
    installation architecture, and looks in the right part of the tree).

  * dselect disk method doesn't try to satisfy the predependencies of
    packages which are on hold.
  * Fixed conflict-related assertion failure.  (Bug#2784.)
  * conffiles do not cause file conflicts if the conflicting package
    is in the `configuration only' state.  (Bug#2720.)
  * Fixed messages where available version number was reported as installed
    version in conflict and dependency messages.  (Bug#2654, Bug#2974.)

  * New format .deb files are default even for a.out compiles (but
    a.out version of dpkg is in old format).
  * Characters @:= (at colon equals) in package names now strictly
    forbidden everywhere (_ is still allowed in existing packages).
  * New dpkg --print-installation-architecture option prints installation
    architecture (compiled in), rather than build architecture (determined
    from gcc -print-libgcc-file-name).

  * Version messages show whether compiled a.out or ELF (i386 only).
  * Fixed missing space in version syntax error messages.
  * Manpage dpkg.8 installed with warning about inaccuracy.

  * Guidelines don't say to stop and restart daemons in runlevels 2345;
    instead they say to start in 2345 and stop in 016.
  * Guidelines and version messages say just Debian Linux.
  * Guidelines typo fix for '"stop"'.  (Bug#2867.)

  * doc/Makefile.in clean properly deletes various guidelines.info* files.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Thu, 16 May 1996 00:01:21 +0100

dpkg (1.1.6); priority=MEDIUM

  * Check virtual dependencies when removing (ouch! - thanks SDE.)
  * Fixed bug in internal database validity management that could
    make dselect and dpkg dump core.  (Bug#2613.)
  * Fixed two coredumping bugs when using local diversions.  (Bug#2804.)
  * Fixed disappearance of overwritten packages.  (Bug#2696.)
  * install-info won't modify dir file before start of menu.
  * install-info will create Miscellaneous heading if no sections yet.

  * Only alphanums and +-. allowed in package names - enforced by
    dpkg-deb --build and documented in Guidelines.
  * dselect doesn't display packages unless they are installed, selected
    or available.
  * dselect doesn't show spurious section and priority headings.
  * dselect has a few extra keybindings (from Lee Olds).
  * --force message changed to `--force enabled' so that default is OK.

  * dpkg-name now includes architecture component in .deb filename,
    and translates - in package name to _.
  * .deb file has architecture component in filename.

  * Guidelines changed to say Pre-Depends is for experts only.
  * Guidelines say to provide a unidiff (-u) rather than an old context diff.
  * Guidelines say 755 root.root for shared libraries.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Wed, 1 May 1996 00:47:22 +0100

dpkg (1.1.5); priority=MEDIUM (HIGH for diversions users)

  * Fixed coredump when using diversions.  (Bug#2603.)
  * Fixed typo in dpkg-divert which could lose diversions.  (Bug#2662.)

  * --force-overwrite is the default.
  * diversions.text provides better examples.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Wed, 10 Apr 1996 13:59:30 +0100

dpkg (1.1.4); priority=MEDIUM

  * Allow overwriting of conflicting packages being removed.  (Bug#2614.)

  * a.out control file says Pre-Depends: libc4 | libc.  (Bug#2640.)
  * ELF control file and libc dependencies changed to use finalised scheme.
  * ELF control file and libc dependencies for i386 only.  (Bug#2617.)

  * Guidelines say use only released libraries and compilers.
  * Install wishlist as /usr/doc/dpkg/WISHLIST.
  * Remove spurious entries for Guidelines in info dir file.

  * dpkg-deb --build checks permissions on control (DEBIAN) directory.

  * Spaces in control file fields not copied by dpkg-split.  (Bug#2633.)
  * Spaces in split file part control data ignore.  (Bug#2633.)

  * Portability fixes, including patch from Richard Kettlewell.
  * Fixed minor configure.in bug causing mangled GCC -W options.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Thu, 4 Apr 1996 01:58:40 +0100

dpkg (1.1.3); priority=LOW

  * dselect disk methods support Pre-Depends installation ordering.
  * When dpkg fails and --auto-deconfigure would help it says so.
  * dpkg --search output lists several packages with same file on one line.
  * Improved dpkg usage message somewhat.

  * dpkg-deb --build checks permissions and types of maintainer scripts.
  * dpkg-deb --build treats misspecified conffiles as error, not warning.
  * dpkg --print-architecture prints compiler's architecture while
    dpkg --version (&c) print system's arch (this to help cross-compiling).
  * More minor guidelines changes, including dir entry fixup.

  * configure script caches more values.
  * Changed maintainer email address to ian@chiark.chu.cam.ac.uk.

 -- Ian Jackson <ian@chiark.chu.cam.ac.uk>  Sat, 16 Mar 1996 19:18:08 +0000

dpkg (1.1.2); priority=LOW

  * Packaging guidelines installed properly (and as guidelines
    rather than debian-guidelines).
  * ELF version has more checks to stop you wrecking your dpkg installation.
  * dselect disk methods now look for a `local' tree as well, for
    people who want locally-available software of various kinds.
  * dpkg-divert has debugging message removed.
  * Minor guidelines changes.

  * Various makefile cleanups, mainly to do with ELF vs. a.out support.
  * debian.rules cleans out ~ files itself, as well as calling make clean.
  * debian.rules names .nondebbin.tar.gz file ELF too, if appropriate.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Thu, 14 Mar 1996 03:38:29 +0000

dpkg (1.1.1elf); priority=LOW

  * Added /usr/lib/dpkg/elf-executables-ok and elf-in-kernel.
  * Replaces field now allows automatic removal of conflicting packages.
  * Replaces field now required to overwrite other packages' files.
  * Architecture field, and dpkg --print-architecture, supported.
  * build new format archives by default when compiled with ELF compiler.

  * symlinks are now installed atomically (good for shared libraries).
  * create /var/lib/dpkg/diversions in postinst if necessary (Bug#2465.)
  * Pre-Depends now correctly fails if package never configured.
  * dselect disk methods mount with -o nosuid,nodev.
  * update-rc.d defaults doesn't add both K and S in any one runlevel;
    dpkg postinst fixes up this situation if it sees it.

  * Assorted fixups to the Guidelines, which are now in one piece.
  * dpkg --list prints version string in one piece.
  * dpkg-scanpackages doesn't produce notice on output with list of
    packages with Section and/or Priority control file fields.

  * control file and debian.rules work both for ELF and non-ELF compiles.
  * most files compiled with -O2 (-O3 only for some critical files) -
    this fixes ELF build.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Mon, 11 Mar 1996 04:25:28 +0000

dpkg (1.1.0); priority=LOW

  * dpkg supports Pre-Depends.
  * postinst script gets most-recently-configured version as $2.

  * lib/tarfn.c #includes <errno.h> (portability fix).

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Sun, 11 Feb 1996 21:07:03 +0000

dpkg (1.0.17); priority=LOW

  * dpkg --recursive follows symlinks (useful for devel tree).

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Sat, 10 Feb 1996 15:58:46 +0000

dpkg (1.0.16); priority=LOW

  * dpkg-deb much faster reading new format archives.  (Bug#2256.)
  * Developers' documentation in /usr/doc/dpkg/, /usr/info/.

  * Fixed typo in control file Description.

  * configure script tries to improve matters wrt sysinfo.
  * any debian-tmp.deb is deleted by `./debian.rules clean'.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Sun, 4 Feb 1996 15:51:59 +0000

dpkg (1.0.15); priority=LOW

  * dselect disk methods should never unmount things they didn't mount.
  * debian.README aka /usr/doc/copyright updated.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Tue, 30 Jan 1996 15:05:39 +0000

dpkg (1.0.14); priority=MEDIUM

  * fixed file descriptor leak in dpkg introduced in 1.0.11.
  * included dpkg-name in this package (conflicts with dpkg-name).

  * redraw in dselect main menu changed to use clearok (like in lists).
  * sa_restorer in struct sigaction no longer used (portability fix).
  * removed Guidelines from source package.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Tue, 30 Jan 1996 02:52:29 +0000

dpkg (1.0.13); priority=MEDIUM

  * dselect partition and mounted methods work again.
  * dpkg-deb --no-act in usage message.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Fri, 26 Jan 1996 18:37:03 +0000

dpkg (1.0.12); priority=MEDIUM (HIGH for users of 1.0.11)

  * Fixed frequent dpkg coredump introduced in 1.0.11.  (Bug#2219.)
  * dpkg-deb ensures version numbers start with alphanumerics.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Wed, 24 Jan 1996 00:42:31 +0000

dpkg (1.0.11); priority=MEDIUM

  * corrected potentially serious problem with dpkg low-memory in-core
    files database.
  * dpkg-split --msdos puts output files in right directory.  (Bug#2165.)

  * diversions implemented - see `dpkg-divert --help'.

  * dselect shows and uses (for dependencies) currently installed
    version of a package if that is more recent.
  * dpkg --force-... options are in separate help screen.
  * better error messages for corrupted .deb archives.  (Bug#2178.)
  * dselect NFS method will unmount correct copy of NFS area if mounted
    twice.

  * removes some ELF compilation warnings.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Fri, 19 Jan 1996 02:41:46 +0000

dpkg (1.0.10); priority=MEDIUM

  * dpkg-deb option parsing unmuddled (-I option was removed
    in 1.0.9 and broke dpkg-deb).  (Bug#2124.)

  * dpkg-split will work when ELF `ar' is installed, and is faster.

  * nfs dselect method now available.
  * disk methods don't prompt spuriously for Packages files.
  * cdrom+harddisk methods can find Packages files.

  * dpkg-scanpackages (creates Packages files) now in /usr/sbin.

  * various changes to help compilation of dpkg-deb, dpkg-split
    and md5sum on non-Debian systems.
  * <sys/fcntl.h> replaced by <fcntl.h> throughout.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Sun, 14 Jan 1996 02:55:19 +0000

dpkg (1.0.9); priority=MEDIUM

  * dselect uninitialized variable coredump fixed (thanks Carl).

  * version numbers printed by --version fixed.  (Bug#2115.)
  * disk method problem with missing Packages files fixed.  (Bug#2114.)
  * dependency version relationships now <= >= << >> =.  (Bug#2060.)

  * install-info is in /usr/sbin, not /usr/bin.  (Bug#1924.)
  * dpkg regards Revision field as obsolete.

  * <asm/unistd.h> changed to <linux/unistd.h> (for m68k port).
  * scripts/Makefile.in `clean' target deletes scripts.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Thu, 11 Jan 1996 20:51:20 +0000

dpkg (1.0.8); priority=LOW

  * update-alternatives slightly more helpful message.  (Bug#1975.)
  * cosmetic improvements to disk installation method.  (Bug#1970,1956.)
  * mounted filesystem and unmounted partition separate methods.  (Bug#1957.)

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Tue, 12 Dec 1995 04:07:47 +0000

dpkg (1.0.7); priority=MEDIUM (HIGH to upgrade syslogd)

  * dselect harddisk/CDROM method script handles multiple package
    areas.
  * Everything has a manpage, though many are very unhelpful indeed.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Thu, 30 Nov 1995 03:59:14 +0000

dpkg (1.0.6); priority=MEDIUM (HIGH to upgrade syslogd)

  * conffiles can now be taken over properly from one package by
    another which replaces it.  (Bug#1482.)
  * dpkg will not deconfigure essential packages when --auto-deconfigure
    is set (this bug was fairly unlikely ever to be exercised).

  * dpkg checks for the presence of certain important programs on the PATH.
  * dselect is now more informative when a dependency is missing, saying
    "<package> does not appear to be available".  (Bug#1642, 1705).

  * `make distclean' fixed; config.* &c removed from source archive.
  * lib/lock.c now uses fcntl rather than flock, for better portability.

  * `Package_Revision: 0' removed from control file.
  * Some inaccuracies and bad formatting in various messages corrected.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Tue, 21 Nov 1995 20:15:18 +0000

dpkg (1.0.5); priority=LOW

  * dpkg-split allows some space for the header.  (Bug#1649.)
  * dpkg-split now has --msdos option for 8.3 filenames.
  * dpkg-split --join &c will not complain about trailing garbage.

  * dselect & dpkg will no longer ignore SIGHUP will running subprocesses.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Fri, 13 Oct 1995 13:59:51 +0100

dpkg (1.0.4); priority=MEDIUM (HIGH for dselect users with 1.0.3)

  * fixed bug which prevented dselect from displaying the bottom line of
    any listing screen.  This was introduced in 1.0.3, sorry !

  * a conffile will never cause a prompt if the package maintainer
    distributes a file identical to the user's, even if the file has
    been edited by both the user and the maintainer or is a
    newly-registered conffile.  (Bug#1639.)

  * dselect disk/cdrom method script says where to get Packages file.
  * dselect help has better descriptions of the functions of Return and Q.

  * postinst now warns about some problems with /usr/lib/dpkg/methods/hd.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Thu, 12 Oct 1995 01:45:38 +0100

dpkg (1.0.3); priority=MEDIUM

  * dselect: fixed segfault when doing some multiple (de)selections.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Tue, 10 Oct 1995 03:21:12 +0100

dpkg (1.0.2); priority=MEDIUM

  * problem with screen refresh after `o' (change order) corrected.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Mon, 9 Oct 1995 13:11:04 +0100

dpkg (1.0.1); priority=LOW

  * much better dpkg performance on low-memory systems.
  * start-stop-daemon --name should now work. (oops!)
  * fixed typo which could turn into memory overwriting bug sometime.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Sun, 8 Oct 1995 20:12:29 +0100

dpkg (1.0.0); priority=LOW

  * Version 1.0.0: dpkg is no longer beta.

  * tar extractor no longer looks up an empty string using getgrnam
    (this causes the libc to coredump when using NIS).

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Sun, 1 Oct 1995 13:07:36 +0100

dpkg (0.93.80); priority=LOW

  * dselect help screen intro changed to remove `much' before `help'.

  * update-alternatives.pl contains hardcoded ENOENT value, instead
    of requiring POSIX.pm to be present.

  * Makefiles changed to strip when installing instead of when building.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Sat, 30 Sep 1995 01:44:12 +0100

dpkg (0.93.79) BETA; priority=LOW

  * DPKG_NO_TSTP environment variable which stops dpkg sending the
    process group a SIGTSTP (Bug#1496).
  * End key should work in dselect lists (Bug#1501).
  * various message typos (missing \n's) fixed (Bug#1504).

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Fri, 29 Sep 1995 03:27:01 +0100

dpkg (0.93.78) BETA; priority=LOW

  * dselect keystrokes help file typo fix.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Thu, 28 Sep 1995 20:31:02 +0100

dpkg (0.93.77) BETA; priority=MEDIUM

  * dpkg --remove --pending will purge things when appropriate.

  * fixed failure to null-terminate dpkg conflict problem messages.
  * fixed bug in formatting of dependency version problem messages.

  * Conffiles resolution prompt for new conffile: typo fixed.
  * Changed dpkg usage error to suggest `-Dhelp' instead of `--Dhelp'.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Wed, 20 Sep 1995 23:44:35 +0100

dpkg (0.93.76) BETA; priority=MEDIUM

  * dpkg --auto-deconfigure option (used automatically by dselect) allows
    `important' packages which many others depend on to be split.
  * dpkg should no longer fail an assertion during complicated
    multiple configurations involving packages which are on hold.

  * update-alternatives supports negative priorities.
  * /etc/alternatives is included in the .deb archive.

  * Package priorities changed: Required (Req), Important (Imp), Standard (Std),
    Optional (Opt) and Extra (Xtr).  For backward compatibility Base is an
    alias for Required, and Recommended is kept as a level just below Standard.

  * dselect shows introductory help screen when entering package lists (both
    main and recursive).
  * dselect help messages made more friendly.
  * dselect package list `quit, confirm, and check dependencies' key is
    now Return rather than lowercase `q'; likewise method list `select this
    one and configure it' key.
  * dselect selects packages with priority `standard' or better by default.
  * dselect `v=verbose' becomes `v=terse' when in verbose mode.

  * hard disk method unmounts /var/lib/dpkg/methods/mnt on failure.
  * disk methods' install message uses `stty' to find out what the
    interrupt character is, and uses that in the prompt (rather than ^C).
  * dpkg now tolerates ^Z characters in Packages files.
  * harddisk method doesn't display extra slash when updating packages file.
  * harddisk method burbles less if it doesn't have a good default.

  * dpkg-deb now supports new flexible format, but old format still default.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Wed, 20 Sep 1995 02:49:41 +0100

dpkg (0.93.75) BETA; priority=MEDIUM

  * dselect no longer segfaults when you try to modify the last item.

  * dselect Makefile compiles with -g, and links without -s, but installs
    with -s, so that built source directory has debugabble binary.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Tue, 12 Sep 1995 02:59:29 +0100

dpkg (0.93.74) BETA; priority=LOW

  * dpkg-split implemented and installed in /usr/bin/dpkg-split.
    (NB this is not compatible with Carl Streeter's old dpkg-split script.)
  * dpkg uses dpkg-split.
  * floppy disk method available - NB this is a first attempt only.

  * hard disk method uses --merge-avail rather than --update-avail.
  * installation by default of `standard' packages removed again.
    (I don't think this is the right place to do this.)
  * update-alternatives --remove correctly deletes all slave links;
    minor cosmetic improvements.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Mon, 11 Sep 1995 02:06:05 +0100

dpkg (0.93.73) BETA; priority=LOW

  * dselect multi-package selection now done by `divider' lines
    actually in the package list, rather than horizontal highlight
    movement.
  * dselect help available, and keybindings rationalised.

  * postinst removes /usr/lib/dpkg/methods/hd if upgrading from
    0.93.42.3 or earlier.
  * `hold' flag changed to be settable by the user only, and
    made orthogonal to the `reinstallation required' flag.
  * dpkg will install by default any packages with priority of
    `standard' or better unless they're explicitly deselected.

  * dselect dependency/conflict resolution will suggest marking absent
    packages for `purge' rather than `deinstall'.
  * disk method script produces message about invoking dpkg.
  * dpkg produces warning, not error, when it gets EPERM trying to
    remove a directory belonging to a package being removed.
  * dpkg, dpkg-deb usage error reporting improved.
  * dselect detects too-dumb terminals and stops.
  * dpkg-deb(8) updated a little (thanks to Bill Mitchell).

  * dselect debugmake script uses -O0.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Sun, 10 Sep 1995 12:23:05 +0100

dpkg (0.93.72) BETA; priority=MEDIUM

  * /usr/sbin/update-alternatives added.

  * New names for certain control file fields (old names work
    as aliases): Optional -> Suggests, Recommended -> Recommends,
    Class -> Priority.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Sun, 3 Sep 1995 16:37:41 +0100

dpkg (0.93.71) BETA; priority=LOW

  * dpkg doesn't silently overwrite `new' conffiles (Bug#1283).
  * case now not significant in Essential, Status and Class (Bug#1280).
  * dselect checks method scripts for execute, not for write.

  * spelling fixes in lib/dbmodify.c and dselect/helpmsgs.src.

  * dselect `clean' target deletes helpmsgs.cc and helpmsgs.cc.new.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Thu, 31 Aug 1995 13:56:08 +0100

dpkg (0.93.70) BETA; priority=MEDIUM

  * dselect unmounted harddisk method has many silly bugs fixed.

  * dpkg --root option restored (was removed by mistake in 0.93.68).
  * minor cosmetic change to dselect subprocess failure message.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Wed, 9 Aug 1995 22:18:55 +0100

dpkg (0.93.69) BETA; priority=MEDIUM

  * dpkg --configure and --remove should work properly when
    they have to defer processing (this tends to happen when many
    packages are processed at once).  (Bug#1209.)

  * dpkg --configure and --remove work better when `processing'
    several related packages with --no-act.

  * dpkg --auto is now two options, --pending or -a (for configure,
    remove, &c) and --recursive or -R (for install, unpack, &c).

  * dpkg debug options in usage message, and values available (-Dh).

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Wed, 9 Aug 1995 22:18:55 +0100

dpkg (0.93.68) BETA; priority=MEDIUM

  * dpkg won't get an internal error if you try to use the default
    conffiles response (ie, if you just hit return).  (Bug#1208.)

  * dselect hard disk and CD-ROM methods - the real thing, but ALPHA.

  * dselect allows you to go straight to `update' or `install' if
    you have already set up an access method.
  * new dpkg options --yet-to-unpack, --merge-avail and --update-avail.
  * dpkg -G is an abbreviation for dpkg --refuse-downgrade.
  * dpkg -R alias for --root withdrawn, pending reuse with different meaning.
  * dpkg --help message rationalised somewhat.

  * Obsolete `examples' and `dpkg-split' directories removed from
    source tree.  The `hello' package is a better example.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Mon, 7 Aug 1995 02:16:25 +0100

dpkg (0.93.67) BETA; priority=LOW for C dpkg alpha testers, HIGH for others

  * dpkg no longer statically linked and -g.
  * calls to abort() changed to print string, file and line number first.
  * removed unused variable from dpkg source.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Fri, 4 Aug 1995 01:39:52 +0100

dpkg (0.93.66) ALPHA; priority=MEDIUM

  * dpkg will correctly remove overwritten files from the lists of
    the package(s) that used to contain them.

  * dpkg --purge is now an action, rather than a modifier for --remove,
    and the -P alias for it is withdrawn.

  * dpkg --unpack/--install filenames in messages are now more sensible
    about when to use .../ (show as many trailing components as possible
    in 40 characters, or the whole path if that the last component is
    longer than that).

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Thu, 3 Aug 1995 02:11:03 +0100

dpkg (0.93.65) ALPHA; priority=MEDIUM

  * dpkg --remove should, when a package being removed is depended-on
    by another that is also queued for removal, defer the depended-on
    package rather than aborting it.  (Bug#1188.)

  * dpkg will not attempt to configure or remove a package more than
    once in the same run.  (Bug#1169.)

  * dpkg cosmetic fix to dependency problems message (this bug
    hasn't been triggered to my knowledge).

  * perl-dpkg no longer installed in /usr/bin.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Wed, 2 Aug 1995 13:02:58 +0100

dpkg (0.93.64) ALPHA; priority=MEDIUM

  * dpkg marks a package as no longer `to be configured in this run'
    when an error occurs, so that other packages which depend on it
    will fail (rather than causing a loop and an assertion failure,
     packages.c:166: failed assertion `dependtry <= 4').

  * dselect initial selection granularity is single-package.
  * dpkg --no-also-select option renamed to --selected-only (old option
    still accepted, but no longer in --help).  Changed -N to -O.

  * dselect `update' option changed to `install' (and other options
    renamed too).  NB: old access methods will not work, because
    the `update' script should now be an `install' script.

  * dselect `installation methods' renamed to `access methods'.
  * dpkg --skip-same-version and --refuse-downgrade produce friendlier
    messages when they skip packages.
  * --licence option now properly mentioned in all programs' --version
    messages.

  * bad fix for ELF compile problem involving myopt.h removed (compile
    problem turned out to be a GCC bug.)

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Tue, 1 Aug 1995 03:03:58 +0100

dpkg (0.93.63) ALPHA; priority=LOW

  * preinst works around shell bug/misfeature involving `trap'.

  * dpkg --skip-same-version doesn't skip packages which have
    an error flag set or which aren't in a standard `installed' state.

  * dpkg --search now does a substring search if the string doesn't
    start with a wildcard character (*, [ or ?) or slash.

  * problem with C/C++ linkage of stuff in "myopt.h" fixed, to help
    with compiling with GCC 2.7.0.

  * dselect Makefile.in `clean' deletes curkeys.inc &c, so that they are
    not shipped in the distribution source and will be rebuilt on the
    target system.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Thu, 27 Jul 1995 13:38:47 +0100

dpkg (0.93.62) ALPHA; priority=HIGH

  * dpkg purges leftover control scripts from /var/lib/dpkg/tmp.ci,
    rather than associating them with the wrong package.  (Bug#1101.)

  * dpkg won't `disappear' packages containing no files or directories,
    nor a package required for depends/recommended.  (Bug#1128.)

  * dpkg follows directory symlinks.  (Bug#1125.)

  * dselect fixups for ELF/GCC2.7.0 compilation.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Fri, 21 Jul 1995 21:43:41 +0100

dpkg (0.93.61) ALPHA; priority=LOW

  * dselect keybindings and status characters and descriptions changed
    (in pursuance of Bug#1037, user interface problems, still open.)

  * Some cleanups to fix mistakes discovered by ELF-GCC 2.7.0, and fixup
    for newer C++ draft standard (`for' variable declaration scope change).

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Tue, 18 Jul 1995 01:42:51 +0100

dpkg (0.93.60) ALPHA; priority=HIGH

  * dpkg doesn't think packages have `disappeared' if you install
    several packages at once.  (later reported as Bug#1132.)

  * usage error messages tidied up.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Sun, 16 Jul 1995 17:56:56 +0100

dpkg (0.93.59) ALPHA; priority=HIGH

  * dpkg doesn't break maintainer scripts &c if package `foo' exists
    when processing package `foobar'.  (Related to Bug#1101.)

  * dpkg implements `disappear' functionality.
  * dpkg/dselect remove dead entries from /var/lib/dpkg/status.

  * dpkg --list now sorted correctly and output somewhat improved.
  * some debugging messages moved from dbg_stupidlyverbose to dbg_scripts.
  * dpkg prints `Removing foo' message even if foo is not configured.
  * dpkg only prints `serious warning: files list file ... missing'
    once for each package.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Sun, 16 Jul 1995 02:32:11 +0100

dpkg (0.93.58) ALPHA; priority=HIGH

  * dpkg should write out status even for packages which it has only
    encountered in the `available' file so far.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Fri, 14 Jul 1995 20:19:21 +0100

dpkg (0.93.57) ALPHA; priority=LOW

  * dpkg does chroot when running maintainer scripts (--instdir
    should work right now, though I haven't been able to test it).

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Fri, 14 Jul 1995 01:32:30 +0100

dpkg (0.93.56) ALPHA; priority=HIGH

  * dpkg can now overwrite symlinks to directories, and will
    do correct handling of symlinks to plain files.
  * dpkg should not replace any directory with a symlink.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Thu, 13 Jul 1995 02:43:36 +0100

dpkg (0.93.55) ALPHA; priority=MEDIUM

  * dpkg can now extract hardlinks.
  * dpkg configuration/removal works in the presence of dependency cycles.
  * dpkg should no longer fail an assertion at processarc.c:193.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Wed, 12 Jul 1995 01:34:44 +0100

dpkg (0.93.54) ALPHA; priority=MEDIUM

  * dpkg and dselect no longer throw away all Class and Section
    information in /var/lib/dpkg/available.  (Oops.)
  * dpkg --refuse-<something> now works (this broke some dselect
    method scripts' attempts to use --refuse-downgrade).
  * dpkg --audit and --list implemented.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Mon, 10 Jul 1995 00:35:13 +0100

dpkg (0.93.53) ALPHA; priority=LOW

  * dpkg --install/--unpack only skips on-hold packages with --auto.
  * dpkg doesn't fclose() the --fsys-tarfile pipe twice.
  * dpkg error handling and reporting cleaned up.
  * dpkg now lists any failed packages/files just before exiting.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Sun, 9 Jul 1995 16:31:36 +0100

dpkg (0.93.52) ALPHA; priority=MEDIUM

  * dpkg won't segfault due to missing (Package_)Revision fields.
  * dpkg --search works.
  * dpkg will set execute permissions on scripts if necessary.
  * dpkg prints filenames in --unpack and --install.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Sat, 8 Jul 1995 12:41:39 +0100

dpkg (0.93.51) ALPHA; priority=HIGH

  * dpkg --status and --listfiles now work.

  * dpkg --remove --auto won't try to remove everything (!)
  * dpkg --unpack doesn't coredump after unpacking the first package.
  * dpkg won't fail an assertion if it bombs out of --configure
    or --remove because of too many errors.

  * Support for `Essential' in dpkg (not yet in dselect).
  * `available' (Packages) file class and section override those
    from package control files.
  * `Essential: yes' added to control file.

  * Locking strategy changed, now uses flock (no more stale locks).
  * preinst now more helpful about conffiles upgrade problem.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Sat, 8 Jul 1995 01:15:26 +0100

dpkg (0.93.50) ALPHA

  * C dpkg now in service.

  * dselect now installs in /usr/bin instead of /usr/sbin.
  * Improved `explanation of display' help and changed HSOC to EIOW.
  * dselect goes back to top of info display when you move the
    highlight.

  * Added <sys/types.h> to md5sum/md5.c, for the benefit of FreeBSD.
  * --admindir doesn't append `var/lib/dpkg' to its argument.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Fri, 19 May 1995 21:03:08 +0100

dpkg (0.93.42.3) BETA; priority=LOW

  * Rebuilt using ncurses 1.9.2c-0.
  * Silenced `subcritical error' message if errno == ENOENT.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Mon, 12 Jun 1995 13:09:24 +0100

dpkg (0.93.42.2) BETA; priority=HIGH

  * install-info --remove properly removes multi-line entries.
  * Slightly changed ^L redraw code in dselect package list.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Sat, 10 Jun 1995 14:06:01 +0100

dpkg (0.93.42.1) BETA; priority=HIGH esp. for new installations

  * update-rc.d default no longer adds K entries in runlevels 2345.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Tue, 6 Jun 1995 18:56:23 +0100

dpkg (0.93.42) BETA; priority=LOW; HIGH for dselect users

  * Fix uninitialized variable reference bug in dselect (#890).
  * Fix problem with wordwrapping package and method descriptions.
  * Create /var/lib/dpkg/methods/mnt.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Fri, 19 May 1995 21:03:08 +0100

dpkg (0.93.41) BETA; priority=LOW

  * Create /var/lib/dpkg/methods.
  * dpkg.pl noisily ignores --skip-same-version rather than barfing.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Tue, 16 May 1995 13:28:27 +0100

dpkg (0.93.40) BETA; priority=LOW

  * dselect's subprogram failure message made to stand out more.

  * When switching out of curses, always move the cursor to the
    bottom right corner of the screen.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Tue, 16 May 1995 01:03:38 +0100

dpkg (0.93.39) BETA; priority=LOW

  * dselect can now:
    - allow you to select and configure an installation method;
    - invoke installation method scripts to update the available file
      and unpack packages;
    - invoke dpkg to configure and remove packages.
    There are no installation methods available yet.

  * Search feature in dselect works (it was purely an ncurses bug).

  * dpkg-*.nondebbin.tar.gz now available (built by debian.rules).

  * The target directory for dpkg-deb --extract (also available as
    dpkg --extract) is no longer optional.  dpkg-deb suggests the use
    of dpkg --install if you omit it.

  * Added <errno.h> to lib/lock.c and fixed ref. to `byte' in
    md5sum/md5.c, for portability to Solaris 2.

  * Rebuilt `configure' and `config.h.in' using autoconf 2.3.
  * Revised function attribute support checking in configure script.
  * Removed obsolete `dselect.pl' from scripts directory.
  * New option --licence on all the C programs.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Sun, 14 May 1995 18:05:38 +0100

dpkg (0.93.38) BETA; priority=MEDIUM

  * Version number comparisons (in dpkg and dselect) now >= <=
    as documented (Bug#831; thanks to Christian Linhart).

  * dselect now has a non-superuser readonly mode.
  * dselect doesn't pop up unsatisfied `Optional's when quitting.
  * `unable to delete saved old file' message fixed dpkg_tmp to dpkg-tmp.

  * Made dpkg convert `revision' to `package_revision' when reading
    (eg) the `status' file.  libdpkg.a has `revision' as a synonym
    for `package_revision' and writes the former.

  * Major improvements and many changes to C option parsing, database
    management, error handling, Makefiles &c to support dpkg.
  * dpkg-deb should now work if sizeof(void*) < sizeof(void(*)()).

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Mon, 24 Apr 1995 12:34:39 +0100

dpkg (0.93.37) BETA; priority=LOW (MEDIUM for dselect users)

  * Fixed segfault if no description available (Bug#735);
    thanks to Peter Tobias for the bug report.
  * Fixed other assorted minor bugs in description displays.

  * Changed dpkg-deb --info short option from -i to -I, to make
    it unique across dpkg and dpkg-deb (-i still works with
    dpkg-deb for backwards compatibility).

  * Produce more sensible error when main package list is empty.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Fri, 7 Apr 1995 02:24:55 +0100

dpkg (0.93.36) BETA; priority=LOW (MEDIUM for dselect users)

  * All the C code (including dselect) updated to support `provides'
    (virtual packages).
  * Revamped dselect's related package selection/deselection
    algorithms.
  * Everything can now handle arbitrary `class' values (as well
    as the predefined ones which we understand and can interpret).
  * Fixed bug that prevented display update when moving down a small
    recursive package list in dselect.
  * Column heading characters corrected from `SHOC' to `HSOC'.

 -- Ian Jackson <iwj10@cus.cam.ac.uk>  Thu, 6 Apr 1995 12:48:13 +0100

dpkg (0.93.35) BETA; priority=MEDIUM

 * Preserve ownerships and permissions on configuration files.
 * Fix bug in conffile updating that could leave a hardlink
   <foo>.dpkg-new to the conffile <foo>.

 * Improved dselect's package list help messages.
 * Highlight now moves on after (de)selecting just one package.
 * Better algorithm for scrolling up/down when moving highlight.
 * Fixed bug in display of `preformatted' extended Description lines.
   (dselect is still ALPHA, but is fairly stable.)

 * Improved dpkg's message when configuring a package that doesn't
   exist, and when selecting or skipping a package that isn't
   currently selected (during unpack processing).

 * Description in control file expanded.

 * Scroll back to top when changing what is in the `info' area.

dpkg (0.93.34) BETA; priority=LOW (HIGH for dselect users)

 * dselect: Fixed bug which caused a coredump if you exited the
   package list if you'd made any changes.  Ouch !

 * dselect: Improved selection algorithm to show fewer extraneous
   packages; improved display for unavailable packages.

 * dpkg: Improved progress messages during unpacking somewhat.

dpkg (0.93.33) BETA; priority=LOW (HIGH for dselect users)

 * dselect now has a main menu.

 * Fixed nasty uninitialized data bug in dselect.

 * dselect now locks and unlocks the packages database.

Mon, 27 Mar 1995 03:30:51 BST  Ian Jackson <iwj10@cus.cam.ac.uk>

	* dpkg (0.93.32): Alpha dselect released and installed in
	                  /usr/sbin/dselect.
	* dpkg (0.93.32): Many portability enhancements: should now
	                  compile using GCC 2.6.3, and dpkg-deb should
	                  compile better on non-Linux systems.
	* dpkg (0.93.32): dpkg will not loop if its stdin disappears
	                  and it needs to prompt.
	* dpkg (0.93.32): Fixed removal dependency error to show
	                  correct package (Bug #648).
	* dpkg (0.93.32): Tidied up copyright notices.
	* dpkg (0.93.32): First draft of update-rc.d manpage, not yet
	                  installed in /usr/man.
	* dpkg (0.93.32): Changes to top-level Makefile.in to improve
	                  error trapping.
	* dpkg (0.93.32): Improved Makefile `clean' and `distclean'
	                  targets.
	* dpkg (0.93.32): Deleted irrelevant `t.c' from lib and
	                  dselect directories.
	* dpkg (0.93.32): Added vercmp.c with version comparison code.
	* dpkg (0.93.32): varbufextend message changed - varbufs not
	                  just for input buffers.
	* dpkg (0.93.32): varbuf has C++ member functions in header
	                  #ifdef __cplusplus.

Changes in dpkg 0.93.31:

* start-stop-daemon --pidfile now works (Bug#571).
* Fixed dependency processing bugs which could require a rerun of
  dpkg --configure (Bug#566).
* Fixed garbage output for `language' of control file in dpkg-deb --info.

Changes in dpkg 0.93.30:

* Added /usr/sbin/start-stop-daemon.

Changes in dpkg 0.93.09:

* Made postinst scripts really be run when dpkg --purge used.
* Added new --force-extractfail option - VERY DANGEROUS.

Changes in dpkg 0.93.28:

* Removed undef of 0x_p21 in read_database_file, which caused the
  the whole status database to become trashed when any update files
  were read.
* Make infinite-loop prevention and cycle detection work.
* Made findbreakcycle work (ie, break properly when cycle detected).
* New script, update-rc.d, to update links /etc/rc?.d/[KS]??*.
* dpkg.pl now sets the umask to 022.
* Cosmetic error message fix to dpkg-deb.
* Deleted OLD directory altogether.
* Improved error-trapping in top-level Makefile loops.

Changes in dpkg 0.93.27:

* Make version number specifications in Depends &c work.
* Added AC_PROG_CXX to autoconf.in for dselect.
* Changed myopt.h not to have cipaction field in cmdinfo (this was
  specially for dpkg-deb) - now we have a generic void*.
* Renamed `class' member of `pkginfoperfile' to `clas' [sic].
* Much work in `dselect' subdirectory.
* Deleted executables, objects and libraries from OLD tree !
* Minor changes to various copyright notices and top-of-file comments.
* Don't install nasty Perl dselectish thing as /usr/bin/dselect.

Changes in dpkg 0.93.26:

* Added --no-also-select instead of not auto-selecting on --unpack
  but doing so on --install; removed --force-unpack-any.

Changes in dpkg 0.93.25:

* Fixed duplicate output (failure to flush before fork) bug.
* More clarification of md5sum.c copyright.
* Corrected typo in ChangeLog in 0.93.24 source package.

Changes in dpkg 0.93.24:

* dpkg could copy conffiles info from one package to another.  Aargh.
  Bug #426.
* dpkg failed to initialise status if you tried to remove or
  configure a nonexistent package.  Bug #419.
* install-info now handles START-INFO-DIR-ENTRY entries like:
   * Gdb::                         The GNU debugger.
  Previously it would only accept (Bug #407):
   * Gdb: (gdb).                   The GNU debugger.
* When installing a new foo.info[.gz], install-info now replaces
   * Foo: (foo.info).              The Gnoo Foo.
  as well as just * Foo: (foo). ...
* Moved option parsing out of dpkg-deb into libdpkg.
* Assorted minor source code rearrangements.
* Fixed assorted copyright notices, clarified md5sum copyright.
* Corrected typo in 0.93.23 source package's ChangeLog.

Changes in dpkg 0.93.23:

* `dpkg-deb' --build now does a syntax check on the control file.
* `dselect' is now no longer called `debian', spurious copy removed
  from package top-level source directory.
* C control information parsing complete and somewhat tested.
* Moved `global' include files into $(srcdir)/include from ../lib,
  added some files to the lib Makefile, and arranged for pop_cleanup().

Changes in dpkg 0.93.22:

* Fixed bug which caused dpkg to see failures of md5sum where there
  were none (would also have caused dpkg to miss a real failure).
* Fixed failure to update some `status' database fields.

Changes in dpkg 0.93.21:

* Fixed error-handling bug which could corrupt database.

Changes in dpkg 0.93.20:

* Fixed bug which ran old (/var/adm/dpkg) postinst scripts.
* Fixed dpkg usage message which claimed -i => both --install & --info.
* Use Colin Plumb's MD5 code - faster, and better copyright.
* Manpages: dpkg-deb(8), deb-control(5), deb(5) - thanks to Raul
  Deluth Miller.  Also, an xfig picture of some C program innards.

Changes in dpkg 0.93.19:

* Don't delete the `list' file from the dpkg database.
* Fixed various bugs in the conffile handling.
* Conffiles that are symlinks will now be treated as if the
  `dereferenced' name of the file was listed in conffiles.  This means
  that /etc/foo -> /usr/etc/foo will cause all conffile updates of
  /etc/foo to create /usr/etc/foo.dpkg-tmp &c instead.  However, the
  link will be removed if --purge is used to delete all the conffiles.
* When doing a new installation, or when updating a conffile that
  wasn't listed as a conffile in the old version of the package, don't
  do any prompting but just install the version from the archive.
* Corrected error message if exec of dpkg --vextract failed
  and --instroot or --root specified.
* Added new --force-unpack-any option.
* Extra newline after --status output.
* Added -W options to CFLAGS.
* Fixed mistake in previous ChangeLog entry.

Changes in dpkg 0.93.18:

* Fixed invocation of dpkg-deb --vextract if --root or --instdir
  not specified.
* Create /var/lib/dpkg/updates.

Changes in dpkg 0.93.17:

* install-info --remove exits with status 0 if it doesn't find the
  thing to remove, instead of status 1.
* Error handling functions have __attribute__((format...)) if GCC.
* push_cleanup its arg takes void **argv instead of char **argv.
* Top-level Makefile.in has set -e before `for' loops.
* dpkg-deb --info not-an-existing-file produces fewer error messages.

Changes in dpkg 0.93.16:

* Made --root= option really extract to $instroot instead of `/'.
* install-info clears the 0444 bits in its umask.
* Fixed a few database handling bugs which cause dpkg always to fail,
  and usually to corrupt the status database in various ways.
* dpkg-deb completely rewritten, now doesn't tinker with
  /var/{adm,lib}/dpkg.  Should be faster.
* Directory structure and Makefiles in source package reorganised.

Changes in dpkg 0.93.15:

* Added `debian' (dselect), still very primitive.
* Database format changed, and moved from /var/adm to /var/lib.
* Added dpkg --avail mode, --list, --status and --search.
* Set of dpkg => dpkg-deb pass-through operations changed (but
  dpkg-deb not yet updated).
* Added --root, --admindir and --instdir, as well as --isok &c.
* Moved much stuff into /usr/lib/dpkg-lib.pl, rewritten status
  database handling.
* Put packages in `purge' state even if `deinstall' requested if
  they have no postrm and no conffiles.
* Version number comparisons fixed.
* insert-version.pl now installs lib.pl filename too.
* Strip trailing slashes when reading files from file lists.

Changes in dpkg 0.93.14:

* Fixed parsing of DEPENDS &c fields with trailing whitespace.
* postinst now fixes up broken ispell.control file.
* Cyclic dependency/multiple package removal processing: don't consider
  packages we've just removed when looking for a reason not to go ahead.
* Added call to postinst with `purge' argument for expunging old
  configuration etc. that aren't listed in conffiles.

Changes in dpkg 0.93.13:

* sub S_ISREG defined in dpkg.pl.
* Checking of DEPENDS &c fields was too lax, causing an internal error
  if you fed it certain kinds of broken control file.
* Fixed misleading message from bogus installationstatus call.
* New -u and -U options to dpkg-deb which don't unpack the /DEBIAN
  directory, and use these in dpkg.pl; clean up /DEBIAN in postinst.

Changes in dpkg 0.93.12:

* No longer needs *.ph files, since these appear to be broken.
* Postinst fixes up *.control files with curly brackets.
* embryo of dselect.

Changes in dpkg 0.93.11:

* New --ignore-depends option.
* This ChangeLog changed format here.

Wed Nov 30 15:38:21 GMT 1994  Ian Jackson  <iwj10@cus.cam.ac.uk>

	* dpkg 0.93.11 released.

	* conffile updating fixed.

	* Message `upgrade' in dpkg changed to `replace'.

	* install-info now copes with multi-line entries.

	* version numbers now done automatically in dpkg and install-info.

	* more debugging around conffiles updates.

	* *.hash files not deleted so soon.

	* adds brand new packages to status array so we can install them.

	* postinst does h2ph for {sys,linux}/{stat,types}.ph if required.

Mon Nov 28 02:00:13 GMT 1994  Ian Jackson  <iwj10@cus.cam.ac.uk>

        * dpkg 0.93.10 released.

        * dpkg.pl completely rewritten.

        * dpkg-deb: removed dabase-processing and --install option.

        * Makefiles reworked, debian.rules added.

        * Don't install anything in /usr/doc/examples.

        * dpkg-*.deb contains /usr/bin/dpkg-deb.dist, fixed up by postinst.

Thu Oct 20 13:22:20 1994  Ian Murdock  (imurdock@debra.debian.org)

        * dpkg 0.93.9 released.

        * dpkg.pl: Use $argument, not $package, with `--build'.
        Make sure that saved postinst scripts are executable.

Tue Oct 18 09:40:57 1994  Ian Murdock  (imurdock@debra.debian.org)

        * dpkg 0.93.8 released.

        * deb/remove.c (pkg_remove): Do not report an error from rmdir ()
        when `errno' is ENOTEMPTY (Directory not empty), because in this
        case we have found the highest-level directory in the package and
        are ready to exit the loop (i.e., it is a normal occurrence).

Mon Oct 17 10:44:32 1994  Ian Murdock  (imurdock@debra.debian.org)

        * Makefile.in: Adapted all Makefiles to the GNU Coding Standards.

        * deb/remove.c (pkg_remove): Make sure that parent directories are
        removed LAST!  This will result in complete removal of packages
        when --remove is called.  dpkg 0.93.7 (and earlier) had problems
        with this because it tried to remove directories in order, which
        will work most of the time, but not necessarily all of the time.

        * deb/list.c (pkg_list): Output is sorted by package name.

Tue Oct  4 12:27:10 1994  Ian Murdock  (imurdock@debra.debian.org)

        * deb/contents.c (pkg_contents): When a list file cannot be
        opened, silently fail and let the front-end explain the problem.

        * deb/util.c (return_info): When a control file cannot be opened,
        silently fail and let the front-end explain the problem.

        * deb/search.c (pkg_search): Exit 0 if the regular expression is
        matched and 1 if it is not.

Mon Oct  3 18:38:53 1994  Ian Murdock  (imurdock@debra.debian.org)

        * dpkg.pl: New file.  Replaces dpkg.sh.

        * deb/Makefile.in: Renamed `dpkg-util.deb' to `dpkg-deb'.

        * deb/build.c (pkg_build): `--build' is less verbose, instead
        letting the front-end add verbosity where appropriate.

        * deb/install.c (pkg_install): Ditto.

        * deb/remove.c (pkg_remove): Ditto.

        * deb/search.c (pkg_search): Ditto.

        * deb/describe.c (pkg_describe): `--describe' is less verbose,
        instead letting the front-end add verbosity where appropriate.
        The ``Description:'' label has been removed.

        * deb/version.c (pkg_version): `--version' is less verbose,
        instead letting the front-end add verbosity where appropriate.
        The ``Version:'' label has been removed, as has the maintainer
        information.

Mon Sep 12 14:22:04 1994  Ian Murdock  (imurdock@debra.debian.org)

        * deb/version.c (pkg_version): `--version' now reports the
        version number of dpkg if no argument is specified.

Thu Sep  1 13:31:37 1994  Ian Murdock  (imurdock@debra.debian.org)

        * dpkg 0.93.7 released.

        * deb/build.c (pkg_build): check status and exit if non-zero.

        * deb/contents.c (pkg_contents): ditto.

        * deb/install.c (archive_extract): ditto.

Thu Sep  1 13:20:08 1994  Ian Murdock  (imurdock@debra.debian.org)

        * deb/version.c (pkg_version): indent to the same point as
        pkg_describe.

Thu Sep  1 12:21:11 1994  Ian Murdock  (imurdock@debra.debian.org)

        * Makefile.in (dist): added debian.rules binary, source and
        dist targets to make final distribution easier to make.
        (install): install programs to /usr/bin.

        * deb/Makefile.in (install): install programs to /usr/bin.

        * deb/list.c (pkg_list): enforce a maximum limit of ten characters
        for the package name in the output.
        (pkg_list): left-justify the version number to make it easier for
        the front-end to parse the output.
        (pkg_list): replace first '\n' character in packages[n].description
        with '\0'.

        * deb/install.c (archive_extract): use the `p' option to `tar' to
        ensure that permissions are preserved.

Sat Aug 27 09:53:37 1994  Ian Murdock  (imurdock@debra.debian.org)

        * dpkg 0.93.6 released.

        * deb/util.c (return_info): only unlink CONTROL if ARCHIVE_FLAG is
        true!

Fri Aug 26 15:38:22 1994  Ian Murdock  (imurdock@debra.debian.org)

        * dpkg 0.93.5 released.

        * deb/contents.c (pkg_contents): merged function archive_contents
        into function pkg_contents.

        * deb/contents.c (pkg_contents): use lstat (rather than stat) so
        that symbolic links are recognized.
        (pkg_contents): print the usual `<path> -> <link_to>' now that we
        recognize symbolic links.

        * deb/util.c (return_info): create a FIFO to pipe the needed
        information to the ``formatter'' rather than creating a directory
        in /tmp for the package information, which is what we used to do.

Thu Aug 25 11:46:27 1994  Ian Murdock  (imurdock@debra.debian.org)

        * lib/fake-ls.c (mk_date_string): return a pointer to malloc'ed
        area.
        (mk_mode_string): ditto.

        * dpkg.sh: make sure the control information is extracted to a
        uniquely-named temporary directory during package installation.

        * dpkg.sh: execute the pre- and post-removal scripts during
        package removal.

        * dpkg.sh: exit immediately if dpkg-util.deb reports failure.

        * deb/install.c (pkg_control): make sure that `package' exists and
        is a Debian archive before doing anything.

        * deb/install.c (pkg_extract): make sure that `package' exists and
        is a Debian archive before doing anything.

        * deb/install.c (pkg_install): unlink `extract_output' when done.

        * deb/remove.c (pkg_remove): use lstat (rather than stat) so that
        --remove does not get confused and think that a symbolic link to a
        directory is actually a directory, which results in the symbolic
        link never being removed at all.

ChangeLog begins Thu Aug 25 11:46:27 1994 for dpkg 0.93.5.
