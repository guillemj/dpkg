.\" Hey, Emacs!  This is an -*- nroff -*- source file.
.\" (c) 2003 Software in the Public Interest
.\" Traductor: Rubén Porras Campo <nahoo@inicia.es> y revisada
.\" por Santiago Vila <sanvila@unex.es>
.\" Basado en la versión 1.4 de 
.\" /cvs/debian-doc/manpages/english/dpkg/start-stop-daemon.8

.TH START\-STOP\-DAEMON 8 "15 de marzo de 1997" "Proyecto Debian" "Debian GNU/Linux"
.SH NOMBRE
start\-stop\-daemon \- para y arranca demonios del sistema
.SH SINOPSIS
.B start\-stop\-daemon
.BR \-S | \-\-start
.IR opciones
.RB [ \-\- ]
.IR argumentos
.HP
.B start\-stop\-daemon
.BR \-K | \-\-stop
.IR opciones
.HP
.B start\-stop\-daemon
.BR \-H | \-\-help
.HP
.B start\-stop\-daemon
.BR \-V | \-\-version
.SH DESCRIPCIÓN
.B start\-stop\-daemon
se usa para controlar la creación y terminación de los procesos del sistema.
Usando las opciones
.BR \-\-exec ", " \-\-pidfile ", " \-\-user ", y " \-\-name " opciones,"
.B start\-stop\-daemon
se puede configurar para encontrar distintos procesos del mismo demonio.

Con
.BR \-\-start ,
.B start\-stop\-daemon
comprueba la existencia del proceso especificado.
Si este proceso ya existe,
.B start\-stop\-daemon
no hace nada, y termina con un estado de error 1 (0 si se especifica
.BR \-\-oknodo
).
Si el proceso no existe, comienza uno nuevo, 
usando el ejecutable especificado por
.BR \-\-exec ,
(o, si se especifica, por
.BR \-\-startas
).
Cualquier argumento dado en la línea de órdenes después de
.BR \-\-
se pasa sin modificación alguna al programa que se va a ejecutar.

Con 
.BR \-\-stop ,
.B start\-stop\-daemon
comprueba además la existencia del proceso especificado.
Si este proceso existe,
.B start\-stop\-daemon
envía la señal especificada por
.BR \-\-signal ,
y termina con un estado de error 0.
Si este proceso no existe,
.B start\-stop\-daemon
termina con un estado de error 1 (0 si se ha especificado la opción
.BR \-\-oknodo
). Si se
especifica la opción
.B \-\-retry
entonces 
.B start\-stop\-daemon
comprobará que el proceso o los procesos han terminado.

Dese cuenta que a menos que se especifique
.B \-\-pidfile ,
.B start\-stop\-daemon
se comporta similar a
.B killall(1).
.B start\-stop\-daemon
buscará en la tabla de procesos cualquier proceso que concuerde en nombre, uid
y/o gid (si se especifica). Cualquier proceso que concuerde con los parámetros
prevendrá a
.BR \-\-start
de empezar el demonio. Se mandará a todos los procesos la señal KILL si se
especifica
.BR \-\-stop.
Para los demonios que tengan hijos de larga duración que necesiten sobrevivir a
un
.BR \-\-stop
debe especificar un fichero\-de\-pid.

.SH OPCIONES

.TP
\fB\-x\fP|\fB\-\-exec\fP \fIejecutable\fP
Busca distintos procesos de este ejecutable (según 
.B /proc/\fIpid\fB/exe\fP
).
.TP
\fB\-p\fP|\fB\-\-pidfile\fP \fIfichero\-de\-pid\fP
Comprueba si un procesos ha creado el fichero
.IR fichero\-de\-pid .
.TP
\fB\-u\fP|\fB\-\-user\fP \fInombre\-usuario\fP|\fIuid\fP
Comprueba si existen los procesos del usuario especificado por
.I nombre\-usuario
o
.IR uid .
.TP
\fB\-g\fP|\fB\-\-group\fP \fIgrupo\fP|\fIgid\fP
Cambia a \fIgrupo\fP o \fIgid\fP cuando comienza el proceso.
.TP
\fB\-n\fP|\fB\-\-name\fP \fInombre\-proceso\fP
Comprueba los procesos con el nombre
.I nombre\-proceso
(según
.BR /proc/\fIpid\fB/stat\fP ).
.TP
\fB\-s\fP|\fB\-\-signal\fP \fIseñal\fP
Junto con
.BR \-\-stop ,
especifica la señal enviada al proceso que se desea parar (15 por omisión).
.TP
\fB\-R\fP|\fB\-\-retry\fP \fItiempo\-de\-espera\fP|\fIacción\-programada\fP
Junto con
.BR \-\-stop ,
especifica que
.B start\-stop\-daemon
compruebe que el proceso o los procesos han terminado.  Lo comprobará 
repetidas veces hasta que no haya ningún proceso que coincida. Si el proceso 
no termina tomará una decisión determinada por 
.I acción\-programada .

Si se especifica
.I tiempo\-de\-espera
en vez de
.I acción\-programada
entonces se usa la secuencia
.IB señal / tiempo\-de\-espera /KILL/ tiempo\-de\-espera
, donde
.I señal
es la señal especificada por
.BR \-\-signal .

.I acción\-programada
es una lista de al menos dos artículos separados por barras
.RB ( / );
cada artículo puede ser un
.BI \- número de señal
o [\fB\-\fP]\fInombre de señal\fP,
que significa que se debe mandar esa señal, o
.IR tiempo\-de\-espera,
que significa que se debe esperar esos segundos para que el programa
termine, o
.BR forever ,
que significa que se repite el resto de acción\-programada para siempre 
si es necesario.

Si se alcanza el final de la acción\-programada y no se ha especificado
.BR forever
, entonces
.B start\-stop\-daemon
termina con un estado de error 2.
Si se especifica una secuencia, entonces cualquier señal especificada
con
.B \-\-signal
no se tendrá en cuenta.
.TP
\fB\-a\fP|\fB\-\-startas\fP \fIpathname\fP
Con 
.BR \-\-start ,
comienza el proceso especificado por
.IR pathname .
Si no se especifica, se usarán los argumentos dados con
.BR \-\-exec .
.TP
.BR \-t | \-\-test
Muestra las acciones que se realizarían y devuelve el valor
apropiado, pero no hace nada.
.TP
.BR \-o | \-\-oknodo
Devuelve un estado 0 en vez de 1 si no se realiza (realizasen)
ninguna acción.
.TP
.BR \-q | \-\-quiet
No muestra mensajes informativos, sólo muestra mensajes de error.
.TP
\fB\-c\fP|\fB\-\-chuid\fP \fInombre\-usuario\fR|\fIuid\fP
Cambia a este usuario/uid antes de empezar el proceso. Además puede
especificar el grupo añadiendo
.BR : ,
luego el grupo o el gid del mismo modo que haría con la orden
`chown' (\fIusuario\fP\fB:\fP\fIgrupo\fP).
Debe de darse cuenta que cuando se usa esta opción el grupo primario
y complementario se cambian también, incluso si no se especifica
.B \-\-group .
La opción 
.B \-\-group
es sólo para grupos de los que el usuario no es miembro (como el grupo
nobody ).
.TP
\fB\-r\fP|\fB\-\-chroot\fP \fIdirectorio\-raíz
Efectua chdir y chroot a
.I directorio\-raíz
antes de empezar el proceso. Dese cuenta que el fichero del pid
también es escrito después de hacer el chroot.
.TP
\fB\-d\fP|\fB\-\-chdir\fP \fIdirectorio\fP
Efectua chdir a
.I directorio
antes de empezar el proceso. Esto se hace después de efectuar chroot, si es que
la opción \fB\-r\fP|\fB\-\-chroot\fP está establecida. Si no se especifica,
start\-stop\-daemon ejecutará un chdir al directorio raíz antes de empezar el
proceso. 
.TP
.BR \-b | \-\-background
Usado típicamente con programas que no se separan por sí mismos. Esta
opción forzará
.B start\-stop\-daemon
a hacer fork antes de empezar el proceso, y luego dejarlo en segundo plano.
.B ATENCIÓN: start\-stop\-daemon
no puede comprobar el estado de salida si el proceso no puede ejecutarse
por 
.B cualquier
razón. Esto se hace como último recurso, y sólo tiene sentido usarla en 
programas donde no tiene sentido que hagan fork por sí mismos, o no es
factible añadir el código para que lo hagan por sí mismos.
.TP
\fB\-N\fP|\fB\-\-nicelevel\fP \fIentero\fP
Altera la prioridad del proceso antes de empezarlo.
.TP
.BR \-m | \-\-make\-pidfile
Se usa cuando se quiere comenzar un programa que no crea su propio
fichero de pid. Esta opción hace que
.B start\-stop\-daemon
cree el fichero referido con
.B \-\-pidfile
y coloque el pid dentro de él justo antes de ejecutar el
proceso. Dese cuenta que no se borrará cuando termine el programa.
.B NOTA:
Esta característica no funciona en todos los casos. Más notablemente
cuando el programa que se ejecuta hace fork en su proceso principal.
Por esto solamente es útil cuando se combina con la opción
.B \-\-background .
.TP
.BR \-v | \-\-verbose
Muestra mensajes informativos detallados.
.TP
.BR \-H | \-\-help
Muestra la ayuda y luego termina.
.TP
.BR \-V | \-\-version
Muestra la versión y luego termina.

.SH AUTORES
Marek Michalkiewicz <marekm@i17linuxb.ists.pwr.wroc.pl> basada en una
versión previa de Ian Jackson <ian@chiark.greenend.org.uk>.

Página del manual de Klee Dienes <klee@mit.edu>, reformada
parcialmente por Ian Jackson.

Traducida por Rubén Porras <nahoo@inicia.es>
Revisada por Santiago Vila <sanvila@unex.es>
